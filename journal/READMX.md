# 区块链
  ezos也正在拥抱以Rollup为中心的路线图；NEAR也正在对数据可用性分片进行设计。本文主要讨论以太坊的模块化趋势。
  
  * ![图片](https://user-images.githubusercontent.com/79394963/191827905-ba9e72b5-e587-4a76-bf29-a704f10c4b18.png)
  
  “区块链不可能三角”又限制了所有属性同时实现极致发展的可能，所以单纯地基于单片区块链的思路做扩容是无法解决以太坊的困境的。
  
  * ![图片](https://user-images.githubusercontent.com/79394963/191828043-46f757a1-6202-40fa-8800-851d8ca77863.png)
  
  
  * 模块化混合扩容：layer1（data sharding）+layer2（rollups）

架构设计主要分为四层：执行层、结算层、共识层、数据可用性层。目前很多情况下，行业内也会把执行层和结算层统一称执行层，共识层和数据可用性层统一称为共识层。

* ![图片](https://user-images.githubusercontent.com/79394963/191828358-1f157787-ed51-45b0-9b82-6c0cd8aeafb1.png)

执行层（Execution Layer）：负责处理链上交易、执行链上订单并验证转账和智能合约的执行，主要将以Rollup为主。模块化区块链发展到一定阶段后，用户通常是基于执行层与区块链进行交互，包括签名交易、部署智能合约以及转移资产等。执行层解决了区块链的可扩展性。

结算层（Settlement Layer）：结算层用于验证Rollup等执行层的执行结果以及解决争议，并结算出状态承诺。

共识层（Consensus Layer）：共识层通过全节点网络下载和执行区块的内容，就状态转换的有效性达成共识，从而提供排序和最终确定性，并以PoS机制验证出块。

数据可用性层（Data Availability Layer）：保证交易数据可以被使用（保证存储且可验证与可用）。需要将验证状态转换有效性所需的数据发布并存储在这一层，一旦遭遇恶意区块提议者扣留交易数据的事件，数据可用性层的数据可用作验证。

* ![图片](https://user-images.githubusercontent.com/79394963/191828523-3cfd2015-98b4-4466-b94f-ab2ba822a573.png)

anksharding引入的核心机制主要：PBS和DAS。

PBS（Proposer builder separation）是指构建区块时区块提议者（Proposer）和区块构建者（builder）分离。由Proposer提议区块，Builder竞拍交易的排序权并计算区块头，Proposer根据Builder的计算结果打包交易并将区块头写入区块完成出块。在PBS之前的区块提议者（Merge前是Miner，Merge后是Validator）可以通过查看mempool中有哪些交易并采取一些策略来获得MEV的机会以最大化他们的挖矿收益。引入PBS机制后，这种角色分离机制结合Builder排序权的竞拍机制可以一定程度上解决MEV问题，最后的MEV收益相当于会被全网验证者共享。除此之外，PBS还有助于解决分片与信标链的同步问题、以太坊网络的抗审查问题等。

* ![图片](https://user-images.githubusercontent.com/79394963/191828675-01b6252f-2ea9-4ad6-9732-688494add75c.png)
DAS（数据可用性抽样，Data Availability Sampling）是解决区块链状态爆炸的有效方法。让验证节点检查区块可用性，通过使用DAS检查，轻客户端可以通过仅下载一些随机选择的块来验证一个块是否已发布。由于DAS可以对区块数据做并行化验证，所以未来数据分片（Data Sharding）的数量即使很多，也不会增加单个验证节点的负担，反而会刺激更多验证节点加入，从而保证验证节点的充分去中心化。

最终，Danksharding能够通过PBS实现以太坊的中心化出块，通过DAS实现去中心化验证，并且具备一定程度的抗审查性，从而确保以太坊成为可扩展的共识层和数据可用性层，并且能够承接住执行层的更多Rollups。（PS：中心化出块、去中心化验证也是Vitalik在Endgame中提出的对以太坊未来发展的构想。）

们首先思考这样一个问题，你要在网上买一本书，交易流程是什么？

第一步：你下单之后把钱打给了支付宝。

第二步：支付宝收款后通知卖家可以发货了。

第三步：卖家收到通知后给你发货。

第四步：你收到货之后很满意，于是确认收货。

第五步：支付宝收到了你的通知并打钱给卖家。


虽然你是在和卖家交易，但是整个交易都是围绕支付宝展开。因此，如果支付宝系统出了问题，比如天上降下来一块陨石，把支付宝的服务器全砸了，或者由于全球经济危机支付宝倒闭了，无奈的支付宝只好淡然地表示不存在这笔交易，那么这笔交易就会以失败告终，到时候买家卖家就会纠缠不清，双方无法自证。

明去中心化的区块链是如何运行的，我们先把整个去中心化的分布式结构简化为一个极端的情况来探究。我们假设有一个去中心化的小城市，在这个城市里有5个可爱活泼的小伙伴，他们互相借钱的时候，是这么干的：

假设B向A借了1块钱，这个时候，城市里的人怎么办呢？A在人群中大喊：“我是A，我借给了B1块钱！”B也在人群中大喊：“我是B，A借给了我1块钱！”

此时城市里的其他人C、D、E都听到了这些消息，他们拿出了手中的小账本并默默记下：“某年某月某日，A借给了B1块钱。

去中心化的模型极度简化之后，我们就会发现，在这个只有5个人的城市中，已经建立了一个去中心化的系统，这个系统不需要银行，也不需要支付宝。这个模型不需要信任关系，也不需要一个拥有公信力的组织。当分布式结构中的每个人都记账的时候，篡改账本是不可行的。比如B突然不认账了：“我不欠A的1块钱！”这个时候，人民群众C或D或E就会站出来说：“不对，我的账本上明明记录了你在某年某月某日向了A借了1块钱，并且没有查到你还款的记录

没有发现一个问题，在这个模型中，所谓的1块钱根本不重要，也没有人在意，“1块钱”已经变成了一个变量，它可以被替换成任何概念，只要大家承认这是一个有价值的东西即可。

比如A在这个城市中大喊一声：“我创造了一个巴拉拉能量！”城市中的其他人都听见了，于是大家纷纷在自己的小本子上记下“某人有一个巴拉拉能量”，大家甚至不用知道巴拉拉能量是什么，A竟然真的有了一个巴拉拉能量。之后呢？A还能干什么呢？A可以再大喊一声：“我给了B一个巴拉拉能量

问题一：凭什么帮你记账？

凭什么你对着天空大喊一声，别人就要帮你记账，别人的时间不要钱吗？别人的小本子不要钱吗？于是，为了让大家都帮我记账，我增加了一条新的规则，我决定给第一个听到我喊话并且将其记录在小本子上的人奖励。奖励机制也很简单，第一个听到我喊话并记录下来的人，可以得到一个巴拉拉能量的奖励。

这个巴拉拉能量不是白给的，是对你劳动的报酬，就像打工可以挣钱一样，你帮我记账，整个系统都会给你报酬。你要做的事情，有这样几点：首先，你要抢在所有人之前听到了我的喊话并记在了自己的小本子上；记录之后，你还要马上告诉整个城市里的人——这句话我记录完了，你们再记录也没有用了，别人就会放弃这笔赚钱的生意；与此同时，你还要做一件事，就是给自己的记录加一个独一无二的编号，然后把记录和编号一起喊出来，于是，下一个人再记录的时候，就会带着这个记录和独一无二的编号继续下去。

* ![图片](https://user-images.githubusercontent.com/79394963/191889909-5274edf9-6e29-4e9f-9df6-497be75cd3b3.png)
区块链系统大约每10分钟会创建一个区块，其中包含了这段时间里全网范围内发生的所有交易。每个区块中也包含了前一个区块的ID（识别码），这使得每个区块都能找到其前一个节点，这样一直倒推就形成了一条完整的交易链条。从诞生之初到运行至今，全网随之形成了一条唯一的主区块链。[3]

二、哈希算法

哈希算法是区块链中保证交易信息不被篡改的单向密码机制。哈希算法接收一段明文后，以一种不可逆的方式将其转化为一段长度较短、位数固定的散列数据。

它有两个特点：

1. 加密过程不可逆，意味着我们无法通过输出的散列数据倒推原本的明文是什么；

2. 输入的明文与输出的散列数据一一对应，任何一个输入信息的变化，都必将导致最终输出的散列数据的变化。

* ![图片](https://user-images.githubusercontent.com/79394963/191890008-19213c90-1194-446b-85cd-02ae6b068fe2.png)

在区块链中，通常使用SHA–256（安全散列算法）进行区块加密，这种算法的输入长度为256位，输出的是一串长度为32字节的随机散列数据。[4]区块链通过哈希算法对一个交易区块中的交易信息进行加密，并把信息压缩成由一串数字和字母组成的散列字符串。区块链的哈希值能够唯一而准确地标识一个区块，区块链中任意节点通过简单的哈希计算都可以获得这个区块的哈希值，计算出的哈希值没有变化也就意味着区块中的信息没有被篡改。

* ![图片](https://user-images.githubusercontent.com/79394963/191890099-a8cda27b-7820-4b96-96f5-0bb0b3070977.png)

在区块链的话题中，我们还经常听到这样的词汇——公钥和私钥。这就是俗称的不对称加密方式，是对以前的对称加密方式（使用用户名与密码）的提高。

我们用电子邮件加密的模型来简单介绍一下：公钥就是给大家用的，你可以通过电子邮件发布，可以通过网站让别人下载，公钥其实是用来加密/验章的。私钥就是自己的，必须非常小心保存，最好加上密码，私钥用来解密/签章，私钥由个人拥有。
在比特币的系统中，私钥本质上是32个字节组成的数组，公钥和地址的生成都依赖私钥，有了私钥就能生成公钥和地址，就能够花费对应地址上面的比特币。私钥花费比特币的方式就是对这个私钥所对应的未花费的交易进行签名。

* ![图片](https://user-images.githubusercontent.com/79394963/191890412-a3fc3873-766f-43b7-bb67-54cb8e5c7cc1.png)


信息发送者：用私钥对信息进行签名，使用信息接收方的公钥对信息加密。

信息接收方：用信息发送者的公钥验证信息发送者的身份，使用私钥对加密信息解密。

四、时间戳

区块链中的时间戳从区块生成的一刻起就存在于区块之中，它对应的是每一次交易记录的认证，证明交易记录的真实性。

时间戳是直接写在区块链中的，而区块链中已经生成的区块不可篡改，因为一旦篡改，生成的哈希值就会变化，从而变成一个无效的数据。每一个时间戳会将前一个时间戳也纳入其随机哈希值中，这一过程不断重复，依次相连，最后会生成一个完整的链条。

* ![图片](https://user-images.githubusercontent.com/79394963/191890665-3744798f-f78a-4545-92b0-7fc42eb36984.png)

区块链利用Merkle树的数据结构存放所有叶子节点的值，并以此为基础生成一个统一的哈希值。Merkle树的叶子节点存储的是数据信息的哈希值，非叶子的节点存储的是对其下面所有叶子节点的组合进行哈希计算后得出的哈希值。[6]

同样地，区块中任意一个数据的变更都会导致Merkle树结构发生变化，在交易信息验证比对的过程中，Merkle树结构能够大大减少数据的计算量，毕竟，我们只需验证Merkle树结构生成的统一哈希值就可以了

* ![图片](https://user-images.githubusercontent.com/79394963/191890714-2a3b605a-0932-4df4-bf16-986b1098d373.png)

比特币的特点之一就是不可篡改，所有的记录都是无法篡改的，并且公开可查。一旦黑客公布的比特币地址收到了比特币，那么账本上就多了一笔记录，每个人手里的账本会同步更新。每个人都能查到这个记录，之后这个地址的各种转账、提现记录也都是可查的。只要黑客进行了比特币提现这类需要和现实交互的操作，就一定会露出蛛丝马迹.

* ![图片](https://user-images.githubusercontent.com/79394963/191890807-49f9998b-c14f-4585-a46a-9a1dc37ce44b.png)

在区块链中，所有的节点向上回溯，都会到达源头，即区块链中的第一个区块，也就是“创世区区块”。

* ![图片](https://user-images.githubusercontent.com/79394963/191890868-46834b6e-f4ca-4dfd-950d-d9f0e27d5e3a.png)

在“创世区块”诞生之后，比特币的用户通过不断地“做题”，即通过计算寻找满足特定SHA–256哈希值对应的数值解。这个过程就是比特币中的“挖矿”。[7]

当任意一个用户优先计算出符合要求的数值解时，就会在全网范围内广播，而网络中的其他节点收到这条信息会进行验证，若通过验证，其他节点就会放弃计算，并将新创建的区块加到前一个区块的后面

* ![图片](https://user-images.githubusercontent.com/79394963/191890915-b696ed3a-ee13-4f36-99c7-b43af80596ca.png)

比特币一个区块的容量是1M，1M=1 024KB（千字节）=1 048 576字节，那么一个区块包含的交易总数为：1 048 576÷250≈4 194.3（笔）。比特币中一个区块确认的时间是10分钟，10分钟=600秒，
那么一个区块每秒能处理的交易数为：4 194.3÷600≈7（个）。区块每秒只能处理7笔交易，要是交易数据再大点，可能连7笔都达不到。这样会造成一个结果，比特币上的交易拥堵而缓慢。一笔交易发生之后，前面还有好多交易在排队等待确认，到底要等到什么时候啊？总有一天堵塞到一定程度就会超过容量极限，然后就崩溃了！
1. Bitcoin Classic（比特币经典版），此方案认为应该将这个字段的最大值调到2M，并且以后有计划取前2 016个区块大小的中位数再乘一个约定好的倍数来决定下一批区块的大小上限。

2. Bitcoin XT（比特币新版），此方案认为这个值应该修改为20M，并且每两年翻一番，直到上限值达到8.3G（千兆字节）。

3. Bitcoin Unlimited（比特币无限版），此方案认为这个值多大都行，甚至可以无限大，由矿池决定其大小。
硬分叉的特点如下：

1. 没有向前兼容性，之前的版本将不可再用，需要强制升级；

2. 在区块链层面会有分叉的两条链，一条旧链，一条分叉新链；

3.需要在某个时间点全部同意分叉升级，不同意的将会进入旧链

软分叉的定义是这样的：

软分叉是指比特币交易的数据结构发生改变时，未升级的节点可以验证已经升级的节点生产出的区块，而且已经升级的节点也可以验证未升级的节点生产出的区块
1. 有较好的兼容性，之前版本的部分功能可用，可不升级；

2. 在区块链层面没有分叉的链，只是组成链的区块有新区块和旧区块之分；

3. 相当长的时间里，可允许不进行升级，继续使用原版本生成旧区块，与新区块并存。

* ![图片](https://user-images.githubusercontent.com/79394963/191891123-2c85479a-3696-4210-8450-6124ff854175.png)

区块链技术实际上是一个分布式数据库，在这个数据库中记账不是由个人或者某个中心化的主体来控制的，而是由所有节点共同维护、共同记账的。所有的单一节点都无法篡改它。

如果你想篡改一个记录，你需要同时控制整个网络超过51%的节点或计算能力才可以，而区块链中的节点无限多且无时无刻都在增加新的节点，这基本上是不可能完成的事情，而且篡改的成本非常高，几乎任何人都承担不起。


# 人物

管他究竟是谁，什么时候出现，此生还会不会出现，他都实现了我小时候大声喊出的梦想——“我要改变世界”“我要成为世界未解之谜”。下面我们就来具体讲讲这位传奇人物的传奇经历。

传说中的中本聪被描绘成一个集经济学家、数学家、密码学家以及顶级黑客为一体的人物，他的传奇历史始于2008年11月1日，这一天，他发表了一篇论文《比特币：一种点对点的电子现金系统》，之后他又把理论付诸实践，在2009年1月4日创造了比特币世界的第一个区块，我们称之为“创世区块”，同年1月11日，他开发了一个客户端，其名称非常朴素——比特币客户端0.1版，召唤各路小伙伴们一起玩耍。

故事慢慢演化，比特币终于有了第一笔交易，比特币有汇率了，比特币的技术爱好者有聊天室了，比特币挖矿难度调整了，比特币被某个国家的法律认可了，比特币市值近400亿美元（按2017年5月数据估算）……当然，比特币的成长过程中也伴随着一些“负能量”，诸如比特币暴涨、暴跌，比特币被盗、被告。总之，比特币的历史精彩纷呈，我们会在后面详细阐述。

* ![图片](https://user-images.githubusercontent.com/79394963/201480298-a634e9e8-8b65-42e2-82c6-cdda25fee124.png)

在这些事件中，中本聪扮演着一个什么角色呢？事件创造者。为什么这么说？因为他消失了，全世界都没人见过中本聪，也没有人听过他的声音，FBI（美国联邦调查局）和全世界的媒体都在找他，但是谁也没找到，大家都能看到2008年比特币创始初期他在论坛、邮箱、网站主页的发言，针对这些看似线索的发言的探究到最后都被逼入了死胡同。

中本聪，在各处的配图中，永远都是用一个背影来代替，但是，我们期待“每个中本聪”创造的99种传说。

当尼克·萨博被自动售货机“砸中”牛顿被树上掉下来的“上帝的苹果”砸中，于是茅塞顿开，发明了牛顿运动定律。在区块链领域，也有这么一个人被自动售货机“砸中”，他发明了智能合约。

尼克·萨博，他是一位计算机科学家、密码学家、法律学者，是智能合约等创新概念的先驱，他还曾被人怀疑是中本聪。目前，他正在募集资金，打算建立一个区块链技术公司。


* ![图片](https://user-images.githubusercontent.com/79394963/201480341-ad2ad600-99c3-4c0e-a5c5-2db385a02ac5.png)

本质上讲，这些自动合约的工作原理类似于其他计算机程序的“if–then”语句。智能合约只是以这种方式与真实世界的资产进行交互。当一个预先编好的条件被触发时，智能合约执行相应的合同条款。 [2] 目前，瑞士联合银行、英国巴克莱银行以及美国摩根大通等金融机构都在研究把智能合约用于自动化交易结算，这种方式能大大降低成本。

* ![图片](https://user-images.githubusercontent.com/79394963/201480361-d7383d89-8038-459b-906f-0a8606f8ade8.png)

等到以上三大条件都实现的时候，我们就会发现智能合约已经变得像如今的支付宝一样，你不需要知道背后的技术，但你信任它，而且你不得不使用它来完成交易。在区块链的世界里，智能合约将会无处不在。

从华尔街走出的区块链女性领袖人物

因为比特币及其背后的区块链技术天生带着一种极客的气息以及一种“尔等凡人你们看不懂夜的黑”的高傲气质，所以，区块链行业的权威和意见领袖更多是低调、不爱发表观点的男性。

但是，其中仍然有几位巾帼不让须眉的女性意见领袖，比如区块链创业公司BlockCypher的CEO（首席执行官）凯瑟琳·尼科尔森，该公司已经筹集了350万美元的资金，还有数字资产控股公司的CEO布莱斯·马斯特等。

* ![图片](https://user-images.githubusercontent.com/79394963/201480384-af04ca82-2031-428f-a974-78534cc52265.png)

 从小自学Basic语言

我们先来简要说一下这位传奇人物的履历，马克·安德森虽然不像比尔·盖茨、乔布斯那么出名，但是他所走的每一步都和互联网的发展密切相关，我们可以从他的几次创业经历谈一谈。

在最初的十多年里，围绕在安德森身上的光环是“网景公司”——第一代浏览器的缔造者。1992年，安德森和小伙伴一起研发出了第一个加入图像元素的网页浏览器Mosaic。1993年，安德森和合伙人成立了网景公司。1995年，网景公司在纽约上市，市值一度达到29亿美元。24岁的安德森也因此在一夜之间成为亿万富翁。之后，由于IE浏览器（微软公司的网页浏览器）的兴起，1999年，网景公司被迫出手给美国在线，安德森的第一段创业经历结束了。

安德森的第二段创业经历也踩在互联网的风口上，他和合伙人创办了一家云计算公司，名为“Loudcloud”，不过2002—2006年，美国进入了互联网泡沫破裂的时代，风投公司不愿意资助互联网企业，2007年，该公司以16亿美元的价格出售给惠普公司。

之后，安德森又加入了Facebook（脸谱网）董事会，给Twitter（推特网）当时的CEO伊万·威廉姆斯当咨询顾问，2009年，安德森和本·霍罗维茨创建了安德森–霍罗维茨风投公司。

而马克·安德森与区块链的结缘也和这家风投公司有关，安德森–霍罗维茨风投公司投资了比特币交易平台Coinbase，比特币创业公司21Inc和区块链数据商TradeBlock。当然，这些远不能成为他被列为区块链领域风云人物的有力例证

* ![图片](https://user-images.githubusercontent.com/79394963/201480406-0233ec33-e0d5-4930-a7ad-1cfec74dcf18.png)

数字货币集团拥有投资公司、收购公司以及永久持有资本的权力，我们不是一个基金，不需要把资金返还给有限合伙人，而是在公司内部重新部署资本。我们的目标是加快一个更好的金融体系的发展。巴里·希尔伯特


# 参考

* 智能合约将使我们未来不需要银行和律师 [EB/OL]. (2016–06–21) [2017–05–18]. http://it.sohu.com/20160621/n455402402.shtm

* 巴比特。数字资产CEO: 银行将在两年内应用区块链技术，但是成为主流需要5—10年[EB/OL]. (2016–04–07) [2017–05–18]. http://www.8btc.com/blockchain-in-banks-a-reality.

*  巴里·希尔伯特谈DCG在数字货币领域的投资策略[EB/OL]. (2016–02–01) [2017–05–18]. http://www.okcoin.cn/t-1010622.h

* ![图片](https://user-images.githubusercontent.com/79394963/201480588-07a3fb18-9e78-4e32-ba92-db6ccc3906ec.png)

区块链技术已经被许多银行认可，多家银行成立了相关的区块链实验室，致力于利用区块链技术打造一个针对银行后台的终极改造工具。一份来自西班牙的报告称，如果银行内部全都使用区块链技术，在2022年以前银行每年都能节省150亿—220亿美元的成本。

区块链+跨境支付

目前主流的传统跨境汇款方式是电汇，其汇款周期一般长达3—5个工作日，除了中间银行会收取一定的手续费，SWIFT（环球同业银行金融电讯协会）也会对通过其系统进行的电文交换收取较高的电讯费，例如在我国通过银行进行跨境汇款会被收取单笔150元的电讯费。

* ![图片](https://user-images.githubusercontent.com/79394963/201480612-1d622cdc-7f74-4a0c-995f-40c0fccec973.png)

区块链+供应链

供应链金融，简单地说，就是银行将核心企业和上下游企业联系在一起提供灵活运用的金融产品和服务的一种融资模式，也就是把资金作为供应链的一个溶剂，增加其流动性。

在如今的供应链金融体系中，一个特定商品的供应链包括从原材料采购到制成中间产品及最终产品，最后由销售网络把产品送到消费者手中，将供应商、制造商、分销商、零售商，直到最终用户串连成一个整体。

* ![图片](https://user-images.githubusercontent.com/79394963/201480635-01bf2f16-c35c-46be-b49f-5f3819be218c.png)

区块链+信息

银行一旦建立起了自己的区块链，由于其具有不能篡改的特性，客户信息与交易记录被确认后便不受任何人为干预，也无法篡改。这有助于银行识别异常交易，防止欺诈行为的发生。

同时，银行还可以利用区块链技术建立一个分布式账本信息系统，以此检测和分析所有节点用户的交易行为，一旦有异常行为发生，系统就会发出报告，从而有效地防范欺诈、洗钱等违法行为的发生。

* ![图片](https://user-images.githubusercontent.com/79394963/201480651-501ca9b6-3aec-482c-bf8e-675c1567df20.png)

区块链热度飙升的背后，世界各国政府、大型金融机构、企业集团纷纷投入大量资源对区块链进行研究。OKCoin币行旗下的应用OKLink是构建于区块链技术之上的新一代全球金融网络，也是中国首个商业化的区块链应用，它致力于推动全球价值传输效率，同时提升全球汇款用户体验。该应用目前已覆盖20多个国家和地区，包括中国、日本、韩国以及东南亚国家等。主要客户是全球中小型金融参与者，包括银行、汇款公司、互联网金融平台等，每月交易额达到几千万美元。

* ![图片](https://user-images.githubusercontent.com/79394963/201480672-b9e817e2-fb4e-4b70-b520-00ac691062c9.png)

传统跨境汇款方式的缺点：周期长、收费高。而基于区块链技术进行跨境汇款的OKLink可以在去中心化的机制下，使用户以更低的费用和更快的速度完成跨境转账。OKLink使用区块链技术让汇款方和收款方直接进行支付、结算，省掉了所有的中间环节费用，整个网络只在中间汇率的基础上收取不超过0.5%的费用，绝无其他隐藏费用，并且保证收款人能够收到约定的金额。

* ![图片](https://user-images.githubusercontent.com/79394963/201480693-b4f478c7-e321-4fd9-a4d4-9c14e8b3abee.png)


区块链技术在互联网安全管理及认证等领域也有很大的优势，被频繁地使用于社交网络、身份证、学历验证等方面，这一节我们将从一个比较具体的方面——身份证讲起。当区块链遇见身份证，会产生怎样的化学反应？如果区块链世界有身份证，又会长什么样？下面，我们就来研究一个神奇的名词——“分布式智能身份认证系统”，也就是区块链世界的“身份证”。
身份证是一件神奇的东西，平时不显眼，离了它却又寸步难行。身份证是用于证明持有人身份的证件，我们住酒店、买车票处处都会用到它，一旦丢失、忘带、被盗用，简直就是一场灾难。
如果你还在担心身份证引发的各种问题，那么基于区块链技术的智能身份认证系统或许可以帮你消除困扰。属于你的区块链身份证会显示你的护照照片、在线头像，姓名下方有一个不可更改的密钥创建日期以及密钥标识，这张身份证上还分布着签名栏、专属二维码、交易编号以及哈希算法证明。

* ![图片](https://user-images.githubusercontent.com/79394963/201480728-9ab69837-bfab-414d-876b-792051cd7c66.png)


下面详细介绍创建并使用区块链身份证的步骤，大体分为三步：

1. 取一个独特的名字

这样其他人就能找到你的区块链ID，只要你好好保存你的密码，那么没有人可以夺走你的名字。

2. 创建并确认你的个人档

把你的区块链身份证和社会网络档案连接起来，证明这是你本人的区块链身份证并确认你的个人信息。

3. 开始使用你的区块链身份证


* ![图片](https://user-images.githubusercontent.com/79394963/201480740-8163358a-0596-4c96-b13a-8189c3f4ac63.png)


* ![图片](https://user-images.githubusercontent.com/79394963/201480775-56f186b2-85da-4cc7-bdc4-7c322357981a.png)

你的区块链身份证共享在你的网页、社交网络档案以及名片上，这样人们就可以很容易地在网上找到你了。区块链身份证有两个优势：安全、便捷地解决信息丢失问题；永远不会丢失、永远不会被篡改。


* ![图片](https://user-images.githubusercontent.com/79394963/201480814-03771293-abe5-484e-aad1-90c15cb29266.png)


* ![图片](https://user-images.githubusercontent.com/79394963/201480839-bbff1f8a-01e5-400e-b8ed-014cbd060d65.png)

“赞赏”期望通过智能合约规范所有作品权利的行使与追溯，同时在作品创作过程中即引入版权服务商进行交易。这可以被称作区块链的版权一条龙服务，从源头到产品，一旦确权便不可修改。我们可以设想一下，如果区块链版权证明大规模推广，那些抄袭者们也不会像如今这样猖狂。
利用区块链技术解决版权维护问题，看上去是一件很美的事情，但实际上它面临着三大挑战：

1. 区块链技术的商业化应用和大众化普及，就像如今流行的VR（虚拟现实），虽然概念已经脍炙人口，但普及率依然很低。

* ![图片](https://user-images.githubusercontent.com/79394963/201480910-afc12221-a90b-4884-9f41-cba3013e7eca.png)


# 参考

* Australian Startup Cyph MD uses Blockchain Technology For Data Sharing in Healthcare[EB/OL]. (2016–08–09) [2017–05–18].http://www.the-blockchain.com/2016/08/09/australian-startup-cyph-md-uses-blockchain-technology-datasharing-healthcare/.

*  Babyghost and VeChain: Fashion on the Blockchain[EB/OL]. (2016–10–18) [2017–05–18].https://bitcoinmagazine.com/articles/babyghost-and-vechain-fashionon-the-blockchain-1476807653/.

*  Blockchain Going for a Song: New Tech Tunes Up Music Industry[EB/OL]. (2016–05–22) [2017–05–18].https://cointelegraph.com/news/blockchain-going-for-asong-new-tech-tunes-up-music-industry.

* Filament Nets $5 Million for Blockchain-Based Internet of Things Hardware[EB/OL]. (2015–08–18) [2017–05–18].http://www.coindesk.com/filamentnets-5-million-for-blockchain-based-internet-of-things-hardware/.

* IBM Reveals Proof of Concept for Blockchain-Powered Internet of Things[EB/OL]. (2015–01–17) [2017–05–18].http://www.coindesk.com/ibm-revealsproof-concept-blockchain-powered-internet-things/.


* [1] 区块链技术演进史[EB/OL]. (2016–04–25) [2017–05–18].http://tech.hexun.com/2016–04–25/183507891.html.

* [2] 分布式一致性算法——Paxos [EB/OL]. (2016–06–27) [2017–05–18].http://www.cnblogs.com/cchust/p/5617989.html.

* [3] BTC电子货币系统背后的技术 [EB/OL]. (2013–12–20) [2017–05–18].http://it.dataguru.cn/article-3986-1.html.

* [4] 比特币的五年历程(全文更新完) [EB/OL]. (2016–08–13) [2014–01–08].http://8btc.com/thread-2603-1-1.html.

* [5] 协议漏洞产生1 840亿枚比特币 [EB/OL]. (2010–08–15) [2017–05–18].http://www.8btc.com/184-billion-bitcoins.

* [6] 比特币：数字时代的“挖矿”江湖[EB/OL]. (2017–03–03) [2017–05–18].http://www.fx361.com/page/2017/0303/922619.shtml.

* [7] BitPay推出比特币电子钱包[EB/OL]. (2011–06–29) [2017–05–18].http://www.8btc.com/bitpay-launches-e-wallet.

* [8] 比特币销售终端 (POS) 研制成功 [EB/OL]. (2011–11–10) [2017–05–18].http://www.8btc.com/bitcoin-pos.

* [9] FBI得到丝绸之路的比特币成为新首富[EB/OL]. (2013–10–25) [2017–05–18].http://www.8btc.com/fbi-ross-ulbricht-2.







# 区块链底层架构

* ![图片](https://user-images.githubusercontent.com/79394963/191891212-daccdc06-1acc-4f26-a028-43721359a159.png)

网络层的主要目的是实现区块链网络中节点之间的信息交流。区块链网络本质上是一个P2P（点对点）网络。每一个节点既接收信息，也产生信息。节点之间通过维护一个共同的区块链来保持通信。

区块链的网络中，每一个节点都可以创造新的区块，在新区块被创造后会以广播的形式通知其他节点，其他节点会对这个区块进行验证，当全区块链网络中超过51%的用户验证通过后，这个新区块就可以被添加到主链上了。

共识层能让高度分散的节点在去中心化的系统中高效地针对区块数据的有效性达成共识。区块链中比较常用的共识机制主要有工作量证明、权益证明和股份授权证明三种，我们在下面的章节中会重点讲解。

激励层的主要功能是提供一定的激励措施，鼓励节点参与区块链的安全验证工作。我们以比特币为例，它的奖励机制有两种。在比特币总量达到2 100万枚之前，奖励机制有两种，新区块产生后系统奖励的比特币和每笔交易扣除的比特币（手续费）。而当比特币总量达到2 100万时，新产生的区块将不再生成比特币，这时奖励机制主要是每笔交易扣除的手续费。

五、合约层

合约层主要是指各种脚本代码、算法机制以及智能合约等。我们以比特币为例，比特币是一种可编程的货币，合约层封装的脚本中规定了比特币的交易方式和过程中涉及的种种细节。

六、应用层

应用层封装了区块链的各种应用场景和案例，比如基于区块链的跨境支付平台OKLink，以及在“应用篇”中我们将讲到的五花八门的应用。

区块链的基本类型

一、公有链

公有链是指全世界任何人都可读取、任何人都能发送交易且交易能获得有效确认，任何人都能参与共识过程的区块链——共识过程决定哪个区块可被添加到区块链中，同时明确当前状态

公有链有如下几个特点：

1. 保护用户免受开发者的影响

在公有链中程序开发者无权干涉用户，区块链可以保护其用户。

2. 访问门槛低

任何人都可以访问，只要有一台能够联网的计算机就能够满足基本的访问条件。

3. 所有数据默认公开

公有链中的每个参与者可以看到整个分布式账本中的所有交易记录。

二、私有链

私有链是指其写入权限仅在一个组织手里的区块链，目的是对读取权限或者对外开放权限进行限制。

* ![图片](https://user-images.githubusercontent.com/79394963/191891347-f6fb3c52-5fdf-4f28-8ae9-f0c51a6a2304.png)

私有链有如下几个特点：

1. 交易速度非常快

私有链中少量的节点具有很高的信任度，并不需要每个节点都来验证一个交易。因此，私有链的交易速度比公有链快很多。

2.为隐私提供更好的保障

私有链的数据不会被公开，不能被拥有网络连接的所有人获得。

3.交易成本大幅降低甚至为零

私有链上可以进行完全免费或者至少说是非常廉价的交易。如果一个实体机构控制和处理所有的交易，它就不再需要为工作收取费用。

4.有助于保护其基本的产品不被破坏

银行和传统的金融机构使用私有链可以保证它们的既有利益，以至原有的生态体系不被破坏。

三、联盟链

联盟链是指其共识过程受到预选节点控制的区块链。例如，对由15个金融机构组成的共同体而言，每个机构都运行着一个节点，为了使每个区块生效需要获得其中半数以上也就是8家机构的确认。区块链可能会允许每个人读取，也可能会受限于参与者走混合路线

* ![图片](https://user-images.githubusercontent.com/79394963/191891396-3aaedbbe-90ed-4335-a4dc-a91618db09e7.png)

区块链分类中的其他几种说法——许可链、混合链和复杂链。

许可链是指每个节点都需要许可才能加入的区块链系统，私有链和联盟链都属于许可链。随着区块链技术的日益发展，区块链的技术架构不再简单地划分为私有链和公有链，它们之间的界限越来越模糊，于是复杂链和混合链的概念就逐渐被人提出来了。

区块链的发展脉络

根据区块链科学研究所创始人梅兰妮·斯万（Melanie Swan）的观点，区块链技术发展分三个阶段或领域：区块链1.0、区块链2.0和区块链3.0。

区块链1.0：以比特币为代表的可编程货币。它更多是指数字货币领域的创新，如货币转移、兑付和支付系统等。

区块链2.0：基于区块链的可编程金融。它更多涉及一些合约方面的创新，特别是商业合同以及交易方面的创新，比如股票、证券、期货、贷款、清算结算、所谓的智能合约等。

区块链3.0：区块链在其他行业的应用。它更多地对应人类组织形态的变革，包括健康、科学、文化和基于区块链的司法、投票等。

* ![图片](https://user-images.githubusercontent.com/79394963/193398262-1441d833-c685-41a3-9288-8560139b4c3b.png)


# 分析公链L1层


技术指标


节点处理要求：有效运行一个节点所需的最低CPU/计算资源。
每秒交易量（TPS）：每秒钟在链上处理和验证的交易。

链增长（Chain Growth）：最长链的平均增长速度。

链质量（Chain Quality）：最长的链中诚实区块的比例。

最终确认时间（Time to Finality）：从交易提交到链上确认的时间。

节点数量：参与共识、执行或两者的节点数量。

区块大小：一个区块允许包含的最大数据量。

技术属性


安全性——网络中的节点通过密码学和/或博弈论难度来传递和验证交易的能力。

活跃性——网络中的节点交换信息/达成共识的能力。

可扩展性——网络可以验证或处理交易的速度和能力。

节点要求——用户运行节点和参与治理决策的准入门槛。

中本聪系数——衡量去中心化的一个指标，破坏网络中至少一个子系统所需的验证者/实体的数量。(即成功发起51%攻击所需的资源)

可升级性——网络/社区提出、评估和实施协议变化的能力。

生态系统增长指标


锁定的总价值（TVL）——链上资产的总价值。
每日交易量——每天处理的交易数量。

生态系统属性


易集成性/可组合性——应用程序与网络上的其他应用程序互动、建立和集成的能力。

用户体验——普通用户能够理解和参与链上的应用的难易程度。

社区参与——项目的利益相关者与应用程序本身、其他用户和开发人员互动的程度。

让我们看看这些属性是如何结合在一起的，以促进我们对于如何评估一个网络的理解。例如，链的增长和链的质量等基础技术指标可以用来确定安全性、活跃度和去中心化等属性，反过来，这些属性也有助于确定哪些基础设施的组成部分是启动网络所必需的。这些必需的基础设施也是建立在其之上的Dapp成功的关键。

我们可以通过一些方式来跟踪生态系统的增长，所有这些方式也都与速度、效率和活动相关。这些方式包括社区通过社交媒体参与的指标和财务指标（如协议收入和锁定总价值 TVL）。利用这些指标，我们可以更好地了解一个生态系统的成功及其未来增长的潜力。

L1层性能堆栈


生态系统属性：社区参与｜用户体验/用户界面｜整合的便利性/DApp的可移植性
生态系统增长指标：锁定的总价值（TVL）| 每日交易量 | 社交媒体增长（Discord / Telegram / Twitter）| 开发人员数量 | 协议收入

基础设施要求：数据可用性 | 跨链互操作性 | 可搜索性/索引 | 开发者工具

新出现的技术特性：容错性|安全性|有效性|可扩展性|分散性|可升级性

基础技术指标：节点处理要求 | 节点数量 | 每秒交易量 (TPS) | 链的增长 | 链的质量 | 区块大小 | 延迟 | 停机时间 | 传播时间 | 中本聪系数



* ![图片](https://user-images.githubusercontent.com/79394963/193398349-b3ff3a71-b6cc-40a7-82bc-92da2415691b.png)

*  ![图片](https://user-images.githubusercontent.com/79394963/193398408-41878f1b-4d46-46bd-afae-da4a2e000f39.png)







上面的框架中有很多术语。传统上，"区块链三难困境"提供了一种快速评估区块链的好方法。那么，我们如何在去中心化、可扩展性和安全性方面构建这些属性？
可扩展性


横向可扩展性——网络的处理能力（以“每秒交易量”衡量）应该随着参与节点的数量而增加。一个理想的L1将使其TPS与节点数（n）呈线性扩展。然而，稍微的亚线性扩展是可以接受的。(我们承认，线性扩展是一种更合适的属性--大多数L1的扩展是亚线性的）。

* ![图片](https://user-images.githubusercontent.com/79394963/192789245-95a83548-dd5a-40a1-8b2d-463ec793170d.png)

（线性）


* ![图片](https://user-images.githubusercontent.com/79394963/192789490-0be245da-746f-4b19-b1c5-3a0b0ec6bb33.png)

（亚线性）

* ![图片](https://user-images.githubusercontent.com/79394963/192789622-de62b8ac-c6ea-4e4a-8775-444401177671.png)


低开销——相对于处理每笔交易的成本，实现共识、安全和本列表中所有其他属性的额外计算成本应该最小化。为了获得亚线性扩展，我们需要用于验证状态更新的资源量（q）与用于计算状态转换的计算资源量（p）成亚线性。


缩短最终结果的时间——从提交交易到状态更新最终完成的时间应该最小化。

去中心化性


可组合性/原子性——所有在L1上运行的应用程序应该能够互操作。例如，用户应该能够发送原子交易，以结合任何两个应用程序的功能。系统的状态应该作为一个统一的对象工作，而不会让用户 "滞留 "在零散的状态中。在处理分片链的时候，这个问题尤其重要。

最终性——状态必须在某个时间点之后变得不可改变。最终性允许用户使用L1来执行有链外成分的交易。最终性可以通过加密或经济上的方式实现（即，执行“双花攻击”变得不可行）。
安全性


安全性/健全性——恶意的一方或多方不应该能够以高概率说服网络执行无效交易。区块链应该规定一套强有力的保证，通过博弈论的激励措施来抑制不良行为，或者建立加密原语(算法)，使这种攻击在计算上不可行。
抗审查——每个人都应该有平等的机会进入系统。参与协议的计算机不应拒绝任何参与者的访问。参与共识/验证的门槛应该很小（即运行一个节点的最低计算/存储要求）。
容错性——任何攻击者应该很难破坏协议的运行。例如，系统的状态必须备份，以至于强大的攻击者无法将其清除。
有效性——确保诚实的信息被包括在内/对区块生产者可用。共识协议旨在实现的安全条件从根本上说是基于链的有效性--验证者不能验证他们无法访问的消息。对于一些共识架构（如PoW），像链的质量和链的增长这样的数据可以成为链的“有效性”的指标。



需要考虑的权衡条件


上述属性为评估L1提供了一个分类法，但并没有真正提供一个有效评估不同网络的相对优点的方法。我们引入了一组关键的权衡条件，以讨论这些不同术语之间的关系。在权衡方面的分析提供了一个清晰的方法来理解哪些链可以最好地服务于特定的使用情况。


共识开销 VS 安全 VS 可扩展性——“参与共识”或“验证状态转换过程”的节点/计算机越多，网络的安全性越好。例如，这在PoW模型中很明显，在该模型中，最长的链成为典型的链或网络的 "真实状态"。然而，如果这些节点的一个大的子集耗尽了他们的计算资源，而不是把它们用于计算状态转换，那么吞吐量就会受到限制，网络就会变慢。

最终结果用时 VS TPS VS 安全——区块最终完成的速度越快，验证者在状态上达成一致的时间就越短。更快的区块时间可以允许更高的TPS，但如果没有足够的时间来有效地达成共识，回滚可能会更加普遍，损害系统的安全性。
节点要求 VS 可扩展性——为了使区块链真正去中心化，每个人都应该能够方便的访问/参与网络。为了使系统尽可能“无需许可”，运行一个节点的最低要求应该相对较低。然而，随着节点要求的降低，网络可用的总计算能力也在下降。更多的节点可能会因此而加入网络，但节点数量的增加必须弥补能力较弱的机器带来的计算带宽的损失——取得适当的平衡仍然是一个关键的挑战。
数据可用性 VS 可索引性——随着链上数据量的增加，有效解析或过滤这些数据变得更加困难。DApps需要有实时查询链上数据的能力，以便服务于其用户的大量或快速的请求。
横向可扩展性 VS 原子性——分片需要在多个子网上维护链上状态的不同部分。虽然这允许交易被并行处理，但这增加了用户可能被困住的风险。有各种方法来保持跨分片的原子性，但所有这些都需要一些额外的开销。


应用层的影响图片
我们所讨论的基础设施参数可以极大地影响到在一个特定的链上可能或实际建立的应用类型。请考虑以下的例子：

带宽限制会影响对高吞吐量应用的支持。相反，较高的TPS可以实现更高频率的交易和实时更新。

较长的最终结果用时可能不适用于支付或其他需要快速结算的应用。

较高的链上资源成本（即gas成本）会阻碍应用的发展。(例如，传统的中央限价订单簿（CLOBs）由于gas成本高，在以太坊上是不可行的，因此自动做市商（AMMs）盛行，如Uniswap。在Solana等收费较低的L1上，以及Ethereum等链上的L2上，CLOBs可能是相当实用的）。

上面，我们展示了一个分析L1s性能的框架。在这里，我们提供了一个更深入的分析，即如何更好地从他们的生态系统和或建立在链上的项目来评估L1。

* ![图片](https://user-images.githubusercontent.com/79394963/192789956-ca056d1f-26e1-42ea-a67f-099a5aa36835.png)

公链是否有能力囊括和整合这些元素，对其短期增长和长期可持续性至关重要。

我们认为，除了支持单个项目外，高增长的生态系统发展有5个主要步骤：

1）通过资产或通用桥接器实现跨链通信。

2）通过整合DeFi基元为平台带来流动性。(例如，货币市场和交易所）。这激励了核心开发者社区建立更好的工具，从而允许不太熟练的开发者建立更多面向消费者的产品。

3）通过这种DApp的增长，激励用户/零售商采用。

4）专注于在链上带来高保真数据，通过预言机或专门的数据可用

5）对这些数据进行索引，并以易于理解的格式显示出来（例如在浏览器上）。


自2009年比特币诞生以来，加密货币经历了快速增长。这种增长主要是由新的L1公链的出现形成的。2015年，以太坊通过以太坊虚拟机（EVM）引入了一个图灵完备的架构，使区块链的功能不仅是静态账本，而且是可以运行和执行任意表达式程序的全局状态机。这为更普遍的DApp开发打开了大门，将普通零售用户带入区块链生态系统，“DeFi Summer”等运动就是最好的证明。然而，随着采用率的增加，在可扩展性方面也出现了新的挑战，迫使建设者找到新的方法来帮助缓解容量限制。这表现在像Solana这样的链和其他L1/L2的发展上，这些链试图通过将计算转移到链下来增加吞吐量。

现在，随着新的L1s围绕可扩展性探索新的架构，利用更好的共识机制和加密原语；有效评估其价值仍然是一项艰巨的任务。我们希望这篇文章通过展示核心的、可衡量的技术指标如何与生态系统的增长相联系，并最终帮助确定特定网络的市场价值，给你提供一个更有条理的方法来更全面地评估这些L1s。






# 区块链的共识机制

有两个相距很远的军队要传递信息，蓝军派遣一个信使去跟红军说：“有本事把意大利炮拿出来！”红军收到信息后又派了一个信使去跟蓝军说：“收到指令！”然后蓝军又派一个信使去跟红军说：“知道你收到指令了！”然后红军又派一个信使去跟蓝军说：“知道你知道我收到指令了！”然后蓝军又派一个信使去和红军说：“知道你知道我知道你收到指令了！”然后就没完没了了

在很久很久以前，有一个强大的帝国叫作拜占庭，它的军队非常强大，周围有10个小国家，饱受拜占庭帝国的欺压，但是，必须同一时间有6个以上的国家进攻才有可能打败拜占庭帝国，否则就一定会战败。

这个时候，问题就出现了，古时候军队之间的通信完全依赖于人，如果一个国家的军队里有奸细，无论是下令的将军还是传信的通信兵，都可能会使得另外9个国家收到假消息，从而造成作战失败。那么，如果你是其中一个小国的国王，你该如何判断一定会有另外5个以上的国家与你并肩作战呢？毕竟一个不小心，你就亡国了。

* ![图片](https://user-images.githubusercontent.com/79394963/191891570-a1e4a02c-4dda-4f44-856e-5c7007545ad1.png)

共识机制主要有工作量证明、权益证明和股份授权证明三种。

一、工作量证明

工作量证明（Proof of Work，简称PoW）通常只能从结果证明，因为监测工作过程通常是烦琐且低效的。

比特币在区块的生成过程中使用了PoW机制，一个符合要求的区块哈希值由N个前导零构成，零的个数取决于网络的难度值。要得到合理的区块哈希值需要经过大量的尝试计算，计算时间取决于机器的哈希运算速度。当某个节点提供出一个合理的区块哈希值，说明该节点确实经过了大量的尝试计算，当然，这并不能得出计算次数的绝对值，因为寻找合理的哈希值是一个概率事件。当节点拥有占全网n%的算力时，该节点即有n%的概率找到区块哈希值。

PoW依赖机器进行数学运算来获取记账权，资源消耗大、共识机制高、可监管性弱，同时每次达成共识需要全网共同参与运算，性能效率比较低，容错性方面允许全网50%节点出错。

PoW的优点：完全去中心化，节点自由进出。

PoW的缺点：目前比特币已经吸引全球大部分的算力，其他再使用PoW共识机制的区块链应用很难获得相同的算力来保障自身的安全；挖矿造成大量的资源浪费；共识达成的周期较长。

使用PoW的项目有：比特币、以太坊前三个阶段——Frontier（前沿）、Homestead（家园）、Metropolis（大都会）。以太坊的第4个阶段，即Serenity（宁静），将采用权益证明机制。

二、权益证明

权益证明（Proof of Stake，简称PoS）由“Quantum Mechanic”2011年在比特币论坛讲座上首先提出，后经Peercoin（点点币）和NXT（未来币）以不同思路实现。

PoS的主要理念是节点记账权的获得难度与节点持有的权益成反比，相比PoW，其在一定程度上减少了数学运算带来的资源消耗，性能也得到了相应的提升，但依然是基于哈希运算，竞争获取记账权的方式，可监管性弱。该共识机制的容错性和PoW相同。它是PoW的一种升级，根据每个节点所占代币的比例和时间，等比例地降低挖矿难度，从而加快找到随机数的速度。

在PoW中，一个用户可能拿1 000美元来购买计算机，并加入网络来挖矿以此产生新区块，从而得到奖励。而在PoS中，用户可以拿1 000美元购买等价的代币，并把这些代币当作押金放入PoS机制中，这样用户就有机会产生新区块而得到奖励。

总体而言，这个系统中存在一个持币人的集合，他们把手中的代币放入PoS机制中，这样他们就变成验证者。比如对区块链最前面的一个区块而言，PoS算法在验证者中随机选取一个（选择验证者的权重依据他们投入的代币量，比如一个投入押金为10 000代币的验证者被选择的概率是一个投入1 000代币验证者的10倍），给他权利产生下一个区块。如果在一定时间内，这个验证者没有产生一个区块，则选出第二个验证者代替产生新区块。与PoW一样，PoS以最长的链为准

DPoS的投票模式可以每30秒产生一个新区块，并且在正常的网络条件下，区块链分叉的可能性极其小，即使发生也可以在几分钟内得到解决。执行该模式的基本步骤如下：

1. 成为代表。成为一位代表，你必须在网络上注册你的公钥，并获得一个32位的特有标识符。该标识符会被每笔交易数据的“头部”引用。

2. 授权投票。每个钱包有一个参数设置窗口，在该窗口里用户可以选择一位或更多的代表，并将其分级。一经设定，用户所做的每笔交易将把选票从“输入代表”转移至“输出代表”。一般情况下，用户不会创建专门以投票为目的的交易，因为那将耗费他们一笔交易费。但在紧急情况下，某些用户可能觉得通过支付费用这一更积极的方式来改变他们的投票是值得的。

3. 保持代表诚实。每个钱包将显示一个状态指示器，让用户知道他们的代表表现如何。如果他们错过了太多的区块，那么系统将会推荐用户更换一位新的代表。如果任何代表被发现签发了一个无效的区块，那么所有标准钱包将在每个钱包进行更多交易前要求选出一位新代表。

4. 抵抗攻击。在抵抗攻击上，前100位代表所获得的权力是相同的，即每位代表都有一项平等的投票权，因此，无法通过获得超过1%的选票而将权力集中到单一代表上。由于只有100位代表，不难想象一个攻击者可以对每位轮到其生产区块的代表依次进行拒绝服务攻击。幸运的是，由于每位代表的标识是其公钥而非IP地址，这种特定攻击的威胁很容易被减轻。这将使确定DDoS（分布式拒绝服务）攻击目标更为困难。而代表之间的潜在连接将使妨碍他们生产区块变得更为困难。

* ![图片](https://user-images.githubusercontent.com/79394963/191891656-199c1c9a-75de-446a-bba4-04bc5fe55b6e.png)

asper有惩罚机制，这样非法节点通过恶意攻击网络不仅得不到交易费，而且还面临着保证金被没收的风险。

Casper协议下的验证人需要完成出块和投注两个活动。具体如下：

出块是一个独立于其他所有事件而发生的过程，验证人收集交易，当轮到他们的出块时间时，他们就制造一个区块，并签名，然后发送到网络上。投注的过程更为复杂一些，目前Casper默认的验证人策略被设计为模仿传统的拜占庭容错共识：观察其他的验证人如何投注，取33%处的值，向0或者1进一步移动。

而客户端确认当前状态的过程是这样的：一开始先下载所有的区块和投注，然后用上面的算法来形成自己的意见，但是不公布意见；它只要简单地按顺序在每个高度进行观察，如果一个区块的概率高于0.5就处理它，否则就跳过它。在处理所有的区块之后所得到的状态就可以显示为区块链的“当前状态”。客户端还可以给出对于“最终确定”的主观看法：如果高度k之前的每个区块形成的意见高于99.999%或者低于0.001%，那么客户端就可以认为前k个区块已经最终确定。

五、瑞波共识机制

瑞波共识算法使一组节点能够基于特殊节点列表形成共识。初始特殊节点列表就像一个俱乐部，要接纳一个新成员，必须由该俱乐部51%的会员投票通过。共识遵循这些核心成员的“51%权力”，外部人员则没有影响力。由于该俱乐部由中心化开始，它将一直是中心化的，而如果它开始腐化，股东们什么也做不了。与比特币及Peercoin一样，瑞波系统将股东们与其投票权隔开，因此，它比其他系统更中心化

* ![图片](https://user-images.githubusercontent.com/79394963/191891712-12fc2b91-56df-453d-96a1-abb32bce266b.png)

最早由卡斯特罗和利斯科夫在1999年提出的实用拜占庭容错（PBFT）是第一个得到广泛应用的拜占庭容错算法。只要系统中有2/3的节点是正常工作的，就可以保证一致性。

实用拜占庭容错算法的总体过程如下：客户端向主节点发送请求调用服务操作，如“<REQUEST,o,t,c>”，这里客户端c请求执行操作o，时间戳t用来保证客户端请求只会执行一次。每个由副本节点发给客户端的消息都包含了当前的视图编号，使得客户端能够追踪视图编号，从而进一步推算出当前主节点的编号。客户端通过点对点消息向它自己认为的主节点发送请求，然后主节点自动将该请求向所有备份节点进行广播。

视图编号是连续编号的整数。主节点由公式p = v mod |R|计算得到，这里v是视图编号，p是副本编号，|R|是副本集合的个数。

副本发给客户端的响应为“<REPLY,v,t,c,i,r>”，v是视图编号，t是时间戳，i是副本的编号，r是请求执行的结果。

主节点通过广播将请求发送给其他副本，然后就开始执行三个阶段的任务。

1.预准备阶段。主节点分配一个序列号n给收到的请求，然后向所有备份节点群发预准备消息，预准备消息的格式为“<<PRE–PREPARE,v,n,d>,m>”，这里v是视图编号，m是客户端发送的请求消息，d是请求消息m的摘要。

2. 准备阶段。如果备份节点i接受了预准备消息，则进入准备阶段。在准备的同时，该节点向所有副本节点发送准备消息“<PREPARE,v,n,d,i>”，并且将预准备消息和准备消息写入自己的消息日志。

3. 确认阶段。当“(m,v,n,i)”条件为真的时候，副本i将“<COMMIT,v,n,D(m),i>”向其他副本节点广播，于是就进入了确认阶段。所有副本都执行请求并将结果发回客户端。客户端需要等待不同副本节点发回相同的结果，作为整个操作的最终结果。

如果客户端没有在有限时间内收到回复，请求将向所有副本节点进行广播；如果该请求已经在副本节点处理过了，副本就向客户端重发一遍执行结果；如果请求没有在副本节点处理过，该副本节点将把请求转发给主节点；如果主节点没有将该请求进行广播，那么就认为主节点失效；如果有足够多的副本节点认为主节点失效，则会触发一次视图变更。

. 将C/S（客户机/服务器）架构的请求响应模式改进为适合P2P网络的对等节点模式；

2. 将静态的共识参与节点改进为可动态进入、退出的共识参与节点；

3. 为共识参与节点的产生设计了一套基于持有权益比例的投票机制，通过投票决定共识参与节点（记账节点）；

4. 在区块链中引入数字证书，解决了投票中对记账节点真实身份的认证问题。

授权拜占庭容错机制的优点：专业化的记账人；可以容忍任何类型的错误；记账由多人协同完成；每一个区块都有最终性，不会分叉；算法的可靠性有严格的数学证明。

授权拜占庭容错机制的缺点：当1/3及以上的记账人停止工作后，系统将无法提供服务；当1/3及以上的记账人联合作恶，且其他所有的记账人被恰好分割为两个网络孤岛时，恶意记账人可以使系统出现分叉，但是会留下密码学证据。

总而言之，授权拜占庭容错机制最核心的一点，就是最大限度地确保系统的最终性，使区块链能够适用于真正的金融应用场景。

九、帕克索斯算法

这是一种传统的分布式一致性算法，是一种基于选举领导者的共识机制。领导者节点拥有绝对权限，并允许强监管节点参与，其性能高，资源消耗低。所有节点一般有线下准入机制，但选举过程中不允许有作恶节点，不具备容错性

拜占庭将军问题，是由莱斯利·兰伯特（Leslie Lamport）等人提出的，这是一个点对点通信中的基本问题。其阐述的内涵是，在存在消息丢失的不可靠信道上试图通过消息传递的方式达成一致性是不可能的。因此，对一致性的研究一般假设信道是可靠的，或不存在问题。而2008年出现的比特币区块链则解决了这个“历史遗留问题”

* ![图片](https://user-images.githubusercontent.com/79394963/191891938-287245cc-91d2-4421-94a2-71a22af8fe47.png)

1982年 密码学网络支付系统

戴维·乔姆（David Chaum）提出了注重隐私安全的密码学网络支付系统，该系统具有不可追踪的特性，被认为是比特币区块链在隐私安全方面的雏形。

* ![图片](https://user-images.githubusercontent.com/79394963/191891973-aaeebeae-61e4-4baf-a17f-ec135c157f84.png)

1990年Paxos算法被提出Paxos算法也是莱斯利·兰伯特提出的，这是一种基于消息传递的一致性算法。Paxos算法解决的问题是一个分布式系统如何就某个值（决议）达成一致
* ![图片](https://user-images.githubusercontent.com/79394963/191892021-cb680129-3b63-4e45-9e01-14f3d842a934.png)

斯图尔特·哈伯（Stuart Haber）与W. 斯科特·斯托尔内塔（W. Scott Stornetta）于1991年提出利用时间戳确保数位文件安全的协议，此概念之后被比特币区块链系统采用。

* ![图片](https://user-images.githubusercontent.com/79394963/191892069-fdf7dbfe-43b3-4de8-9a7a-7aa286f32944.png)

1997年 哈希现金技术被发明

亚当·巴克（Adam Back）发明的哈希现金是一种PoW演算法，此演算法依赖成本函数的不可逆特性，从而实现容易被验证但很难被破解的特性，最早被应用于阻挡垃圾邮件。哈希现金之后成为比特币区块链采用的关键技术之一

* ![图片](https://user-images.githubusercontent.com/79394963/191892157-077a12d2-132d-4879-b36f-1bac920bb8b5.png)

尼克·萨博发表了去中心化的数位货币系统Bit Gold，参与者可贡献运算能力解出加密谜题。后来，哈尔·芬尼提出RPoW（可重复使用的工作量证明机制），将B-money与亚当·巴克提出的哈希现金结合起来创造了密码学货币。

* ![图片](https://user-images.githubusercontent.com/79394963/191892218-9868361e-823c-4b92-8dd7-dc281201963b.png)

2010年7月12—16日，比特币汇率经历了为期5天的价格剧烈波动时期，从0.008美元/比特币上涨到0.080美元/比特币，这是比特币汇率发生的第一次价格剧烈波动。

比特币协议中的一个主要漏洞于2010年8月6日被发现：交易信息未经正确验证，就被列入交易记录或区块链。这个漏洞被人恶意利用，生成了1 840亿枚比特币，并被发送到两个比特币地址上。这笔非法交易很快就被发现，漏洞在数小时内修复，非法交易被从交易日志中删除，比特币网络协议也因此升级至更新版本


区块链

这个词可以说是必备词汇了，很多人更倾向于叫它的英文名字：blockchain。而在最近的一次投票中，它又被“公投”成了“公信链”，不过目前为止提到最多的仍然是区块链。它是比特币的底层技术，是一个去中心化的分布式账本系统。区块链与人工智能、大数据并称金融科技的三大巨头。

比特币

这个词差不多是区块链领域中被提及最多的了。比特币是区块链技术的第一个落地应用，最早是一种P2P形式的网络虚拟货币，但是在很多国家，它已经可以购买现实生活中的物品了。如今，比特币已发展成为根据中本聪的思路设计发布的开源软件以及建构其上的P2P网络。

数字货币

区块链最初的应用形式就是数字货币。数字货币是电子形式的替代货币，数字金币和密码货币都属于数字货币。它不能完全等同于虚拟世界中的虚拟货币，因为它常被用于真实的商品和服务交易，而不仅仅局限在网络游戏等虚拟空间中。目前全世界共有数千种数字货币。

PoW

当热爱学习的你想要再深入一点了解区块链的原理时，这个词一定会出现。PoW，也就是工作量证明。比特币在区块的生成过程中使用了PoW机制。一个符合要求的区块哈希值由N个前导零构成，零的个数取决于网络的难度值。要得到合理的区块哈希值需要经过大量的尝试计算，计算时间取决于机器的哈希运算速度。[18]

公钥和私钥

在有关区块链的话题中，我们还会经常听到这两个词汇：公钥和私钥。这就是俗称的不对称加密方式，是对以前的对称加密（使用用户名与密码）方式的提高。

* ![图片](https://user-images.githubusercontent.com/79394963/191892457-957c7c03-916f-4ca7-8cbf-006650d748f9.png)

哈希值

这个词在比特币的世界中可以说是无处不在，哈希算法将任意长度的二进制值映射为固定长度的较小二进制值，这个小的二进制值就是哈希值。哈希值是一段数据唯一且极其紧凑的数值表示形式。哪怕只更改一段明文中的一个字母，随后产生的哈希值都将千差万别。要找到对应同一哈希值的两个不同的输入，从计算的角度来说基本上是不可能的

* ![图片](https://user-images.githubusercontent.com/79394963/191892492-1608d699-17e4-4ed3-8e55-7a2f31f69be0.png)

公有链是指全世界任何人都可读取、任何人都能在其中发送交易信息且交易能够获得有效确认、任何人都能参与共识过程的区块链——共识过程决定哪个区块可被添加到区块链中，也能让参与者明确当前状态。公有链通常被认为是完全去中心化的。而私有链是指其写入权限仅在一个组织手中的区块链。

概括来说，公有链对所有人开放，任何人都可以参与；私有链只对单独的个人或实体开放。[20]

区块和链

区块指的是信息块，每个区块都包含三个要素：本区块的ID；若干交易单；前一个区块的ID。

比特币系统大约每10分钟就会创建一个区块，其中包含了这段时间里全网范围内发生的所有交易。每个区块中也包含了前一个区块的ID，这使得每个区块都能找到它之前的那个节点，这样一直倒推就形成了一条完整的交易链条。从诞生之初至今，全网形成了一条唯一的主区块链。

智能合约也是我们时常听到的词汇，而且听起来似乎可以理解又不可以理解，按照字面意思来看，就是一个自动自觉执行的、有点聪明的合同吧。

* ![图片](https://user-images.githubusercontent.com/79394963/191892623-3c0687f8-8bc9-4830-99a4-e6a49cf736fc.png)
区块链的分布式结构以及基于数学算法的低成本信任机制，为金融领域相关问题的解决和优化提供了一种新思路和路径。目前经济社会中的信用环境比较弱，信用成本比较高，而区块链技术提出了一套成本较低的信任解决方案，对促进信用经济的发展具有重要意义。

![图片](https://user-images.githubusercontent.com/79394963/191892677-7aa61597-66e0-4b21-bb80-56e297eb4047.png)
R3区块链联盟涵盖了70多家全球顶尖金融机构，包括来自中国的中国平安集团、招商银行、中国外汇交易中心、民生银行等4家传统金融机构，目标是打造金融机构的私有区块链系统。

2016年5月，R3开始为旗下的分布式账本联盟寻求2亿美元的A轮融资，R3自身持股10%。随后，R3将目标融资金额下调到1.5亿美元，R3自身持股升至40%，剩余60%股份，则计划主要向联盟42家初始会员银行募集，其后，7家银行选择退出融资。继R3宣布将其开发的区块链平台Corda开源后，包括高盛在内的一些成员退出了R3联盟。

* ![图片](https://user-images.githubusercontent.com/79394963/193397484-5caade10-f78f-48b1-a2fa-f0ed17c7c660.png)

   目前收录 3117家区块链企业（主要是区块链初创公司），项目数量靠前的细分领域为区块链金融（664 家）、虚拟数字货币（362 家）、区块链媒体(199 家)。区块链应用领域，项目占比靠前的方向包括金融（21.3%）、支付结算（3.02%）、社交（3.02%）、游戏(2.98%)、数据服务(2.63%)、文娱（2.09%）,同样另外一家数据平台烯牛则统计了更为详细的区块链赛道，在其收录的 2600 家区块链公
司，应用方向项目数量占比靠前的包括金融（9.54%）、游戏（3.77%）、文娱（3.04%）、医疗（2.15%）、支付（2.08%）。除了不同赛道可能存在项目重复统计的情况，不同的平台对区块链赛道划分标准也可能存在一定的差异性，但综合两家平台提供的数据，可以得出结论在区块链应用方向，2B 类业务基本以金融、支付、数据服务为主，而 2C 类业务集中在游戏、文娱、社交类应用。

   各国央行积极推动 CBDC 计划2020 年全球央行对 CBDC 的态度出现正向转变，主要发达国家逐渐重视央行数字货币的研发，2020 年 1 月六家全球主要央行（欧央行、英格兰银行、日本央行、加拿大央行、瑞士央行、瑞典央行）与国际清算银行（BIS）设立联合工作组，调查评估在本国发行 CBDC的可能性。8 月全球最大的七个经济体（G7）集团在 G7 峰会上就 CBDC 发行合作进行讨论，
并和国际货币基金组织（IMF）、世界银行和国际清算银行（BIS）联合发布央行 CBDC 报告，着手建立统一的主权数字货币发行和监管官方标准。从 BIS 的 CBDC 报告可以看出，目前主要国家央行均发布 CBDC 研究计划，各国央行对CBDC 发行意愿持续上升，BIS 数据显示大约 80％的中央银行正在开展数字货币相关的工作，研发方向既包括大额批发式支付领域，也包括通用零售支付领域，其中大约 40％央行 CDBC进展状态已经从概念研究发展为实验经从概念研究发展为实验或概念证明（PoC），另外还有 10％的国家已经上线了CBDC 试点项目。

* ![图片](https://user-images.githubusercontent.com/79394963/193397632-bf897819-79c5-462e-a458-de594a2c549f.png)

   *  布局方向上看，行业龙头公司对区块链的技术探索和商业应用主要集中在底层区块链平台开发搭建和行业解决方案应用两类方向，其中底层区块链开发平台以国外微软、谷歌、亚马逊，国内蚂蚁、腾讯、百度、京东和华为等知名互联网公司为代表，这些公司基于各自在传统云平台的资源优势推出基于云的区块链基础服务平台，帮助企业快速上链，从而推动

  *  行业应用落地。比如蚂蚁集团在 2020 年 4 月面向中小企业和开发者推出“开放联盟链”,提供 BaaS 平台、、多方安全计算平台等核心产品，覆盖供应链金融、跨境汇款、数字资产流转、电子票据、大宗商品仓单、公益慈善、版权等 40 多个场景。2020 年 7 月 23 日，蚂蚁集团将蚂蚁区块链品牌升级为蚂蚁链，并推出“蚂蚁一体机”硬件，”硬件,解决跨多方协作的隐私保护问题。腾讯区块链打造的国产自主可控区块链基础设施平台——Trust SQL，公开其基于云的产业区块链产品全景图，在供应链金融、可信存证、电子票据、数据要素、身份管理、供应链管理、数字资产等 

* ![图片](https://user-images.githubusercontent.com/79394963/193397695-049d5fd8-adcb-4f14-98d6-722c913a2cbb.png)

  根据 2020 年 10 月国际清算银行 BIS 与加拿大、日本、瑞典、瑞士、英国、美国以及欧洲央行的一项共同研究表明，CBDC 应具有以下几点特点，首先是不应损害货币或金融稳定，其次是应与现有形式的法币体系共存并相辅相成，最后是应该促进创新和效率。除此以外，CBDC 还应具有三类特征，首先是工具特征，其次是系统特征，最后是制度特征


   此前 CBDC 的发展还属于探索、论证阶段，那么 2020 年以来，随着中国央行数字货币 DCEP 在深圳、苏州的试点，欧盟、美国、日本等世界主要经济体国家从最初的观望向实际论证 CBDC 应用落地开始，CBDC 的发展不再是区域性的小范围试验，而是逐渐演变成一场全球范围内的国家间新一轮主权货币竞争。从发达国家和发展中国家的进展对比看，发展中国家的央行数字货币推行进度整体上快
于发达国家，包括巴哈马、乌拉圭、厄瓜多尔、委内瑞拉、泰国、柬埔寨均已发行了本国的央行 CBDC。发达国家中，新加坡推进 CBDC 速度最快，其央行 CBDC 项目 Ubin 已在 2020 年 7 月完
成概念证明（PoC）和试验，有 40 多家企业参与并完成 124 项测试用例。G7 集团等发达国家目前加拿大已经启动 CBDC 项目，英美法日欧盟等国家（地区）也已经成立工作组 CBDC发行进行概念研究，并计划在 2021 年正式进入概念 PoC 和试验阶段。

DEX 为整个 DeFi 生态带来了关键性的一环，它可以使得各类资产较为容易地获得较好的流动性，同时允许自由上线资产，交易流程简洁。不过他也存在很多问题，比如纵容黑客，使用门槛高等等，我们也期待 DEX 上创新的解决方案，得以继续发展。

* . 借贷
不同于传统的信用借贷模式，DeFi 上的借贷市场采取超额抵押贷款的模式，不需银行等机构对贷款人进行信用评价和 KYC，完全由抵押物进行担保，所有的借款流程都是自动化的，门槛较低，分布式借贷市场靠提供高于传统金融市场的利率吸引了大量资金，且可以通过锁仓挖矿来进一步扩大收益。但同时这种模式存在抵押品价值波动造成清算等风险，且由于靠超额抵押来代替信用担保，资金利用率有限

* ![图片](https://user-images.githubusercontent.com/79394963/193397831-a96fcdd2-7dac-47fd-ae4d-e33db3162be0.png)

* ![图片](https://user-images.githubusercontent.com/79394963/193397863-7b04461b-73c5-431c-afbb-bc404047efb0.png)

以区块链技术与 5G、人工智能的融合为例，区块链技术的核心价值在于其能帮助构建一个适用于大数据世界的市场规则和经济激励制度，从而全方位解决在 5G 通信技术和 AI 算
法充分驱动下，蓬勃发展的互联网大数据价值所可能面临的信任困境。将区块链技术引入 5G 网络将推动万物交易网络的构建，具体来说：区块链不仅将对通信网络系统上的验证、地址、资源共享等产生较大影响，还会推动信息网络商业模式与体系的创新发展。通过构建新型互通关联模式，区块链将改变传统运营商间的信任机制，构建全新的 5G 区块网。





# 参与的人群

如何成为躺着赚钱的科学家
什么是科学家
在区块链的黑暗森林，有一群隐藏起来的独狼，他们 24 小时不间断地用冰冷的双眼，扫视着围场里的肥羊。只要有些许的漏洞，它们就会以迅雷不及掩耳之势扑入羊圈，吃光所有的肥肉，抹净最后一滴甘血。

根据慢雾 2021 年区块链安全报告，被公开的区块链安全事件共 231 起，损失超 98 亿美元，平均每起事件损失超 4200 万美元。科学家如此赚钱，这真是应了那句老话：平时不开张，开张能吃三辈子。

但是这种直达退休的机会可遇而不可求，而且有法律和道德上的风险，我这里并不提倡。

而科学家在区块链上赚钱的方式其实还有很多，如果能够成功的话那也是非常爽的（不用坐班，在家躺着赚钱），这里我会一一介绍。

科学家如何赚钱
根据 https://eigenphi.io/ 统计，以太坊上每周套利成功的盈利金额都在 60 万刀以上。

DEX 套利
区块链上部署有很多去中心化交易所，比较著名的有 uniswap，curve，balancer 等。用户在不同的交易所交易或者在同一交易所不同的交易对交易都会产生价差。利用闪电贷和闪电 swap 等技术可以快速地在不同交易对上进行价差套利，而且没有资金成本。

清算套利
除了去中心化交易所，区块链上还有很多去中心化借贷平台。比较著名的有 aave，compound，makerDAO 等。如果用户的抵押资产价格下降，借贷平台就需要将用户的抵押资产出售来收回贷出资产。利用闪电贷和闪电 swap 等技术也可以快速地在去中心化交易所和去中心化借贷平台之间进行清算，同时获得借贷平台支付的清算奖励。

三明治套利
用户在中心化交易所上交易时，平台为了防止链上价格波动导致的交易失败会预留一部分的价格空间，比如你用 1 的价格买 A，实际如果链上价格涨到了 1.1 也是一样可以购买的。三明治套利所做的就是在用户链上交易成交之前把价格抬高到用户可以购买的最高价格，再在用户购买成功之后卖出，从而实现盈利。

抢跑套利
区块链上有很多进行套利的交易，你可以把它们找出来，然后复制这笔交易，给出更高的 GAS 费用，那么别人辛苦计算出来的利润就会被你抢到。

抢购 NFT 套利
如果是一些比较热门的 NFT 发售，那么如果你购买的时间比较晚，就会被高昂的 GAS 费抬高你的 NFT 购买成本。因此可以做一个抢购机器人，当购买开始时，可以在第一时间以较低的 GAS 费用抢购 NFT，获得比别人更低的收购成本。

抢池子套利
在 uniswap 上新开的 pool，如果在池子创建完成的第一时间买入，然后监听池子的交易，在池子跑路之前卖出，也可以获得套利的机会。

科学家需要具备什么
高速节点
在套利过程中，节点的作用主要是获取 mempool 交易、获取链上信息和发送交易信息。能否快速获取并发送这些数据直接决定了你能否在挖出下一个区块前计算出套利空间，并将套利交易广播到将要挖出下一个区块的矿工。

高性能服务器
高性能服务器不光让你在计算套利空间的时候有时间优势，还需要记录服务器日志和交易结果，方便将来复盘套利行为。服务器也可以追踪链上交易，将别人成功的套利行为记录下来，方便自己研究，形成新的套利策略。

低 GAS 套利合约
套利操作一般都需要事先将套利逻辑写成合约并部署在链上，而执行合约的 GAS 成本直接决定了你的套利交易是否能成功。如果别人的合约执行成本比你低，那么他就可以用比你更高的 gasPrice 来执行套利合约，而矿工也会优先打包高 gasPrice 的交易。

如何上手做科学家

如何上手做科学家？这里给出几点建议。

选择交易成本低，套利机会多的链来上手。ETH 虽然是套利机会最多的链，但是试错成本抬高，随便失败一个交易就能亏几百块钱。这里推荐新人从 BSC 链开始尝试科学家套利，试错成本低而且作为活跃用户最多的链，套利机会也是排第二的。

熟悉常用套利平台的智能合约代码，比如 uniswap、compound 的合约执行逻辑（可以看我的教程），并且要掌握闪电贷和闪电swap，这样你用来套利的资金成本就会很低，甚至可以做到零资金成本。

购买一个便宜耐用的节点，套利机器人需要对每个新出的区块数据进行扫描，这种操作所产生的数据量是非常大的，免费节点提供的数据流量肯定不够用。一个便宜耐用的节点可以减少你的运行成本，而且不漏掉任何的套利机会。

科学家节点
最后我要给大家推荐专门为科学家套利定做的节点服务：科学家节点。目前科学家节点只支持 BSC 链的节点服务，使用科学家节点的服务能为用户提供以下价值。

独占节点
科学家节点出售的都是独占节点，位置在德国，配置为 hetzner ax101 64核 128g 1gbps带宽 7tb nvme。用户购买节点之后可以在节点本地搭建套利服务，做到和节点数据交互 0 延时。这等于买节点送服务器，又省了一笔搭建和维护高性能服务器的钱。

优化服务
科学家节点通过自己魔改 geth，能够比 geth 节点的官方版本更快获取链上数据（据测试，最多能快 500 毫秒）。而且发送和获取链上数据没有次数限制，内网数据传输也没有网络中断和延时的问题。

价格优惠
目前科学家节点的标准套餐打折后是 0.99 BNB/月，差不多是 275 刀/月（使用我的邀请链接注册可以返 5%）。目前 BSC 链上主流的节点提供商 quicknode 提供高级套餐是 250 刀/月，但是没有做节点优化，而且只能远程连接，需要另购服务器（国内最大的阿里云上即使只是 8核 16g内存 1tb ssd 50mbps带宽 的中等配置国外服务器，价格也超过 3000 元/月）。

支持 BNB 支付
科学家节点目前只支持 BNB 支付节点费用，相比大部分节点只支持国际信用卡支付，这个对于国内用户来说是十分方便了。

社区平台
科学家节点有科学家社区作为平台，目前社区 tg 群聊超过4700人，社区内都是区块链行业人员。大家可以在社区内自由交流套利策略和遇到的技术问题，有大佬的指导也更容易赚到第一桶金。

客户服务

科学家节点会有开发人员为大家提供中文的客服支持，专业性是绝对一流的。



# 区块用户画像

第一部分探讨DeFi用户的总体特征，包括人口统计、职业等。第二部分则深入研究用户最常用的DeFi应用类别、使用模式、信任度以及挫败感。其中的DeFi应用类别包括：去中心化交易所、衍生品平台、借贷协议、游戏&NFT以及钱包。
第一部分的结论由dex.blue团队直接给出，而第二部分的见解则来自于Argent、Kyber、dex.blue以及Maker的评论和反馈。

第一部分：受众特征和总体用户信息

*年龄

所有调查参与者的平均年龄为31岁，年龄范围从16到66岁。

*地理分布

正如你从图中所看到的，调查参与者的地理主要来源是欧洲、亚洲和北美，三者之间大致均等分布（2.8%的受访者没有披露其地理位置）

* ![图片](https://user-images.githubusercontent.com/79394963/193399713-7a99c2f8-44c4-492e-9052-f15060c326f1.png)

DeFi用户的地理位分布（根据DeFi用户调查）

*职业

参与者的职业分布来看，符合大家的预期，大多数人要么在计算机、技术&软件开发领域工作，要么在商业、金融&管理领域工作

第二部分：DeFi应用的特定类别见解

尽管调查中的类别多于下面分析的类别，不过，本文仅选择和评论具有代表性的样本规模（>50）类别：

*去中心化交易所

*借贷平台

*钱包

每个类别的回复数：去中心化交易所：211；衍生品平台：22；游戏/NFT：18；借贷平台：95；乐透：0；钱包：113。（蓝狐笔记：可以看出交易和钱包是最大的需求，且用户体验相对较简单；而衍生品、NFT、乐透对于普通用户来说，相对较为复杂或需求不够，DeFi要走向主流还有很远距离，但也说明空间很大）

 人们想追踪一个地址的原因有许多：

    一些币圈的投资者可以根据它来预测一些币价的走势
    区块链的项目方可以选择优质的地址来做空投糖果
    政府机构可以追踪一些可疑的地址活动
    分析人员能更深入的理解区块链上到底都在发生些什么

幸运的是我们有大量的区块数据可以追踪不同类型的以太坊账户。

最简单的一种方式就是分析钱包地址中的以太坊余额，结果是鹅妹子嘤的！ 

![图片](https://user-images.githubusercontent.com/79394963/193399763-891a1d9c-0da8-462d-b675-7a0804aa7ac3.png)

 结果做了对数缩放，按照 ETH 的持有量排序 第一组是 Top10 的钱包地址，随后是11 - 100 再到后面突破 35,000,000 大关。

换句话说前 10,000 个以太坊地址占据了以太坊总数的 83.3%！

如果这还不够鹅妹子嘤的话，top10的地址占据以太坊总数的11.4% 。

区块链的匿名性使得追踪这些顶级账户变得更加困难了，好在所有交易透明可追踪。目前以太坊这 6M 个区块都可以帮助我们对这些地址分组归类。（交易所、项目方等等）
链上数据可视化

通过绘制前10,000 地址的区块数据，我们可以观察下是否可以有些更好的模式。因为每个地址所具有的数据不能连贯地拟合到一个图形中，所以就我们从四个重要变量开始：

    发送和接受的 tx （transactions）
    当前账户余额
    ERC20 Token 余额

这些变量体现了账户的活跃度和Token的持有情况，是非常有价值的。 

* ![图片](https://user-images.githubusercontent.com/79394963/193399906-2f01ea98-f38b-486c-aae2-b33fb2a66efb.png)


 这些数据表达了这样一个事实，即以太坊网络中的顶级账户存在非常多样化的主体。首先，它显示了发送很多的 tx 账户并不会收到很多 tx，反之亦然。它还表明，大部分顶级账户（平持有1.5兆 ETH）相对不太活跃。拥有大量 Token 的账户收到的 tx 数要大于他们发出的 tx 数。

通过使用标记地址的数据集，我们可以进一步检查这些组的行为是否不同 - 这次只查看收到的tx、发出的tx、以及ETH 余额 (颜色为地址类型）

标记的数据集仅限于交易所，矿池和项目方的钱包。 

* ![图片](https://user-images.githubusercontent.com/79394963/193399926-7fdfa8c3-2fb1-4188-9b3a-5b65e423000c.png)

 
 未来的探索方向

使用仅有标记地址的数据集，我们能够映射一些知名的以太坊账户。 我们还要标记更多地址，这样能使得数据更加的全面。

我们对未来探索是无穷尽的。 例如，通过对交易所地址的追踪，可追踪到用户的投资收益状况，甚至可以通过追踪历史数据来分析早期投资整的投资行为与收益等等。

随着区块链玩家的丰富各 dApp 中的用户交互数据、ERC-721、ERC-1155 的持有偏好亦可作为用户画像的依据。这也将是 LORDLESS Team 后面要重点探索的方向。

路漫漫其修远兮，吾将上下而求索。 










### 工作就是找到天才中的天才，让他们引领我们。


### 经常找项目的网站

* defillama.com/airdrops 可能会空投的项目

* airdrops.io/speculative 潜在的空投项目

* cypherhunter.com/en 最新的融资信息

* galxe.com/spaces 银河NFT

* dune.xyz 项目数据分析
还有就是各种推特帐号，各种微信群

* 8、lens签署过协议的可拿此角色：
https://guild.xyz/early-bloomer

* 9、https://alchemyu.typeform.com/alchemyu-early?typeform-source=t.co

# 炼金术新NFT申请

* 10、Noox上线了renft系列的徽章 https://noox.world/collection/re-nft-collection https://twitter.com/noox_world/status/1583080316142354432

* 11、7个Fuel生态项目 https://bitalknews.notion.site/bitalknews/712e532df7a1487db22711f8174848b3?v=2b0d3ab362f14dd6a7ae7a5b75852966

* 12、Devium发布了一个社交燕麦，简单任务可以做下 后续有testnet https://galxe.com/Devium/campaign/GCtttUwLAH

* 13、最近发空投的有点多呢，Across跨链桥发空投了$ACX https://across.to/airdrop 连接DC 查询代币数量 「现在只能查数量还不能claim」

* 14、OmniFlix最后一个测试网活动，OmniFlix's testnet FlixNet-4流程比较麻烦，有时间的可以做做https://mirror.xyz/omniflixnetwork.eth/BhJF3uKDCQqbfihwJrYzUZYCsaYfj1_NDAe8sYFknFo

* 15、OP版奥德赛Optimism Quest连载教程。消耗最小的钱，拿最多的NFT。shttps://mirror.xyz/lixiangguo.eth/d8AjCRS51q0eL5x4ZH6BW5vmWhRrEIrRLsdEighdHYA

* 16、nfttrack的网页版Alpha测试申请 https://app.nfttrack.ai/，链接钱包发推验证

* 17、今晚12点，提前准备好apt https://bluemove.net/launchpad-detail/bigfoot-town


# Evmos空投】

* osmosis：https://app.osmosis.zone/


* Evmos空投查询：https://gotrekt.com/

* 质押/投票网址：https://evmos.disperze.network/

# 【Cosmos生态质押节点挑选】

* 节点查询：https://www.mintscan.io/cosmos/validators

* 空投项目查询：https://cosmosuplink.web.app/airdrops

* Cosmos空投信息表格：https://docs.google.com/spreadsheets/d/1CjRglycJ8DwJ4-ZE5PUwSFh3wGgEkfc_u52-YlripGw/htmlview


https://www.orbiter.finance/

https://gitcoin.co/

https://zigzag.exchange


# 1.必备工具

* VPN梯子：http://www.btcwbo.com/2722.html

* 钱包：Metamask IMtoken Token pocket
* 聊天：DISCORD [翻译机]

* 浏览器：谷歌

* 2.交易大所：

* 币安交易所永久20%手续费优惠减免链接：
https://www.binancezh.top/zh-CN/register?ref=EP4I4ZUH
注册遇到困难，看教程：http://www.btcwbo.com/94.html

* 欧易OKX最高返佣注册链接：
https://www.ouyicn.fund/join/14132923

* 全球前三大所比特币交易所，邮箱注册，正常实名。教程无论新老用户均可获全球最高20%永久手续费减免（The link above can get up to 20% permanent fee reduction）
【币安减免码：EP4I4ZUH】【欧易okx减免码：14132923】

# 3.币种资讯
Coingecko Coinmarketcap Coinglass 注：前2个输币名，查官网、合约地址等一切信息；后一个查看币市各项数据指标。
uniswap.org 、sushi.com [教程] 未上所新币查到合约后可DEX直接购买。
# 4.NFT
NFT信息最全面查询：NFTpf
NFT分析平台：https://nftgo.io/

# 5.链游Gamefi
聚合链游：https://www.formless.me/home

6.其他神器：

# K线：Tradingview  dexscreener

* DAPP：Dappradar

* 9神指数 ：ahr999囤币指标

* 代币解锁时间查询：https://vestlab.io/
* 审查项目合约：https://gopocket.security/

* token解锁时间查询https://token.unlocks.app


# .使用twitter列表。
这是一项基本技能，但大多数人都懒得这样做。为了快速浏览不同的部门、链接等，您需要根据类别组织这些列表。我将在接下来的几周内公布我的列表。

Eth

# 2.使用Twetdeck。
如果你想组织你看到的加密内容，这是必不可少的。您可以在twetdeck中添加任何人的公共列表。如果您不使用twetdeck列，您将无法最大限度地提高列表的有效性。
其他列提示：
添加您想要监控的现金标签作为列，但修改设置以过滤最吸引人的推特。例如，至少有10个RTS/likes。我会静音各种单词，如礼物、竞争、白名单等。这有助于消除噪音。

Eth

有时也值得添加关键叙事作为专栏。如Avax子网、ETH合并、稳定货币战争等。这将帮助你理解一些叙事强度。
* 3.通知关键个人和账户。
加密货币的信息速度就像闪电。如果你是交易员，那就更重要了。我采取了一些策略:
我把@peckshield放在通知栏里，因为它们通常是最快发布defi漏洞的地方。我可以从这个账户的通知中捕捉到一些卖空的机会。

.使用twitter列表。
这是一项基本技能，但大多数人都懒得这样做。为了快速浏览不同的部门、链接等，您需要根据类别组织这些列表。我将在接下来的几周内公布我的列表。

Eth

# 2.使用Twetdeck。
如果你想组织你看到的加密内容，这是必不可少的。您可以在twetdeck中添加任何人的公共列表。如果您不使用twetdeck列，您将无法最大限度地提高列表的有效性。
其他列提示：
添加您想要监控的现金标签作为列，但修改设置以过滤最吸引人的推特。例如，至少有10个RTS/likes。我会静音各种单词，如礼物、竞争、白名单等。这有助于消除噪音。
有时也值得添加关键叙事作为专栏。如Avax子网、ETH合并、稳定货币战争等。这将帮助你理解一些叙事强度。

# 3.通知关键个人和账户。

加密货币的信息速度就像闪电。如果你是交易员，那就更重要了。我采取了一些策略:
我把@peckshield放在通知栏里，因为它们通常是最快发布defi漏洞的地方。我可以从这个账户的通知中捕捉到一些卖空的机会。


# 1 中心化大所

币安（全球第一） 欧易（中国第一） 芝麻开门（山寨币数量最多） FTX（金融衍生品第一）

抹茶（山寨币上新最快） Bybit（香港台湾日本韩国）

库币 ：最好的币安代替品/支持币安国际版被封的地区和国家/现货交易量全球第三/百倍合约/山寨币上新快

币安国际版被封国家和地区： 美国/新加坡/马来西亚/香港/澳大利亚/英国/泰国/日本/土耳其/韩国/加拿大安大略 美国/土耳其等国币安都是阉割版本无全部功能

中国大陆注册币安国际版方法：币安交易所新号注册及身份证KYC过审

交易所详细对比分析

# 2 数据

币种资讯：1非小号 2coinmarketcap 3coingecko

巨鲸追踪：1前100名比特币巨鲸追踪 2 前1000名以太坊钱包追踪

3各类鲸鱼追踪Kingdata 4恐惧和贪婪指数alternative

数据大全： 合约数据大全bybt 各类金融数据画线工具tradeview

付费高端加密市场数据Glassnode 链上大额转账监控Whalealert

# 3 新闻媒体

* 优质中文： 1巴比特 2金色财经 3odaily

* 优质英文：1Coindesk 2Cointelegraph

# 4 NFT工具

* NFT龙头交易平台Opensea 查看Mint趋势IcyTool NFT稀有度查询 Rarity

* 追踪NFT巨鲸和查找新项目NFTgo 计算NFT盈利情况NFTbank

* 以太坊燃烧排名ultrasound.money 艺术家和作品排名CryptoArt

# 5 DAO工具

* 项目社区投票治理平台 ：1Snapshot 2Tally

* DAO管理工具daomaster DAO生态数据门户Deepdao

* DAO孵化和启动项目Daomaker Dao2Dao产品和服务Daocentral

# 6 Defi工具

* 以太坊/dex龙头交易所Uniswap BSC币安智能链龙头交易所Pancakeswap 去中心化合约交易所 Dydx Dex综合K线工具DEXtools Defi项目市场数据 Defipulse 查看质押收益APY

# 7跨链

* 支持多种公链互跨Swft 跨链手续费计算Crosschaintool 多种币种跨链闪兑Anyswap

# 8加密钱包

* 软件钱包 1Tokenpocket 2Metamask 3Iamtoken

* 硬件钱包 1比特护盾 2Onekey 3Ballet

# 9顶级投资机构

* 1币安实验室 2Coinbase 3三箭资本 4A16z 5 Alameda-research 6multicoin.capital

本文不构成投资建议，虚拟货币波动大请谨慎小心
掌握虚拟货币、区块链大小事每日更新

推特：https://twitter.com/cryptomushao

电报：https://t.me/btc66668888

区块链姆少禁言群汇集了众多大佬的付费信息，价值约20万人民币付费社群内容 ，包括 Nansen 、头等舱研报 、本末区块、知识星球、芥末圈、蓝狐笔记、 区块链三刀、零X干货铺、掘金之路等。




推荐交易所

一线交易所

Bybit——Bybit（10％返现） 合约功能最强深度好/无kyc非中美加新IP可用 邀请码 31246 赠送最高$3000体验金 香港/台湾/日本/韩国/欧洲/马来西亚/澳洲热门 bybit.com

欧易OKX——综合实力中国大陆第一交易所/2013年成立/大陆正常人民币出入金/现货合约20％永久返现邀请码 3819028083 带邀请码注册地址 okx.com

库币Kucoin——适合美国/新加坡/加拿大安大略/等币安国际版被限制的国家和地区/全球现货交易量第三/最好的币安替代交易所/山寨币多20％永久返现邀请码QBSSSE3G 非kyc可以正常使用 带邀请码注册地址 kucoin.com

币安Binance——全球综合实力第一的交易所 10％永久返现邀请码LFX8Q0ZA 带邀请码注册地址 binance.com 推荐文章：币安交易所新号注册及身份证KYC过审 中国大陆币安KYC

二线交易所

芝麻开门Gate——山寨币最多/千种山寨币/2013老平台/有交流贴吧/20％永久返现20％邀请码4029869 带邀请码注册地址 gate.com

抹茶Mexc——山寨币上新最快的加密货币平台/百倍合约/永久返现10％邀请码mexc-123456 注意：非美国/中国Ip地址+可非kyc认证使用+推荐gmail/outlook邮箱注册 带邀请码注册地址 mexc.com

派网Pionex——最好的量化交易平台/币圈被动收入神器，14种自动交易机器人指南，全年无休帮你打工！(网格交易、天地单、屯币宝…) 邀请码 4nNlz9Wc 注意：非美国/中国Ip地址+可非kyc认证使用+推荐gmail/outlook邮箱注册 带邀请码注册地址 pionex.com

派可Picol（大陆版派网） 邀请码d6YuXZ83 注册地址 picol.com

FTX——适合专业度高的投资者的平台/股权通证（相当于直接买美股）/预测类产品/波动类产品/101倍杠杆/5％永久返现邀请码34929820 注意IP不要在美国 带邀请码注册地址 ftx.com

火币Huobi——APP内自带24小时资讯播报/手机币种悬浮窗实时盯盘/海外华人最爱使用的老牌交易所之一 邀请码gmmk4223 带邀请码注册地址 huobi.com

Deribit——最好的比特币以太坊期权平台/市场占有率75％以上/邀请码16416.9006 带邀请码注册地址 deribit.com


1、行情工具
币看（http://www.bitkan.com/）

老牌行情工具，app也有资讯



MyToken（http://app.mytoken.io）

数千种数字货币行情和交易所上新信息，主打移动端



非小号（https://www.feixiaohao.com）

全球行情以及各平台交易状况



BTC123行情汇（https://www.btc123.com/trades）

主流币种的实时价格汇总和行情图表



CoinMarketcap（https://coinmarketcap.com）

全球最知名的行情和趋势网站，提供全球币种市值、涨跌幅数据



cryptocompare（https://www.cryptocompare.com/）

展示及时权威的加密货币实时价格，进行市场分析，并提供采矿相关数据



Cryptowatch（https://cryptowat.ch/）

以非常精简的页面展示加密货币的实时行情



WorldCoinIndex（https://www.worldcoinindex.com/）

加密货币实时行情，以BTC和13种法定货币显示



Cryptalert（https://cryptalert.com/）

为自己关注的加密货币设置提醒功能，不错过任何一次投资机会



2、交易相关
火币Pro（https://www.huobi.pro）

支持法币、币币和杠杆交易，适合新手



币安（https://www.binance.com）

全球最大的交易所之一，适合老手



OKEX（https://www.okex.com）

支持法币交易、币币交易、合约交易



ZB（https://www.zb.com）

支持现货交易、杠杆交易，适合新手



比特儿（https://gate.io）

支持法币交易、币币交易、场外交易，操作简单



Bithumb（https://www.bithumb.com）

韩国最大的交易所，支持中文



Bitfinex （https://www.bitfinex.com）

支持期货和杠杆交易，支持中文



Poloniex （https://poloniex.com）

用户量大，山寨币多



Bittrex （https://bittrex.com）

支持数百个交易对，英文页面



Bitstamp（https://www.bitstamp.net）

欧洲老牌交易所，大额交易十分方便



bitFlyer（https://bitflyer.jp/zh-CN/）

日本最大的交易网站，支持中文



Altpocket（https://altpocket.io/）

支持导入多个交易所信息，集中管理你的投资组合



3、实用钱包
Bitcoin core（https://bitcoin.org/zh_CN/download）

老牌比特币全节点钱包



imToken（https://token.im/）

国内最受欢迎的以太系钱包，支持ERC20代币



比特派（http://bitpie.com/）

多链钱包，支持BTC、ETH在内的20多个币种



Jaxx（https://jaxx.io/）

多平台，支持30多个币种



http://Blockchain.info（https://blockchain.info/zh-cn/wallet/#/）

比特币轻钱包，被称为是比特币网络最权威的钱包



Qbao（https://qbao.fund/#/home）

基于量子链，支持所有基于量子链的数字货币



Kcash（https://www.kcash.com/）

多链钱包，支持20多种数字货币



AToken（https://www.atoken.com/）

多链钱包，支持包括BTC、LTC、ETH等60种数字货币



Litecoin（https://litecoin.org/cn/）

莱特币官方开源钱包



比特现金钱包（https://wallet.btc.com/#/setup/register）

http://BTC.COM提供的BTH网页钱包



Trezor Hardware（https://trezor.io/）

最好用的硬件钱包之一



4、中文资讯
链向财经（https://www.chainfor.com）

行业资深团队创办



币世界（http://www.bishijie.com）

以时间轴专门推送快讯，消息又快又多



金色财经（http://www.jinse.com）

区块链资讯网站



九个亿财经（http://www.jgy.com/）

提供财经资讯、行情等信息



铅笔（http://chainb.com/）

提供时事资讯和行情分析



比特币之家（http://www.btc798.com/）

新推出分叉信息板块



区块链时代（http://block001.cn）

深度挖掘区块链行业的动态



每日币读（http://www.coindaily.io）

币读的评级资讯网站，项目信息很全面



5、论坛群组
巴比特（http://www.8btc.com/）

中国最大的比特币区块链论坛



币源社区（https://www.coingogo.com）

区块链比特币综合论坛



币乎（https://bihu.com）

号称是币圈知乎，模式类似steemit，写文章和点赞可获得赏金



彩云比特（http://www.cybtc.com/）

中国第一家比特币矿机专业媒体资讯和论坛



Bitcointalk（https://bitcointalk.org）

全球最大的比特币论坛



/r/Bitcoin/（https://www.reddit.com/r/Bitcoin/）

比特币reddit社区



Google社区（https://plus.google.com/communities/115591368588047305300）

Google+比特币社区



bitcoinwiki（https://en.m.bitcoinwiki.org/wiki/Main_Page）

比特币的百科，由社区成员协同编写



Crypto Trading Advice（https://t.me/cryptotradingadvice）

一个专门提供加密货币市场趋势分析的电报群



Trollbox（https://www.thetrollbox.net）

一个加密货币的在线聊天室，还提供数字货币的行情实时图表



6、外文资讯
Coindesk（https://www.coindesk.com）

加密资产和区块链技术社区领先的数字媒体，有超过1000万独立访客



Cointelegraph（https://cointelegraph.com）

专注于研究数字货币的发展趋势



CryptoAnalyst（http://www.cryptoanalyst.co/）

加密货币的新闻资讯和分析



CoinTerminal（https://site.cointerminal.co/）

展示加密货币市场的各种实时消息



Bitcoin Magazine（https://bitcoinmagazine.com）

第一本比特币专业杂志， 2012年由V神和同伴创立



Coin Speaker（https://www.coinspeaker.com）

2014年成立，每月有超过450,000独立访问



Bitcoinist（http://bitcoinist.com）

每日更新全球数字货币以及区块链资讯



CCN（https://www.ccn.com）

数字货币的新闻和分析



http://Bitcoin.com（https://news.bitcoin.com）

提供BTC相关的全球资讯



99 Bitcoins（https://99bitcoins.com）

针对非技术读者的数字货币媒体，适合小白同学入门



CoinBuzz.stream（https://coinbuzz.stream/）

从推特、Reddit、Google Trends 收集的BTC、ETH和LTC的新闻汇总，还设立了讨论区



ETHNews（https://www.ethnews.com）

以太坊、区块链新闻收集汇总



coincalendar （http://www.coincalendar.info/）

在线加密货币日历，提供比特币和其他数字货币的事件日历，包括分叉、大事件等



CryptoPanic（https://cryptopanic.com/news?filter=trending）

聚合可能对加密货币市场产生影响的新闻



CryptoBuzz（https://cryptobuzz.io/）

有关比特币和区块链的小道新闻



ICO Alert（https://www.icoalert.com/）

加密货币ICO项目进展情况



ICO地图（https://www.ico-map.io/）

提供全世界ICO项目的进行情况



7、挖矿相关
WhatToMine（https://whattomine.com/）

选择利润最高的数字货币进行挖矿，币种非常全



CoinWarz（https://www.coinwarz.com/cryptocurrency）

挖矿利润计算器



挖矿计算器（https://btc.com/tools/mining-calculator）

PPS 模式下的挖矿预计收益计算工具



鱼池（https://www.f2pool.com/）

中国第一家比特币矿池



蚂蚁矿池（https://www.antpool.com/home.htm）

比特大陆旗下的矿池



BTC矿池（https://pool.btc.com/）

矿池算力占比TOP3



莱比特矿池（http://www.btc.top/）

比特币矿池



Hashnest（https://www.hashnest.com/）

比特币云挖矿平台



http://BitcoinMining.com（https://www.bitcoinmining.com/）

科普挖矿的相关知识



8、区块查询
BTC（https://btc.com/）

比特币区块查询服务和工具



Blockchain.iofo（https://blockchain.info/）

比特币区块浏览器, 全世界访问量最大



http://Etherscan.io（https://etherscan.io/）

以太坊区块链浏览器，ERC-20 代币查询



Etherechain（https://ethstats.net/）

以太坊实时可视化图表数据



Bitbank（https://block.bitbank.com/btc/）

区块浏览器BTC/LTC/ETH/ETC



区块（http://qukuai.com/search/）

比特币、莱特币区块浏览器



比特现金区块（https://blockchair.com/bitcoin-cash/blocks）

BCH区块浏览器



莱特币区块（https://chainz.cryptoid.info/ltc/）

LTC区块浏览器



泰达币区块（http://omnichest.info/lookupsp.aspx?sp=31）

USDT区块查询



Ripple（https://xrpcharts.ripple.com/）

官网、区块链浏览器



Dash（https://explorer.dash.org/chain/Dash）

官网、区块链浏览器



小蚁（http://www.antcha.in/）

官网、区块链浏览器



NEM（http://chain.nem.ninja/#/blocks/0）

官网、区块链浏览器



Qtum（https://explorer.qtum.org/）

官网、区块链浏览器



9、搬砖相关
比特一下（http://bityixia.com/bit/binance）

平台搬砖差价、平台公告



AICoin搬砖常用工具（https://www.aicoin.net.cn/tools/rate）

搬砖常用费率计算器、BTC最佳费用



比特币精灵（http://www.btcjl.com/）

一个自动对冲交易的搬砖工具



BTC价格闹钟（http://www.bitcoin-tools.de/index.html）



BTC当前最佳手续费（https://btc.com/stats/unconfirmed-tx）



http://BTC.com 交易加速（https://pushtx.btc.com/）



BTC原始交易解码工具（https://btc.com/tools/tx/decode）



10、必读经典
比特币白皮书：一个点对点的电子现金系统（https://bitcoin.org/bitcoin.pdf）



Mastering Bitcoin 精通比特币（http://8btc.com/topic-mastering-bitcoin.html）



以太坊白皮书：下一代智能合约和去中心化应用平台

（https://www.ethereum.org/）



以太坊书单

EthList（https://github.com/Scanate/EthList）



数字加密货币指南（https://mycrypto.guide/）

告诉你有关加密货币的一切



11、其他有趣的网站
CryptoZombies（https://cryptozombies.io/）

由Loom Network提供，编游戏的同时学习以太坊的智能协议



Steemit（https://steemit.com）

基于区块链的社交网络和内容奖励平台



State of Dapps（https://www.stateofthedapps.com/）

分布式应用程序的精选集合



Purse – Shop with BTC（https://purse.io）

直接用比特币购买亚马逊的商品，还有15%的折扣


# 区块链手册原文作者：余弦，慢雾安全团队

在区块链黑暗森林世界里，首先牢记下面这两大安全法则：


1. 零信任。简单来说就是保持怀疑，而且是始终保持怀疑。


2. 持续验证。你要相信，你就必须有能力去验证你怀疑的点，并把这种能力养成习惯。


    注：本手册中，安全法则就这两条，其他都可以认为是这两条推论出来的安全原则。 


好，引子部分就到这。下面我们从一张图开始，进入到这个黑暗森林，看看我们都会遇到哪些风险及我们应该如何应对。


一张图
* ![图片](https://user-images.githubusercontent.com/79394963/198501083-39a576ee-3feb-40d7-896f-3d43296adb81.png)

在仔细看后文之前，你可以先粗略过下这张图。这张图是你在这个世界（无论你如何称呼这个世界，区块链、加密货币还是 Web3 都行）里关键活动有关的内容，从流程上包括三大部分：创建钱包、备份钱包及使用钱包。


我们顺着这三大流程，将涉及到的每个关键点展开分析。


创建钱包


钱包最最最核心的就是那个私钥（或助记词）。


私钥长这样：


    0xa164d4767469de4faf09793ceea07d5a2f5d3cef7f6a9658916c581829ff5584 


助记词长这样：


    cruel weekend spike point innocent dizzy alien use evoke shed adjust wrong 


    注：用以太坊举例，关于私钥/助记词的基础知识请自行扩展。 


私钥即身份，如果私钥丢了或被盗了，那么这个身份也就不是你的了。钱包应用其实很多，知名的也不少，我并不打算也不可能一一介绍。但该手册确实会提到一些具体的钱包，请注意，能被提到的必然是我有基本信任的，但我不担保你在使用过程中可能出现的安全问题或目标钱包可能出现并不在我预期内的安全风险（后文我不会再不断去废话这些，引子里提到的两大安全法则希望你牢记心中）。


钱包从应用分类来说主要包括几种：PC 钱包、浏览器扩展钱包、移动端钱包、硬件钱包及网页钱包等。从触网与否来说主要可以分为冷钱包和热钱包。当我们要进入这个世界，首先要思考将拥有的钱包的用途，用途决定了你将用哪个钱包，同时用途也决定了你会如何对待这个钱包。


无论你选择什么钱包，但至少有一点可以肯定的：在这个世界玩久了后，你不可能只有一个钱包。


于是这里我们又需要记住一个安全原则：做好隔离，也就是鸡蛋不要放在一个篮子里。一般来说使用越频繁的钱包，自然也加大了出问题的风险。时刻牢记：面对一个新事物时，先准备个单独的钱包，用单独的小资金去玩一段时间。除非你已经如我这般，经历无数，对许多事物都了然于心。但，常在河边走，哪有不湿鞋呢？


· Download


单这么简单的一点，其实也不简单，原因：


1. 许多人（真是许多人）找不到正确的官网，正确的应用市场，于是安装了假钱包。

2. 许多许多人对下载了的应用不知道如何确认是否被篡改过。

于是，出师未捷身先死。还没来得及进入这个世界，就已经钱包空空了。


针对上面的第 1 点，找到正确的官网是有技巧的，比如：


· Google


· 行业知名收录，如 CoinMarketCap

· 多问一些比较信任的人

好，上面这几点得到的信息可以全部结合起来参考，互相佐证，最终真相只有一个:) 恭喜你，找到了正确的官网。


接着，你要下载安装应用了，如果是 PC 钱包，根据官网提供的下载链接，下载后需要自己去安装。但在安装之前，建议做下是否篡改的校验工作，虽然这个做法并无法防止源头就被完全篡改的情况（比如官方自己内部作恶、内部被黑、官网被入侵替换了相关信息等等），但可以防止如：源头被部分篡改、被中间人劫持篡改等这些情况。


是否篡改的校验，实际上就是文件一致性校验。常见的方式有两种：


· 一种是哈希校验，比如 MD5、SHA256 等，MD5 绝大多数情况下够用，但存在被哈希碰撞的极小风险，所以业内一般选择 SHA256，够用且够安全。

· 另一种是 GPG 签名校验，这个其实也很流行，强烈建议掌握 GPG 工具、命令、方法，虽然对于新人来说有那么些费力，但上手后，相信我，你会很快乐的。

话虽至此，其实业内这样做的项目方并不多，所以一旦遇到，真是难能可贵，弥足珍惜，比如一款比特币钱包 Sparrow Wallet，下载页面的「Verifying the Release」简直良心了，提到的两种方式都有清晰指南，可以直接参考学习：


    https://sparrowwallet.com/download/


这个页面提到的 GPG 工具有两个：


· GPG Suite，macOS 下运行的。

· Gpg4win，Windows 下运行的。

如果你细心观察，你会发现这两个 GPG 工具的下载相关页面其实都有给出两种方法的一致性校验说明，但不好意思的是，并没手把手教你如何校验。估计吧，都是认为你会是聪明人，该补上的知识你已经补上了:)


如果是浏览器扩展钱包，比如这世界家喻户晓的 MetaMask，你唯一有机会注意的就是目标扩展下载页面里的用户数多不多、评分情况如何，比如 MetaMask 在 Chrome 网上应用店里，用户数可是超过一千万的，同时有两千多用户评分的，虽然最终评分并不高。有人要说这不可以刷出来吗？这位朋友，是这样的，刷，我相信，不过刷的量如此之巨大，当各方是傻子呢。


如果是移动端钱包，判断方式类似扩展钱包，不过需要注意的是，iPhone 的 App Store 是分区的，加密货币在中国大陆被驱赶得不行，所以如果你用 App Store 中国区账号下载到了钱包，建议只有一个：别用，换成如美区的 App Store 账号下载吧。另外，通过正确的官网也能引导到正确的下载位置（比如全球知名的 imToken、Trust Wallet 等，官网安全一定要做好，官网都被黑了，那这安全责任就真大了）。


如果是硬件钱包，简单来说，可以从官网源头的引导下购买，不要直接去在线商城，到手后也需要留意是否存在被异动手脚的情况，当然有些针对硬件包装的异动是很高明的，不一定都能看得出。此时建议：无论如何，使用时，先连续至少三次从头开始的创建，记录下生成的助记词、相关钱包地址，不会重复就行。


如果是网页钱包，非常不建议使用这种在线的钱包，除非你不得已，那么识别好是官方的后，速战速决吧，千万别有任何感情依赖。


· Mnemonic Phrase


一般来说，我们创建了钱包后，直接打交道的关键信息是助记词（而不是私钥），毕竟助记词是方便人类记忆的。助记词是有标准约定的（如 BIP39），这就对助记词提了要求，比如一般 12 个英文单词，也可以是其他数量（3 的倍数），不过不会超过 24 个单词，要不然太复杂也就不助记了，数量少于 12 的话，安全性也不靠谱，12、15、18、21、24 都好说。不过从业内习惯来说，一般流行的是 12 位，安全性足够，有的安全严谨到变态的如 Ledger 这类硬件钱包，24 位标配走起。还有除了英文单词，也可以是其他的，比如中文、日文、韩文等等。但也不是什么单词都可以，有一个固定 2048 个单词列表，具体参考：


    https://github.com/bitcoin/bips/blob/master/bip-0039/bip-0039-wordlists.md


创建钱包时，助记词的出现是非常敏感的，请留意你身边没有人、摄像头等一切可以导致偷窥发生的情况。同时留意下助记词是不是足够随机出现，正常来说这些知名钱包生成的助记词随机数是绝对足够的，这不以防万一？你真的很难知道，拿到手的钱包到底有没有万一的猫腻。你也不要嫌麻烦，这些安全小习惯形成后，相信我，你真的会很快乐。最后，有的场景下，你甚至可以考虑断网来创建钱包，尤其是你准备把该钱包当成冷钱包使用时，断网简直就是暴力美学。


· Keyless


Keyless，顾名思义是无私钥的意思。在这我们把 Keyless 分为两大场景（注意，这里的区分不代表业内公认区分方式，只能说是方便我讲解）：


· Custody，即托管方式。比如中心化交易所、钱包，用户只需注册账号，并不拥有私钥，安全完全依托于这些中心化平台。

· Non-Custodial，即非托管方式。用户唯一掌握类似私钥的权力，但却不是直接的加密货币私钥（或助记词）。比如依托知名 Cloud 平台做托管、认证授权，此时知名 Cloud 平台成为木桶的那块短板。还有利用了安全多方计算 (MPC) 来确保不存在单点风险，同时也结合知名 Cloud，将用户体验做到最好。

对我来说，Keyless 的几种方式我都有使用。实力雄厚及口碑良好的中心化平台体验好，只要不是因为自身原因导致的被盗币（比如账号相关权限被盗），这些平台也会兜底赔付。至于 MPC 为主的 Keyless 方案是我觉得很有前景且应该尽快普及的，我用过不错的如（ZenGo、Fireblocks、Safeheron）。优势很明显，我这简单提几点：


· MPC 算法工程实践在这些知名区块链上，越来越成熟，只需针对私钥开展即可。

· 一套思路可以解决不同区块链的多签方案差异巨大的问题，使其在用户感知上通用，这是我们常说的：通用多签。

· 可以确保真实的私钥从不出现，通过多方计算解决单点风险。

· 结合知名 Cloud（或有人提的 Web2）让 MPC 不仅安全且体验更顺滑。

优点明显，但缺点也是有的，我也简单提几点：


· 满足业内公认标准且开源的，这方面的成熟度还远不够，各位仍需努力。

· 有不少人说基本只玩以太坊系列（或者说基于 EVM 的区块链），那么 Gnosis Safe 这种智能合约方式的多签方案也就够了。

无论哪种方式，只要是你觉得安全可控的、用起来舒服的，那么都是好方式，仁者见仁智者见智。


好，创建钱包的相关安全注意点就先介绍这些，有一些通用性的安全问题会统一在之后介绍，先不着急:)


备份钱包


许多挺厉害的人都在这踩坑了，其中包括我，常在河边走，湿鞋我也认，好在这不是个大资产钱包，并且最终我在慢雾的兄弟帮我破解解决了。这也是厉害的地方，我没备份好，我踩坑了，但我却有厉害的资源能帮我解决这个坑。不过我也会冒冷汗，人之常情。冒冷汗的感觉你肯定也不喜欢，那就集中精力学习下如何安全地备份钱包吧。


· 助记词/私钥类型

· 助记词/私钥类型


我们所说的备份钱包，其实归根结底是备份助记词（或私钥，为了方便介绍，后文一般情况下只提助记词）。我们拿到的助记词其实可以主要分为几种类型：


· 明文

· 带密码

· 多签

· Shamir's Secret Sharing，简称 SSS

这几种类型，我简单展开说说。


明文，很好理解，那 12 个英文单词你拿到了，里面的资产就是你的了。其实这个时候可以考虑做些特别的「乱序规律」，甚至把某个把单词替换为其他的单词。这样做对于坏人来说头疼了，但如果这个「规律」你自己忘记了，就轮到你头疼了。千万不要觉得你头疼是不可能的，相信我，一年、两年、五年后，记忆这东西真的会错乱。几年前，我玩 Ledger 硬件钱包时，就踩坑了，助记词 24 个单词，我抄写备份时打乱了顺序，几年后我忘记了排序规律，且不记得自己是不是替换了其中的单词。如前面说的，我的问题后来解决了，专门的破解程序碰撞出了正确的助记词顺序且纠正了其中的个把单词。


带密码，根据标准，助记词是可以带密码的，助记词还是那样的助记词，只是带上密码后会得到不一样的种子，这个种子就是之后拿来派生出一系列私钥、公钥及对应地址。此时，你不仅要备份好助记词，这个密码也千万别忘记了。顺便说下，带密码的形式，除了配套助记词，私钥也有相关标准（如 BIP38），还有如以太坊系列常见的 Keystore 文件。


多签，可以理解为目标资金需要多个人签名授权才可以使用，多签很灵活，可以设置审批策略，比如 3 个人都有钥匙（助记词或私钥），需要满足至少 2 人的签名审批，目标资金才可以使用。每个区块链都会有自己的多签解决方案，比特币系列的很好理解，知名的比特币钱包都原生支持多签。不过以太坊系列的，主要通过智能合约来实现多签，如 Gnosis Safe。另外，除了这些比较普遍的多签方案，还有一类正在流行的：MPC(Secure Multi-Party Computation)，即安全多方计算，和传统多签体验接近，但原理却很不一样，通过 MPC，可以实现通用多签，并不需要不同链不同的多签方式。


SSS，Shamir 秘密共享方案，作用就是将种子分割为多个分片（常见的每个分片有 20 个单词），恢复钱包时，需要使用指定数量的分片才能恢复。具体参考业内最佳实践：


    https://support.keyst.one/v/chinese/gao-ji-gong-neng/zhu-ji-ci/chuang-jian-dao-ru-fen-pian-zhu-ji-ci


    https://wiki.trezor.io/Shamir_backup


用了多签、SSS 这类方案，其实会放心很多，避免了单点风险，但管理上也相对复杂了，而且这很多时候会涉及到多个人。便捷与安全是永恒的矛盾，具体看自己。但在法则、原则上千万别偷懒。


· Encryption


加密是个非常非常大的概念，无论对称、非对称还是其他什么高级的，只要加密了后，多年以后，你或者你的灾备人可以很好解开，而其他人解不开的加密就是好加密。


根据「零信任」这个安全法则，当我们在备份钱包时，每个环节都要假设可能会被入侵，哪怕物理环境，如保险箱。别忘了，这个世界除了你自己，并没有其他人是完全可信的，其实有的时候自己也不可信，比如记忆可能会淡忘、错乱等。但我不会把这个世界假设的如此可怕，否则最终还是会把事情搞砸了。


备份时一定要特别考虑灾备。灾备主要就是要避免单点风险，万一你没了，万一你备份目标所在的环境没了，该怎么办？所以重要的东西，一定要有灾备人；重要的东西，一定有多处备份。


那么，灾备人的选择我就不废话了，看你信任谁吧。我重点提提多处备份。先看看备份位置的几个基本形态：


· Cloud

· Paper

· Device

· Brain

Cloud，许多人谈云备份色变，似乎黑客真的就上天入地，来无影去无踪的。其实攻防对抗永远都是成本对抗，看谁投入的大，无论是人才还是钱。对于我来说，我会比较信任 Google、Apple、微软等提供的相关云端服务，因为我知道他们的安全团队是如何实力，安全投入是如何之大。但除了对抗外部黑客入侵，我还很关心内部安全风控的能力及隐私数据保护有关的约束力。我比较信任的几个，都算是把这些我在意的安全风险规避得不错的。但凡是绝无绝对。如果我选择这些云来备份我非常重要的数据（如钱包），我一定还会给钱包再做至少一次加密的。


我强烈推荐掌握 GPG，除了前面提到的「签名验证」用途之外，加解密方面安全性也足够强了。关于 GPG 这块的入门可以参考：


    https://www.ruanyifeng.com/blog/2013/07/gpg.html


好，你掌握了 GPG:) 现在你已经在离线安全环境下用 GPG 加密了你的钱包（助记词或私钥）有关内容，你可以把加密后的文件直接扔到这些云服务里去了，保存好，没事的。但这里我需要提醒下，你 GPG 的私钥别丢了、私钥密码别忘记了...


到这，安全带来的麻烦似乎还没适应，GPG 好不容易入门了，你还得备份好 GPG 的私钥及私钥密码。其实真到这步了，你也熟悉了，再备份这点东西其实也就不麻烦了。这点我不展开，留给实践出真知的你。


如果你想偷懒，还有一种方案是可以考虑的，只是安全性上会打点折扣，我不好衡量具体折扣多少，但有时候有的场景下我也会偷懒，于是我会考虑用知名的工具来做辅助。这个工具就是 1Password。1Password 新版本已经支持直接保存钱包相关内容，如助记词、密码、钱包地址等，这方便用户。其实其他同类型工具（如 Bitwarden）也可以，只是使用起来不像这样方便。


Paper，许多硬件钱包都会附带几张质量上乘的纸卡片，你可以将助记词（明文、SSS 等形式的）抄写在上面。除了纸质的，还有钢板的（抗火抗水抗腐蚀，当然我没验证）。助记词抄写完成后，会做一次验证，没问题后，放进你觉得安全的位置，比如保险箱。其实我个人挺喜欢 Paper 的，Paper 所处环境不错的话，寿命远大于电子设备。


Device，各种设备吧，电子设备是常用的一种，电脑、iPad、iPhone、移动硬盘、U 盘等都可以拿来做备份，看个人喜好。然后设备间的安全传输，让我比较有安全感的是：隔空投送 (AirDrop)、USB 等这类点对点且挺难出现中间人劫持情况的方式。只是我天然对电子设备不放心的一点是多年后可能就坏了，所以会保持每年至少一次的检查习惯。有一些重复做法（如加密）参考 Cloud 小点里的说法就行。


Brain，脑记很爽很刺激，其实每个人都有自己的「记忆宫殿」的，这玩意不玄乎，可以训练，熟能生巧，加深记忆。有不少东西确实还是脑记好，至于到底是不是只唯一用脑记看你自己。反正注意两种风险：一是时间会让记忆淡忘或错乱；二是自己可能出意外。这块不多说了，请自行扩展。


现在你都备份好了。加密不能太过分了，否则多年以后等于「同归于尽」，因为到时候你可能自己都解不开。根据安全法则「持续验证」，无论过不过分的加密及备份方法，一定要做到定期不定期地验证，验证频率得看你的记忆，有时候转头可能就忘记了。验证不代表一定都要完整解开看看，只要整个过程不会错，采用部分验证也是可以的。最后，也需要注意验证过程的机密性及安全性。


好了，长舒一口气，其实入门是最难的，以上你都准备好后，咱们开始真正进入这个黑暗森林吧:)


使用钱包


当你创建及备份好钱包后，真正的大挑战才来了。除非你非常的佛系，不怎么折腾持有的价值资产，平时也不会去玩以太坊系列的 DeFi、NFT、GameFi 等智能合约有关的项目，或者说当下喜欢提的 Web3。那么实际上你的资金是挺安全的。


· AML


嗯，也只是「挺安全」，因为这里还是有风险的，所谓「人在家中坐、祸从天上来」。为什么这样说呢？你想呀，你最开始的加密货币是从哪里来的？不会是凭空出现的吧？那么在加密货币活动可能中，你拿到的加密货币都可能遇到 AML(Anti Money Laundering) 即反洗钱风控。也就是说你此刻持有的加密货币可能是不干净的，甚至如果足够倒霉，还可能存在被直接在链上冻结的情况，比如公开报告中 Tether 曾经在执法单位的要求下冻结了一些 USDT 资金。被冻结列表可以看这：


    https://dune.xyz/phabc/usdt---banned-addresses


验证是否被 Tether 冻结，可以在 USDT 合约地址进行：


    https://etherscan.io/token/0xdac17f958d2ee523a2206206994597c13d831ec7#readContract




在 isBlackListed 输入目标钱包地址即可判断。USDT 所在的其他链大体同理（别较真）。


但你的比特币、以太坊是不会出现链上冻结情况的，也许未来出现了这个情况，那这点本来非常坚定的去中心化信仰可能也就没了。我们现在经常听到的加密货币冻结实际上绝大多数并不是发生在链上的，而是发生在中心化平台里，如中心化交易平台（Binance、Coinbase 等）。你的加密货币在这些中心化平台里，意味着你并不是真正意义上持有这些加密货币，中心化平台冻结的其实是你的账号，尤其是你的交易、提币权限。冻结这个概念其实很容易对圈外人造成无解，于是出现一些很烂的自媒体胡乱解读及散播比特币的各种阴谋论。


虽然你的比特币、以太坊等不会在链上被冻结，但如果你的这些加密货币本身就涉及到相关执法单位在处理的案件，一旦你的加密货币转移进中心化平台，这些中心化平台就有可能因为 AML 等要求将你的加密货币冻结。


为了比较好地避免 AML 问题，需要选择口碑好的平台、个人等作为你的交易对手。别瞎搞基本问题不大。如果要深度地解决这些问题实际上也是有不少办法的，比如以太坊系列上，几乎所有坏人及特别在意隐私的人都会选择 Tornado Cash 进行混币。更多的方法就不提了，因为这些方法实际上也会被用来作恶。


· Cold Wallet


冷钱包有好几种使用方法，对于钱包本身来说是不联网的，那么就可以认为这是个冷钱包。那么不联网如何使用？首先，如果仅仅是接收加密货币，问题不大，配合个观察钱包体验就已经挺不错了，比如 imToken、Trust Wallet 等都可以直接添加钱包地址，成为目标钱包地址对应冷钱包的观察钱包。


如果冷钱包要发送加密货币，常见的方式有几种：


· QRCode

· USB

· Bluetooth

这几种都需要专门的应用（这里称之：Light App）搭配冷钱包使用，这个 Light App 是联网的，包括前面提到的观察钱包。我们只需明白其中本质原理就会明白这些方式了。本质是：最终只需想办法把签名后的内容广播上链。我大概解析下过程：


· 待签名的内容由 Light App 通过这些方式传输给冷钱包。

· 签名由拥有私钥的冷钱包搞定后再通过这些方式传输回 Light App。

· Light App 将签名后的内容广播上链。

所以这里无论是二维码 (QRCode)、USB、还是蓝牙 (Bluetooth) 等方式，用途就是如上所说。当然不同的方式会有不同的细节，比如二维码信息容量是有限的，遇到签名数据很大的时候就得拆分。


这样使用似乎麻烦了点，不过习惯了就好，甚至满满安全感。但，千万别把安全感加满，因为这里还是有风险的，已经许多案例是因为这些风险而导致损失惨重。风险点如：


· 转币的目标地址没严格检查，导致币转给了其他人。人都是有惯性或惰性的，比如很多时候检查一个钱包地址主要就看开头、结尾几位是不是正确的，而没有几乎完整检查。于是坏人就激动了，专门用程序来跑出头尾几位一样的地址，然后通过一些手法把你的转币目标地址给替换为他控制的地址。

· 授权相关币种给了未知地址，通常来说授权是以太坊系列智能合约代币的机制，就是那个 approve 函数，一个参数是授权给目标地址，另一个参数是数量。许多人不了解这个机制，于是就可能把无限数量的代币授权给目标地址，此时目标地址就有权限把这些代币转走了。这就是所谓的授权盗币，手法还有其他变种，这里就先不扩展了。

· 一些看去不重要的签名，实际上藏着巨大的陷阱，这点也先不展开，之后会有解析。

· 冷钱包可能并没给你足够的必要信息展示，导致你大意了、误判了。

这一切都可以归结为两点：


· 所见即所签这种用户交互安全机制缺失。

· 用户的有关知识背景缺失。

· Hot Wallet


相比冷钱包，冷钱包有的风险热钱包基本都会有，除此之外，热钱包多了个：助记词（或私钥）被盗风险。此时的热钱包要考虑的安全就多了，比如运行环境的安全，如果运行环境有相关病毒，那么就有被盗风险。还有热钱包如果存在某些漏洞，通过漏洞也可以直接盗走助记词。


热钱包除了常规的转币功能外，如果要与那些 DApp（DeFi、NFT、GameFi 等）交互，要么直接用自带的浏览器访问，要么通过 WalletConnect 协议与 PC 浏览器打开的 DApp 交互。


    注：本手册提到的 DApp 默认指运行在以太坊系列区块链上的智能合约项目。 


默认情况下，这样的交互是不会导致助记词被盗的，除非钱包安全设计本身有问题。从我们的安全审计及安全研究历史数据来看，存在钱包助记词被目标页面恶意 JavaScript 直接盗取的风险。但这个情况比较罕见，因为这实际上属于极其低级的错误，知名钱包都不大可能会犯这种错误。


这里我最担心的问题实际上都不是以上这些，这些对我来说都可控（你也可以的），我最关心/担心的问题是：知名钱包的每次版本迭代是如何确保不会被植入恶意代码或后门？这个问题言下之意很清楚：当前的钱包版本我验证了没什么安全问题，我敢放心用，但我不知道下一个版本安全性如何，毕竟，我或者我的安全团队不可能有那么多时间与精力都去做验证。


这里所说的恶意代码或后门造成的盗币事件已经好几起了，如曾经的 CoPay、近期的 AToken 等，具体事件可以自行搜索了解。


对于这种情况，作恶主要有几种方式：


· 钱包运行时，恶意代码将相关助记词直接打包上传到黑客控制的服务端里。

· 钱包运行时，当用户发起转账，在钱包后台偷偷替换目标地址及金额等信息，此时用户很难察觉。

· 破坏助记词生成有关的随机数熵值，让这些助记词比较容易被破解。

安全这东西，无知者无畏、知者敬畏，许多点是细思恐极的。所以对于存有重要资产的钱包，我的安全原则也简单：不做轻易更新，够用就好。


· DeFi 安全到底是什么


当我们提 DApp 时，可能是 DeFi、NFT 或 GameFi 等等，这几个的安全大多是相同的，但会有自身的特别点。我们这里以 DeFi 为例先讲解下，当我们提 DeFi 安全时，到底指的是什么？业内几乎都只看智能合约部分，似乎智能合约安全了也就没事了。其实远远并非如此。


DeFi 安全至少包括如下几部分：


· 智能合约安全

· 区块链基础安全

· 前端安全

· 通信安全

· 人性安全

· 金融安全


· 合规安全


智能合约安全


智能合约安全确实是安全审计最重要的切入点，慢雾针对智能合约的安全审计点可以参考：


    https://www.slowmist.com/service-smart-contract-security-audit.html


对于高级玩家来说，如果智能合约部分本身安全性可控（无论是自己能安全审计还是读懂专业机构的安全审计报告），那么也就无所谓其他部分的安全了。可控是个很有差异的理解，有的得看玩家实力。比如说智能合约权限过大的风险，玩家是有要求的，除非项目方本身实力雄厚及口碑良好，完全中心化也都无所谓。但对于那些不大知名的、有争议的或新出现的项目，如果你说这个项目的智能合约有权限过大的风险，尤其是这种权限还可以影响你的本金或收益，你肯定就不愿意了。


权限过大这种风险是很微妙的，很多时候权限这东西是方便项目方做相关治理及风险应急的。但对我们来说，这就是人性考量了，万一项目方作恶呢？于是业内有了折中的实践：增加时间锁 (Timelock) 来解决一些权限过大的风险，比如：


    Compound，这个老牌知名的 DeFi 项目，它核心的智能合约模块 Comptroller 及 Governance 的 admin 权限都加了 Timelock 机制： 


    Comptroller(0x3d9819210a31b4961b30ef54be2aed79b9c9cd3b) 


    Governance(0xc0da02939e1441f497fd74f78ce7decb17b66529) 


    的 admin 地址是： 


    Timelock(0x6d903f6003cca6255d85cca4d3b5e5146dc33925) 


链上可以直接看到 Timelock 的时间锁（delay 参数）是 48 小时（172800 秒）：




也就是说，如果 Compound 的 admin（项目方）需要变更目标智能合约的一些关键值时，这笔交易上链后会有记录，但必须等到 48 小时后才可以最终完成执行。这意味着，只要你愿意，你是可以审计 admin 的每一次操作，你至少有 48 小时来反应。比如如果你不放心，你可以在 48 小时内把资金撤走。


还有一种削弱项目方权限过大风险的做法是：将 admin 多签了，比如用 Gnosis Safe 进行多签管理，这样至少不会出现一言堂。这里需要注意的是，多签可以是「皇帝的新衣」，比如一个人掌握了多把钥匙。所以目标项目的多签策略需要公示说明清楚，钥匙都由谁保管，保管钥匙的角色也一定是有口碑的。


这里需要特别注意，任何安全策略，都可能出现「皇帝的新衣」问题，表面做得好，实际上却不是，呈现出了一种虚假安全感。再举个例子，Timelock 这玩意，看去似乎挺好，实际上出现过有的项目方部署的 Timelock 是有后门的情况。用户一般也不会直接去看 Timelock 源码，而且也不一定看得懂，于是放了个后门在那，一时半会还真不一定有人留意到。


除了权限过大风险，智能合约安全的其他内容也都很关键，但理解门槛还是挺高的，这里就不展开了，我的建议是这样：至少可以逐步学会阅读安全审计报告，熟能生巧。


区块链基础安全


区块链基础安全指的是区块链本身的安全性，如：共识账本安全、虚拟机安全等。如果区块链本身安全性堪忧，其上运行的智能合约项目也可以直接喝西北风了。选择一条拥有足够安全及知名度的区块链，甚至大概率可以源远流长的区块链是多么的重要。


前端安全


前端安全真是魔鬼，与用户走得太近了，特别容易让用户魔怔后上当受骗。可能大家主要的注意力都在自己的钱包上和目标项目的智能合约安全上了，前端安全非常容易被忽视。这里我需要再次强调，前端安全是魔鬼！我重点说说。


前端安全里我最在意的点是：我怎么知道我在这个前端页面里的交互对象就是我以为的智能合约？


造成这种不安全感主要是因为以下这两种风险：


· 内部作恶

· 第三方作恶

内部作恶很好理解，比如开发人员偷偷将前端页面里的目标智能合约地址替换为一个有后门的合约地址，或者直接植入个授权钓鱼脚本。当你访问该前端页面时，你钱包后续的一系列涉及加密货币的操作都可能是在陷阱里完成的。神不知鬼不觉，币没了。


第三方作恶，主要指的是两种：


· 一种是供应链作恶，比如前端依赖的第三方模块被植入了后门，随着打包发布一起被直接带入目标前端页面了。如 SushiSwap（仅仅举例子，并不代表截图里的项目有发生这个问题）：




· 一种是前端页面引入的第三方远程 JavaScript 文件，如果这个 JavaScript 文件作恶或被黑，那么目标前端页面可能就会被影响，如 OpenSea（仅仅举例子，并不代表截图里的项目有发生这个问题）：




为什么这里说可能会被影响是因为，如果项目方在前端页面以下面这样的方式来引用第三方远程 JavaScript 文件的话，就可能不会被影响：


    <script src="https://image.theblockbeats.info/other/pic404.png"https://example.com/example-framework.js" target="_blank" rel="noopener noreferrer">https://example.com/example-framework.js" integrity="sha384-Li9vy3DqF8tnTXuiaAJuML3ky+er10rcgNR/VqsVpcw+ThHmYcwiB1pbOxEbzJr7" ></script> 


这里的关键点是 HTML5 的一个不错的安全机制：标签里的 integrity 属性（SRI 机制），integrity 支持 sha256, sha384, sha512，如果第三方 JavaScript 资源不满足 integrity 的哈希完整性校验，就不会加载，这个可以很好防止非预期的代码执行。但使用这个机制需要目标资源支持 CORS 响应。具体参考：


    https://developer.mozilla.org/zh-CN/docs/Web/Security/Subresource_Integrity


等等，为什么我前面又提了「可能」，是因为有存在被绕过的场景。至于绕过方式我就不提了，因为大多情况下，你只需关注目标前端页面在引入第三方远程 JavaScript 文件时是否有 integrity 机制。可惜的是，OpenSea 没有，让我们祝福它。


通信安全


通信安全这部分，重点看 HTTPS 安全就好。首先目标网站一定要 HTTPS，绝不允许存在 HTTP 明文传输的情况。因为 HTTP 明文传输实在太容易被中间人劫持攻击了，现在 HTTPS 这种安全传输协议已经非常普遍。如果 HTTPS 出现中间人劫持攻击，比如植入了恶意 JavaScript 代码到目标前端页面，此时浏览器必然会出现 HTTPS 证书错误的高显目提醒。举个例子，曾经 MyEtherWallet 的坑。


MyEtherWallet 曾经是个很流行的网页钱包，现在也挺知名，不过已经不仅仅是网页钱包了。我前面有说过，网页钱包我非常不建议使用，除了前端安全的各种猫腻之外，还可能出现 HTTPS 劫持的风险。


2018.4.24，MyEtherWallet 就出现过 HTTPS 劫持的重大安全事件，回顾可见：


    https://www.reddit.com/r/MyEtherWallet/comments/8eloo9/official_statement_regarding_dns_spoofing_of/


    https://www.reddit.com/r/ethereum/comments/8ek86t/warning_myetherwalletcom_highjacked_on_google/




当时黑客是通过 BGP 这个上古协议劫持了 MyEtherWallet 大量用户所用的 DNS 服务（Google Public DNS），这导致许多用户访问 MyEtherWallet 时，浏览器出现 HTTPS 错误证书的提醒。其实吧，遇到错误证书了，原则上就别继续访问了，因为这表示目标页面已经被劫持了。但是真的许多用户不懂这个安全风险，顶多犹豫下就忽略错误证书的提醒继续强制访问了。


由于目标页面已经被劫持，黑客注入了恶意 JavaScript 代码，直接就盗走了目标用户在目标页面上的明文私钥，之后批量转走这些用户相关的加密货币（主要是 ETH）。


这绝对是个经典案例，黑客为了盗币，动用了 BGP 劫持，真是杀鸡用了牛刀。之后也出现过几起类似的案例，这里就不提了。这里对于用户来说实际上只需要注意一点，当你真的要用网页钱包或玩相关 DApp 时，一定要注意：当目标页面出现 HTTPS 错误证书提醒时，就立即停止继续访问、关闭页面，那么你什么事都不会有。


安全上有个残酷现实，是这样的：当已经出现风险时，就别给用户选择，一旦给了，总会有用户无论出于何种原因会掉坑里。其实这里项目方是需要肩负起相关责任的，比如这个 HTTPS 劫持，其实已经有很好的安全解决方案，项目方的开发人员只需配置好 HSTS 即可。HSTS 全称 HTTP Strict Transport Security，是浏览器支持的一个 Web 安全策略，如果开启了这个配置，浏览器发现 HTTPS 证书错误后就会强制不让用户继续访问。明白什么意思了吧？


人性安全


人性安全这块很好理解，比如项目方内部作恶，这点在前面已经提了些内容，暂时就不过多展开。因为之后，这块还会专门展开讲讲。


金融安全


金融安全是个很需要敬畏的概念，放在 DeFi 上，涉及到金融的点，用户最关心的是币价、年化收益，一定要好，至少要稳。简而言之是，我作为用户，我玩这个 DeFi，我要赚钱。如果亏了，得让我心服口服。嗯，这也是人性。


这部分可能出现诟病的有：


· 不公平启动，比如预挖、老鼠仓。

· 巨鲸攻击，所谓的钞能力。

· 黑庄，看谁跑得快。

· 市场黑天鹅，比如突然的大瀑布，还有如目标 DeFi 与其他 DeFi/Token 套娃或互操作，这个时候木桶短板可能就决定于其他 DeFi/Token 了。

· 还有一些比较技术性的或者说科学家手法，比如抢跑、三明治攻击、闪电贷攻击等。

合规安全


合规安全是个非常大的话题，前面提到的 AML(Anti Money Laundering) 只是其中一点，还有如 KYC(Know Your Customer)、制裁地区限制、证券风险有关的内容等等。其实对于用户来说，这些不是我们可以对抗的，只能说当玩一个项目时，目标项目可能会受到某些国家的安全监管，因此可能会出现我们在意的隐私信息采集的问题。你可能不在意这点隐私，但却有在意的人。


比如，2022 年初出现的一件小事：钱包支持 Address Ownership Proof Protocol(AOPP) 协议。


当时我看了下 AOPP 的协议设计，原来支持了 AOPP 的钱包可能泄露用户隐私：监管机构会有能力知道一个被监管的交易平台和一个不知道的外部钱包之间的关联。参考：


    https://gitlab.com/aopp/address-ownership-proof-protocol


怪不得许多隐私钱包重视这个反馈，纷纷删除了这个协议的支持。话说回来：这个协议设计还真有意思。我注意到也有的钱包暂无计划删除对 AOPP 的支持，比如 EdgeWallet，他们的观点认为 AOPP 并没暴露更多的用户隐私，而且可以让加密货币的流转提供更大的帮助，因为，如果用户无法证明一个外部钱包地址属于自己，那么一些被监管的交易平台是不允许用户提币到这个外部钱包地址的。


刚开始知名硬件钱包 Trezor 也是不删除 AOPP 的支持，后来在 Twitter 上迫于社区及用户压力做了删除妥协了。


你看，就这么小的一点，实际上对于有的人来说是隐私大事。这里并不是说要对抗监管，不管合规安全。其实在我的观点里，适当的合规安全妥协是必要的。这个话题就不继续展开说了，按你的舒服的方式去理解就行。


到这，DeFi 安全的主要部分的相关内容就介绍完了。


除了以上这些，还有未来的新增或更改而引入的安全问题，我们经常说「安全是动态的、不是静态的」，指的就是这点。比如现在很多项目方都有安全审计及漂亮的安全审计报告，但如果认真阅读质量不错的报告就会发现，这些报告会说明清楚，什么时间范围安全审计了什么内容，内容的唯一标记是什么（比如链上开源验证后的地址或 GitHub 仓库的 commit 地址，再或者目标代码文件的哈希值）。所以报告是静态的，如果你发现目标项目有不符合报告里的描述内容，就可以指出。


· NFT 安全


前面提的 DeFi 安全几乎内容都可以应用到 NFT 安全上，但 NFT 又有自己独特的安全点，比如：


· Metadata 安全

· 签名安全

Metadata 指的主要就是图片、动图等内容，关于 Metadata 的具体标准建议可以参考 OpenSea 出的：


    https://docs.opensea.io/docs/metadata-standards


这里可能带来的安全问题主要有两点：


· 一个是图片（或动图）所在的 URI 是不可信的，比如随便的中心化服务，一方面不稳定，另一方面项目方随便改图片都行，那么 NFT 的数字藏品能力也就没了。一般都会用 IPFS、Arweave  这些去中心化存储，并且用知名的 URI 网关服务。

· 另一个问题是可能造成隐私泄露，随便的 URI 是可以采集用户的基本隐私的（如 IP、User-Agent 等）。

签名安全问题很严重，下面展开。


· 小心签名！


签名安全是我特别需要提的，因为签名协议坑很多，已经发生了数起安全事件，尤其围绕 NFT 的。但我注意到其实太多人还是无法很好应对这部分安全问题，究其原因在于很少有人把这部分安全问题讲明白。


签名安全里首要遵守的最大安全原则是：所见即所签。即你看到的内容就是你预期要签名的内容，当你签名发出去后，结果就应该是你预期的，绝不是事后拍断大腿的。


签名安全有关的一些内容在「Cold Wallet」部分有提到，印象不深的建议回顾下，这里重点讲讲不一样的内容。


OpenSea 在 2022 年前后出现过数起用户持有的知名 NFT 被盗事件，尤其是 2022.2.20 集中爆发，根本原因在于：


· 用户在 OpenSea 授权了 NFT（挂单）。

· 黑客钓鱼拿到用户的相关签名。

比较正确的解读可以见这：


    https://twitter.com/Nesotual/status/1495223117450551300


这个相关签名要拿到其实不难，黑客需构造正确的待签名内容，哈希后，诱骗目标用户完成签名（这里是盲签，也就是说用户实际上不知道自己到底签名的内容是什么），黑客拿到签名后的内容，构造利用数据，完成利用。


我这里拿其中一个 NFT 市场进行具体说明（不一定是 OpenSea）。当目标用户在 NFT 市场里授权了相关 NFT 挂单后，攻击者构造了正确的待签名内容，通过 Keccak256 哈希后，在钓鱼页面上弹出了待签名的内容给用户，此时用户看到的东西如下：




仔细看，MetaMask 弹出的这个窗口，能看出什么？账户及余额、签名请求的来源网站、正在签名的消息，没了... 就这点内容，用户怎么会想到自己一旦点击了「签名」后，灾难就来了，自己的相关 NFT 就可以被盗走了。


这其实就是一种盲签，用户并不需要在 NFT 市场里签名，可以被诱骗在任何网站（钓鱼网站）上签名，而用户根本就不知道这些签名的实际意义，可惜的是黑客知道。对于用户来说，只需牢记：拒绝盲签。OpenSea 之前存在盲签情况，2022.2.20 后改进了，采用 EIP-712 进行了升级改进。但即使不是盲签，还是有用户会粗心大意。


为什么会出现这种情况，最最本质的原因还是在于签名并不存在浏览器同源策略的约束，你可以简单理解为：同源策略可以确保一个行为只在明确的域名下发生，不会跨域发生，除非项目方故意要跨域的发生。如果签名有同源策略，那么非目标域名产生的请求签名，即使用户签名完成了，黑客也没法将这个签名用于目标域名下的攻击。这里就不继续展开说了，协议级别的安全改进，我有注意到新草案，我希望这种情况能尽快得到改善。


目前提到的签名安全涵盖了主要方式，但变种其实挺多，无论如何，万变不离其宗。最好的吃透方式是自己从头到尾完整将攻击复现一遍，甚至首创一些独特的攻击方式。比如这里提到的签名，其实里面有大量细节，比如如何构造待签名内容、签名后的内容具体都是什么？除了 approve 这种授权方式，还有其他的吗（有，比如 increaseAllowance）。好吧，这里展开的话就太过技术了。很好的是，你清楚签名的重要性了。


对于用户来说，取消授权 (approve) 是可能在源头上对抗这类攻击的，你可以用如下这些知名的工具来操作：


· Token Approvals

    https://etherscan.io/tokenapprovalchecker


    是以太坊官方浏览器提供的授权检查及取消的工具，以太坊系列区块链基本都类似，因为他们的区块链浏览器基本都是 Etherscan 代为开发的，如： 


    https://bscscan.com/tokenapprovalchecker


    https://hecoinfo.com/tokenapprovalchecker


    https://polygonscan.com/tokenapprovalchecker


    https://snowtrace.io/tokenapprovalchecker


    https://cronoscan.com/tokenapprovalchecker


· Revoke.cash

    https://revoke.cash/


    老牌经典，只支持以太坊。 


· APPROVED.zone

    https://approved.zone/


    也是老牌，也只支持以太坊。 


· Rabby 扩展钱包

    https://rabby.io/


    我们安全合作比较多的一款钱包，他们的「授权检查及取消」功能支持的以太坊系列是我见过最多的... 


· 小心反常识签名！


还没结束，我还想特别提一种风险：反常识风险。


什么是反常识，比如你已经特别熟悉以太坊了，各种 DeFi、NFT 玩得小白们直呼你大佬。此时你去玩 Solana，同样也遇到了各种钓鱼网站，你可不畏惧，轻蔑一笑：「这些在以太坊系列生态里都麻了，我怎么可能上当？」


不好意思，黑客笑了，你确实上当了。因为出现了个反常识流程，人都是有惯性或惰性，这导致你大意了，没有闪。


好，让我们来看看这个反常识真实案例。




2022.3.5，一个安全预警：Solana 上的授权钓鱼残忍多了，攻击者批量给用户空投 NFT(图 1)，用户通过空投 NFT 描述内容里的链接 (www_officialsolanarares_net) 进入目标网站，连接钱包 (图 2)，点击页面上的「Mint」，出现批准提示框 (图 3)。注意，此时的批准提示框并没有什么特别提示，当批准后，该钱包里的所有 SOL 都会被转走。


当点击「批准」时，用户会和攻击者部署的恶意合约交互： 3VtjHnDuDD1QreJiYNziDsdkeALMT6b2F9j3AXdL4q8v


该恶意合约的功能最终就是发起「SOL Transfer」，将用户的 SOL 几乎全部转走。从链上信息来看，该钓鱼行为已经持续了几天，中招者在不断增加。


这里面有两个坑，需要注意的：


1. 恶意合约在用户批准 (Approve) 后，可以转走用户的原生资产 (这里是 SOL)，这点在以太坊上是不可能的，以太坊的授权钓鱼钓不走以太坊的原生资产 (ETH)，但可以钓走其上的 Token。于是这里就存在「常识违背」现象，导致用户容易掉以轻心。

2. Solana 最知名的钱包 Phantom 在「所见即所签」安全机制上存在缺陷 (其他钱包没测试)，没有给用户完备的风险提醒。这非常容易造成安全盲区，导致用户丢币。

· 一些高级攻击方式


高级攻击方式其实真很多，大多在大众视角下无非就是：我被钓鱼了。但这钓鱼可真高级了，比如：


    https://twitter.com/Arthur_0x/status/1506167899437686784


黑客通过邮件发送钓鱼，邮件里附带的文档是：


    A Huge Risk of Stablecoin(Protected).docx 


这确实是一份很有吸引力的文档... 但这份文档打开后电脑就可能被植入木马（一般通过 Office 宏脚本方式或 0day/1day），这类木马一般都会包括如下常规功能：

传统隐私保护


不容易，你学习到这里了。传统隐私保护老生常谈了，2014 年我就写过一篇：


    隐私大爆炸，你得学几招保护自己 


    https://evilcos.me/yinsi.html


回头读这篇文章，绝大多数建议都没过时，我建议你消化下，很快，毕竟当年这篇属于特别入门型的。下面我将开始新的介绍。隐私保护实际上和安全息息相关，在这你也可以认为是你的安全保护，保护的是什么？当然是你的隐私，私钥什么的属于隐私的一种。另外，别认为这是传统就不重视，传统的这些才是基石，基石都不安全了，基石的隐私都没了，上层建筑也就是空中楼阁，危如累卵，脆弱不堪了。


这里有两大资源是我非常推荐的：


一个是：


    SURVEILLANCE SELF-DEFENSE 

    TIPS, TOOLS AND HOW-TOS FOR SAFER ONLINE COMMUNICATIONS 

    https://ssd.eff.org/


SSD(SURVEILLANCE SELF-DEFENSE) 即监视自卫，由非常知名的电子前沿基金会 (EFF) 发起，专门出了相关指南来告诉你，在监视/监控横向的互联网世界里，如何避开老大哥 (Big Brother) 看着你。其中包括了不少有用的工具（比如 Tor、WhatsApp、Signal、PGP 等）。


另一个是：


    Privacy Guide: Fight Surveillance with Encryption and Privacy Tools 

    https://www.privacytools.io/


这个网站是专门罗列相关工具的，已经很全面了。看到了没？它还推荐了加密货币交易平台、钱包等。注意，网站里罗列的工具其实不少我都不怎么用，主要是我有一套自己的方式，你也应该逐步形成你自己的方式，不断对比不断完善。


这里我重点提下我觉得无论如何你都必须掌握的或使用的工具。


· 操作系统


Windows 10(及以上版本) 和 macOS 的安全性都挺让人满意了，你选择哪个都行。你能驾驭好，用 Linux 也是你的自由，比如 Ubuntu，或如 Tails、Whonix 这些隐私及安全变态的操作系统也行。


操作系统方面最容易上手的安全原则是：重视系统安全更新，有安全更新就立即行动。然后才是一些驾驭技能的掌握，很多人说 Windows、Mac 电脑还需要学习什么驾驭技能？点来点去不就行了吗？当然远远不行。对于安全小白来说，安装个杀毒软件是绝对的标配，如卡巴斯基、BitDefender 这种口碑很好的，Mac 上也有。


接着记住下载的安全原则，前面有提。不乱下程序其实已经杜绝了绝大多数风险了。


然后可以思考下，如果你这台电脑丢了、被偷了怎么办？电脑就一个开机密码是不够的，如果磁盘没加密保护，坏人把磁盘拆下来，将里面的资料拿走就行了。此时我建议对于重要的电脑设置好磁盘加密保护。参考：


    https://docs.microsoft.com/zh-cn/windows/security/encryption-data-protection


    https://support.apple.com/zh-cn/HT204837


还有 VeraCrypt 这种磁盘加密神器，曾经是 TrueCrypt，非常传奇，非常强大。如果你感兴趣可以了解并适应下：


    https://veracrypt.fr/


更进一步的是启用 BIOS 或固件密码，这点看你自己，反正我是这样做了。不过一定要牢记相关密码，否则可能神仙也救不了你了。这个坑我很荣幸踩过，现在思来想去，浪费了一台笔记本、一点加密货币、一周的时间，但积累了宝贵的踩坑经验。


· 手机


手机主要也就 iPhone、安卓系列，没了，比如曾经我最爱的黑莓，被时代淘汰了。安卓以前的安全性很堪忧，一方面是发展早期，另一方面是版本太多碎片，不同手机品牌都有自己的 fork 版本。现在安全性逐渐好了不少。


手机方面同样要重视系统的安全更新及下载的安全原则，并且警惕下面这几点：


· 不要越狱、Root 破解，除非你玩安全研究，否则没必要。如果是为了盗版软件这样做，香不香得看你的驾驭能力。

· 不要从非官方市场下载 App，还是那句话，除非你能驾驭它。而且即使从官方市场下载的 App 也存在不少假的，注意分辨。

· 官方的云同步使用的前提是：账号安全方面你确信没问题，否则云端被控，手机也就麻烦了。

手机方面，我个人会更依赖 iPhone。同时准备至少两个 iCloud 账号，一个中国区、一个海外区，安装不同区域限制的 App 使用（挺奇怪，但这就是现实）。


· 网络


网络方面的安全问题曾经是烂透了，这几年逐步好起来了，尤其是 HTTPS Everywhere 策略普及了后。如果真的发生了网络劫持（中间人攻击），那么系统会有相应的错误反馈。但凡是都有例外，所以网络方面，能有安全的选择当然选择安全的。比如不乱连陌生 Wi-Fi，尤其是 4G/5G 这种安全性高的网络如此普及的情况下，除非信号不好，着急使用。


如果你很有安全洁癖，你非常重要敏感的设备是可以考虑独立网络的。选择口碑好的路由器、运营商，切勿贪图小便宜，并祈祷路由器、运营商层面不会有高级作恶行为出现。


· 浏览器


浏览器方面流行的主要就是 Chrome、Firefox 了，加密货币行业还有人会用 Brave，也行。知名度高的，团队强大的，安全更新也会比较及时。浏览器安全话题实在太广泛，对你来说，你只需注意这几点就好：


· 有更新就及时更新，千万别侥幸。

· 扩展如无必要就不安装，安装也看清楚口碑、用户规模、背后是哪家知名公司维护的，并警惕扩展申请的权限，还有扩展必须来自浏览器自己的应用商城。


· 浏览器可以多个共存，强烈建议：重要的操作在其中一个浏览器中进行，而其他常规、不重要的操作都可以在另一个浏览器中进行。

· 一些隐私保护的知名扩展（如 uBlock Origin、HTTPS Everywhere、ClearURLs 等），看你个人喜好。

Firefox 上我还会用 NoScript 这个上古扩展神器，NoScript 可以很好对抗 JavaScript 作恶情况，当年威震四方。现在的浏览器越来越安全了，同源安全策略、CSP 安全策略、Cookie 安全策略、HTTP 安全响应头策略、扩展安全策略等等等，浏览器现在的安全高度确实是不可同日而语。NoScript 这种安全扩展被使用的空间也就越来越小了，感兴趣的可以自行了解。


· 密码管理器


如果你还没用密码管理器，要么就是你不知道用上之后的安全快感，要么就是有自己强大的记忆宫殿。脑记风险前面也说过，一是时间会让记忆淡忘或错乱；二是自己可能出意外。无论如何，我还是推荐你使用密码管理器来搭配你的脑记，知名的如：1Password、Bitwarden 等。


我并不需要过多讲解这部分的内容，相关教程实在太泛滥了，甚至都不需要教程也很容易上手。我需要提醒的是：


· 千万千万别忘记你的主密码，且主密码相关账号信息别被盗了，否则一窝端。

· 千万千万确保你的邮箱安全，如果你邮箱被盗，虽然这不会让你的密码管理器里的敏感内容泄露，但坏人有能力销毁这些。

· 我曾验证过我提到的工具（如 1Password）的安全性，并一直在留意其出现过的安全事件、口碑、动态等，我并无法确保这些工具拥有绝对高度的安全性，尤其无法确保未来它们不会出现什么黑天鹅事件。

有一点我是很欣赏的，比如 1Password 的安全页面有关介绍和说明：


    https://1password.com/zh-cn/security/


其中包括安全设计理念、隐私及安全的相关权威认证、安全设计白皮书、安全审计报告等内容。这些内容的透明公开也是方便业内进行必要的验证。这点是非常值得项目方们学习的。


Bitwarden 做得更彻底些，是全开源的，包括服务端，任何人都可去验证、审计、贡献。


你意识到了没？1Password、Bitwarden 这样做的意图很明确：


    我很安全很在意隐私，不仅是我自己说，第三方权威也说了，你们也可以来验证，甚至为了方便你们验证，我花费了巨大精力把能透明出来的内容都透明了。如果我说的没做到，你很容易来挑战我。 


这叫什么？这叫安全自信:)


· 双因素认证


你在互联网上的身份安全，第一层靠的是密码，第二层得靠双因素，第三层靠的是目标项目本身的风控能力。我不能说双因素都是标配，比如你在用的去中心化钱包，有一层密码就够烦了（现在基本都配套人脸、指纹这类生物识别来提高体验），双因素就算了吧。但在中心化平台里，没有双因素可不行。因为中心化平台任何人都可以访问或有能力访问，你的密码被盗了，意味着你的账号权限失守，资金也就没了。而你的去中心化钱包，密码仅仅只是发生在本地的认证，黑客即使拿到这个密码，还需要有能力接触到你这个钱包所在的设备。


明白其中区别了吧？好，知名的双因素认证 (2FA) 工具有：Google Authenticator、Microsoft Authenticator 等，当然如果你用密码管理器（如 1Password）也是自带了 2FA 功能的，非常方便。无论如何都记得做好备份，因为丢失 2FA 是一件很麻烦的事。


另外，双因素认证也可以是个广义概念，比如账号、密码登录目标平台时，我们的账号一般是邮箱或手机号。此时邮箱或手机号通过收到验证码的方式来进行第二步认证，那么这也可以认为这是一种双因素认证方式。只是这种方式安全性就没那么好了，比如邮箱被黑了或手机的 SIM 卡被劫持了，再或者发送邮箱、短信的第三方服务被黑了，那么平台发送的验证码也就被一览无余。


· 科学上网


这块出于政策原因，不多说，知名的几个自己对比。有能力肯定自建，这样安全可控，毕竟我们的出发点还真是科学上网、安全上网。


如果并非自建，难保不会出现中间人攻击。前面说过，现在网络环境确实没以前那么糟糕，尤其 HTTPS Everywhere 策略普及了后。但有些平静可能只是水面，水面之下早已暗流涌动却不易被察觉。所以这块我并没特别好的安全建议，自建有门槛，但值得，实在不行，一定是多方确认，选择那种存在已久、口碑良好的品牌。


· 邮箱


邮箱是真正重要的 Web 基础身份，我们会用邮箱注册一大堆服务，我们用的邮箱几乎都是免费的，似乎如空气一般，你觉得它应该不会消失。如果哪天，它消失了？那么依赖这个邮箱的一大堆服务就尴尬了。这种极端情况真不是不会发生，比如因为战争、天灾等。当然如果是这些极端情况发生，对你来说除了生存其他也就不那么重要了。


邮箱方面，必然是选择巨头的，如 Gmail、Outlook、QQ 邮箱等。正好我曾经的安全研究方向有这部分，对你来说，这些邮箱安全性足矣。但无论何时你都一定要小心邮箱里发生的钓鱼攻击。并不是每封邮件都需要搭理，尤其是邮件里给的链接、附件文件，病毒木马可能就藏匿在其中。


如果你遇到针对邮箱的高级攻击，那只能自求多福。


除了这些巨头的邮箱服务之外，如果你很在意隐私，两款口碑不错的隐私邮箱，你可以了解了解：ProtonMail 与 Tutanota。我的建议是隐私邮箱就拿来隔离做需要特别在意隐私的服务注册，并且注意下活跃频率，长时间不活跃，免费邮箱可能也就回收了。


· SIM 卡


SIM 卡，手机号很多时候同邮箱一样也是很重要的基础身份。这些年我们国家的几大运营商对手机号的安全保护做得还是很不错的，比如注销、重办 SIM 卡是有严格的安全认证流程，这些都发生在营业厅里。SIM 卡攻击这块，我举个案例：


2019.5，有人的 Coinbase 账号遭遇了 SIM Port Attack(SIM 卡转移攻击)，损失了超过 10 万美金的加密货币，很惨痛。攻击过程大概是：


攻击者通过社会工程学等手法拿到目标用户的隐私，并到运营商欺骗得到一张新的 SIM 卡，然后通过同样的手机号轻松搞定目标用户在 Coinbase 上的权限。SIM 都被转移了，这就很麻烦了，基本来说我们很多在线服务都是通过手机号来做的二次验证或直接身份验证，这是一个非常中心化的认证方式，手机号成为攻击的弱点。


详细分析可以参考：


    https://medium.com/coinmonks/the-most-expensive-lesson-of-my-life-details-of-sim-port-hack-35de11517124


这块的防御建议其实也简单，启用知名的 2FA 工具。


SIM 卡还有个风险，就是如果手机丢了或被盗了，SIM 卡被取出来使用就尴尬了。我的做法可以供你参考：我的 SIM 卡设置了密码（PIN 码），每次开机或重新使用 SIM 卡都需要输入正确的密码才可以。具体攻略请自行查询。我只提醒：别忘记了这个密码，否则麻烦，耽误事。


· GPG


这部分的许多知识点在前文都提到了，不过这里再普及个小概念，以方便日后理解：


有时候会遇到 PGP、OpenPGP 及 GPG 这几种看去相似的叫法，简单这样区分下：


· PGP 是 Pretty Good Privacy 的缩写，是商用加密软件，发布 30 多年了，现在在赛门铁克麾下。

· OpenPGP 是一种加密标准，衍生自 PGP。


· GPG，全称 GnuPG，基于 OpenPGP 标准的开源加密软件。

这几个底层都类似，用 GPG 就可以兼容其他的。这里我再次强烈建议：别整那么多有的没的，安全加密这块，用好 GPG 绝对可以大力提升安全感！


· 隔离环境


专门强调隔离环境这个安全原则，本质就是要具备零信任安全法则思维。你一定要相信：我们这些人即使再强大，被黑也是迟早的事，无论是被外部人、内部人还是自己。当被黑的时候，止损是第一步。止损能力被许多人忽略了，从而可能因为一次被黑而陆续被黑。究其本质就是因为许多安全设计不存在的，尤其是隔离这种看似粗暴的安全原则。


一个良好的隔离习惯，当被黑时，损失的仅被黑目标的那些隐私，而不会危及到其他隐私。比如：


· 如果你的密码安全习惯可以，当你其中一个账号被黑时，同样的密码就不会危及到其他账号。

· 如果你的加密货币并不只在一个助记词下面，万一踩坑，你也不会归零重启。

· 你的电脑中毒了，好在这是一台专门拿来浪的电脑，里面并没多少隐私，那你也不会慌，重装可以解决绝大多数的问题。如果你善于使用虚拟机，那就更好了，直接恢复快照就行。不错的虚拟机工具有：VMware、Parallels。

· 上文提到的许多，你都可以至少两个账号、两个工具、两台设备等等，你熟悉以后完全打造一个独立的虚拟身份也不是不行。

我以前提过一个比较极端的观点：隐私不是拿来保护的，隐私是拿来控制的。


提出这个观点的原因是因为：在当下的互联网环境，隐私实际上已经泄露得不行。好在这些年隐私有关的法案越来越普及，大家也越来越重视。一切确实都会往好的方向发展。但在此之前，无论如何，当你掌握了我罗列的这些知识点，你就有能力将你的隐私游刃有余地控制着。在互联网上你如果习惯了，你几乎独立的虚拟身份可能会有好几个。


人性安全


说了这么多，人才是那个最大且永恒的风险。《三体》里有句话：「弱小和无知不是生存的障碍，傲慢才是。」


· 别傲慢：如果你觉得你已经很强，你自己得瑟就好，不必藐视一切，尤其是傲慢到可以挑战全球黑客们的境地。学无止境、坑无止境。

· 别贪心：贪确实是很多时候的前进动力，但要琢磨下，凭什么这种好机会留给了你？是你很帅，还是说话好听？:)

· 别冲动：冲动是魔鬼，处处遇陷阱，没有把握的冲就是赌。

还有一堆人性有关的点，说也说不完，而且关键是我自己也有不少问题。只能说战战兢兢、如履薄冰了。下面重点讲几个需要特别注意的点，都是与人性这些缺陷有关的，坏人利用一些平台的便利性来将人性玩弄得死死的。


· Telegram


以前我说过 Telegram 是最大的暗网了。首先不得不说 Telegram 太强，安全、稳定、足够的开放性设计得到了太多人的喜欢。但 Telegram 的文化土壤也让坏人们很喜欢：Telegram 太好用了，用户基数足够大，功能开放性足够好，非常方便定制各类 Bot 服务，结合加密货币可以让许多交易体验超越 Tor 网络里的那些暗网市场。并且上面的鱼儿太多了。


社交账号的唯一字段基本都是类似什么用户名或 XX 号之类的，其他都可以被坏人完全复用。有的社交平台有账号认证机制，比如加个蓝 V 什么的。开放的社交还可以通过一些指标来看是不是真账号，比如 follow 情况、发布的内容情况、内容互动情况等。封闭些的社交确认上麻烦些，但类似 Telegram 这种引入了共同在哪些 Groups 的功能是挺不错的。


人性是这样，但凡有空子可以被钻，收益可观时，一定一堆坏人来钻。


所以社交平台上充斥了大量钓鱼陷阱，比如你在一个群里聊着聊着，突然冒出了个看去就像官方的客服私聊你（嗯，任意私聊是 Telegram 的机制，并不需要加好友），然后拿出杀猪盘经典话术，一些人就陆续上钩了...


进一步的话，直接拉你进入另一个群，里面的人除了你，其他都是仿冒的。但你一看就觉得特别真实。黑产里的群克隆技术指的就是这种。


这些都是初级的人性利用，高级点的就会结合漏洞来利用，更是难防。


· Discord


Discord 是这两年流行起来的新型社交平台，聊天、群组这些基本功能都有，最核心的功能是一个个独立的社区服务器（不是传统理解的那种服务器），如官方说法：


    Discord 致力于打造一个您与您的朋友、家人及社区交谈和闲逛的地方。在 Discord 上有数百万不同的社区，从老朋友组成的小群体到成千上万的人通过共同兴趣连接在一起的大型服务器。 


看去美好，但实际上安全设计挑战也是很高的，官方也很努力，有专门的安全规则及政策说明：


    https://discord.com/safety


可惜，许多人不会去仔细阅读的。另外，官方也不一定都能把一些核心安全问题说清楚，因为有的安全问题必须站在攻击者角度才能点透。


下面点出其中一点。


Discord 上发生了这么多起 NFT 被盗案，请问其中的攻击技术要点是什么？如果这都没搞清楚，一堆 Discord 安全建议用处都不大。


不少项目方的 Discord 服务器被搞的技术要点是那个所谓的 Discord Token，实际上这个玩意是 HTTP 请求头里的 authorization 字段内容。这玩意在 Discord 存在非常久了，对于黑客来说，只要想办法拿到这个 Discord Token，即可几乎完全控制目标的 Discord 权限，也就是说，如果目标是管理员、有管理权限的人或机器人 (Bot)，那么黑客就可以用这些特权来作恶了。


比如，发布 NFT 钓鱼网站，大家一看：官方发的公告，于是就一股脑儿冲进钓鱼网站了...


有人可能要问，我的 Discord 账号增加双因素 (2FA) 认证 OK 吗？绝对好习惯！但应对这个攻击是不行的！Discord Token 无视你是否开启了 2FA。如果你中招过，你应该立即更改 Discord 密码，这样 Discord Token 就会刷新变化了。


至于黑客是如何拿到这个 Discord Token 的，我们已经摸清楚至少三大手法了，后面找机会写清楚。对于普通用户来说，防御建议其实挺多的，核心要点是：不急不贪、多方验证。


· 来自「官方」的钓实际上是这样的：大多时候，针对安全方面的「立即更新」是对的。但有些时候，更新解决了一个问题，可能会引入另一个问题。历史上这类案例挺多，可以自行搜索了解。我举例其中一个，关于 iPhone 与 Google Authenticator 的：


    iPhone 新版 iOS 15 系统升级后有个风险，身份验证器 Google Authenticator 里面的信息可能会清空，也可能会 double，如果发现 double 了千万不要去删除重复的条目，这会导致重开 Google Authenticator 后里面的信息全部丢失。建议未升级 iOS 15 系统且有使用 Google Authenticator 的最好先备份一下再升级。 


后来，这个问题，Google 更新了 Authenticator 来全面解决了。


除了这点之外，钱包的更新我是不建议频繁的，尤其是重资产的钱包。除非是大的安全更新需要你不得不更新钱包，或者有很重要的功能让你不得不更新。这个就需要自己来做风险评估及抉择了

采纳收录至本手册的帮助，比如：提供了具体的防御建议、案例；翻译工作；大错误纠错等。


那些官网

![图片](https://user-images.githubusercontent.com/79394963/198501482-297d7695-9123-4090-979a-2f0da345eec3.png)


* 衡院 即刻https://okjike.com/ Ronin Network

* BlockBeats消息，10月27日，用于验证所有权
Kasperskyhttps://ww.kaspersky.com cn/ 的Discord拓展应用插件Collab.Land已集成以

* 链上生态 太坊侧链RoninNetwork，支持所有Discord. 
* Bitdefender https://www.bitdefender.com
Layeren 1小时前
Web3开发平台Alchemy推出交易加速工具
Cloudflare https://o.cloudflare.com Alchemy Transact
Mirrord BlockBeats消息，10月27日，Web3开发平台
SEATSH Akamai nttps://www.akamai.com Alchemy在上宣布推出交易加速工具AlchemyTr
ansact。据介绍，该工具将通过更加准确的Gas.
SURVEILLANCE SELF-DEFENSE https://ssd.eff.org/

CPG Suite https://gpgtools.org/

* ![区块链手册] (https://github.com/slowmist/Blockchain-dark-forest-selfguard-handbook/blob/main/README_CN.md）)







