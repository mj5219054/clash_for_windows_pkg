# 2008年到2020年，区块链行业已经形成了具有一定影响力的，包含上、中、下游的区块链产业链条。


自2008年比特币的诞生开始，区块链逐渐被人们发掘，世界各国纷纷布局区块链技术和应用。
目前，我国区块链产业蓬勃发展，产业规模和企业数量不断增加，国际竞争力显著提升，垂直行业应用落地项目不断涌现，国家各部委及各地方政府先后推出近300余条政策鼓励区块链技术和产业创新发展。
国内互联网巨头企业也纷纷布局区块链应用，包括阿里、华为、百度、腾讯、京东等企业纷纷推出区块链平台，包括央行和四大国有商业银行在内的36家银行机构纷纷开展区块链应用，并取得优异成果。
2008年到2020年，我国区块链行业已经形成了具有一定影响力的，包含上、中、下游的区块链产业链条。
产业链上游主要包括硬件基础设施和底层技术平台层，该层包括矿机、芯片等硬件企业，以及基础协议、底层基础平台等企业；中游企业聚焦于区块链通用应用及技术扩展平台，包括智能合约、信息安全、数据服务、分布式存储等企业；下游企业聚焦于服务最终的用户，根据最终用户的需要定制各种不同种类的区块链行业应用，主要面向金融、供应链管理、医疗、能源等领域。

为了进一步引导我国区块链行业健康有序发展，赛迪区块链研究院梳理了我国区块链产业上中下游的企业，旨在建立完整的区块链行业发展图谱，帮助区块链企业了解我国区块链产业发展的特点和规律，为区块链企业发展提供参考依据。



# 01区块链的发展

* ![图片](https://user-images.githubusercontent.com/79394963/200753309-1a242764-2aa3-44ad-94dd-4e64c8ce41c5.png)

#### 萌芽期

相信说起金融危机，你我都会谈虎色变。最近的一次世界级金融危机就在 2008 年，这次危机让很多先行者对现代金融体系逐渐失望。在这样的时代背景下，比特币应运而生。比特币的发明者中本聪敏锐地意识到，大部分的互联网贸易结算都依赖可信任的第三方金融机构处理，尽管在大多数时候这些系统的运转是足够好的。可是一旦遇上极端信任危机，信任关系的失衡就会导致现代金融体系的结构性塌陷。

常规的思路几乎失灵，但中本聪却另辟蹊径，提出了一种全新的解决方案，一个自由主义者拯救世界的故事就此拉开帷幕。这个方案最出彩的其实有两点，第一就是还原了支付原
来的样子，第二就是创新性地引入了支付脚本，我分别给你说一说。

什么是支付本来的样子呢？你可以这样理解，贸易支付的本质其实是买家与卖家的供需关系，只是由于买卖双方的不信任，才需要引入双方都信任的第三方进行担保，为双方的买
卖行为背书。

在中本聪看来，这种由信任作为媒介的运行模式是有问题的。


所以，中本聪想到了去掉第三方担保的可能性，设计了一套基于密码学、无需买卖双方彼此信任就可以完成支付的数字货币系统。在剔除信任纽带之外，比特币还创新性地引入支付脚本用于货币的支付。脚本实质是一段计算机程序代码，如果你可以输入正确的参数，脚本执行成功就意味着你拥有货币的使用权。所以我们可以认为，比特币通过程序脚本，实现了一个完全严格按照计算机逻辑运行
的数字货币转移机制。但是，比特币的脚本功能并不完美，它只支持指令的顺序执行。而一般功能完善的计算机编程语言都支持顺序、分支以及循环。诚然，只基于顺序执行的脚本可以实现比特币的条
件支付，但也仅限如此。这里可以假设你有一个这样的需求：

* 抵押自己的一套房产，换 10 枚比特币，并约定 1 年以后用 11 枚比特币解压房产；如果未能守约，房产将被法拍。

现在我们将这段描述转换成计算机语言，很容易就能发现，这段逻辑必须要有分支的判断，如果满足条件解压房产，不满足条件，房产将被拍卖。比特币可以实现这个需求吗？很明显，因为比特币脚本没有分支判断能力，因此实现不了。而现代社会是一个多元融合的世界，任何事物都不可能独立地存在，尤其是在金融支付领域。比特币仅将自身定位为加密货币，在复杂的契约逻辑面前是无能为力的。

* 有人看到了这种局限，他就是以太坊的创始人，V 神。

* 诞生期在研究比特币的过程中，V 神逐渐认识到，比特币背后的区块链技术不光可以用在加密货币中，还有更多可能性，但比特币的架构却阻碍了技术的发展，因此他希望能够扩展比特币的脚本功能，使其更加智能。如果直接在比特币上打补丁，其扩展能力也极为有限。因此，V 神将他的精力集中到如何创建一个替代比特币的解决方案中，不久就发表了以太坊白皮书


在白皮书中，V 神阐述了以太坊构架愿景：在加密货币的基础上，增加智能合约功能，这样开发者就可通过智能合约编程把一切有价值的客观 / 主观事物锚定到以太坊进行交易，
实现价值的传递。这也就是区块链发展的最终形态是价值网络这个论调的由来。智能合约到底是怎样发挥作用的呢，我接着前面房屋产权登记的例子解释一下。有了相关
部门的数字证明，业主就可以通过智能合约把房产证等信息转换成可交易的数字资产。当然这个过程是长期的，需要区块链在社会治理领域落地以后才可实施。


* 2015 年 7 月 30 日，以太坊主网正式启动，以太坊从此走上历史的舞台。以太坊的核心我们可以认为就是智能合约的加持。而智能合约是软件工程师基于以太坊协议，自主编写的程序代码。不过我们都清楚，天底下几乎不存在没有 BUG 的软件系统，且以太坊智能合约是开源的，任何人都可以随时随地查看部署在以太坊上的智能合约源码，这就给黑客钻漏洞留下了空子。


* 最著名的一次黑客攻击事件发生在 16 年 4 月，黑客将The DAO合约中锁定的价值约1.5 亿美元的以太币偷走约 6000 万美元，并立刻在交易所抛售，给整个加密货币市场造成
了不可挽回的损失。黑客事件发生以后，以太坊社区发生了激烈的讨论。一部分人主张将以太坊主网回滚至黑客攻击之前；而另一部分人崇尚无为而治，主张不应该依靠外力干预已被认可的既定事
实。可以说这是对区块链信仰的一次重大考验。然而，经过社区讨论，16 年 7 月 20 日进行以太坊硬分叉，将以太坊主网分裂成两个网络，ETH 以及 ETC。ETH 删除了黑客攻击的一切痕迹，并将被盗走的以太币归还给原始拥有者，现在我们所说的以太坊指的就是回滚的这一分支。而 ETC 则保留了黑客攻击在内的全部交易，以保持区块链赖以生存的去中心化以及不可篡改的基本原则。



# 野蛮生长期

#### 软分叉和硬分叉
为什么 The DAO 事件会直接推动后续区块链的野蛮发展呢？且听我慢慢为你道来。所有的软件系统都会有 BUG。一般情况下，我们会在之前软件版本的基础上修改源码，新
版本相比旧版本只有部分逻辑的不同，程序基本规则也没有太大的变化，两个版本的程序之间简单做些适配，就可以互相认知，可以说是无缝兼容的。我们把这种情况称之为迭代。而另一些时候，因为架构的调整、规则的变更，两个版本的程序之间已经无法兼容。这时我们就无法称之为迭代了，而是用重构指代这种变化。通常情况下，多次迭代叠加的结果
就是重构，可以理解为量变引起质变。而在区块链中，网络是由多个节点彼此相连组成的，节点间必须可以互相通信。几个小版本的软件迭代不影响区块链网络的运行，一些节点升级，而另一些节点继续使用原始版本，是不会引起区块链网络的割裂。这种情况就是所谓的软分叉，其本质就是可兼容的程序版本更新。

* ![图片](https://user-images.githubusercontent.com/79394963/201461353-460881c5-d083-451b-8be9-450ba8e6011c.png)

而一旦社区决定对区块链协议进行了重构，则必须协调整个网络节点都进行升级。你可以设想一下，如果一半节点继续使用原来的版本，而另一部分节点升级了新版本的程序，在这种情况下，一个区块链网络就被割裂成了两个。虽然他们的数据从属于共同的祖先，但是在某一时刻，他们独自派生出不同的数据走向。这就是硬分叉的逻辑，其本质是不可兼容的程序版本更新。


* ![图片](https://user-images.githubusercontent.com/79394963/201461382-0021d906-f59a-4af6-8e02-f9443d515473.png)

这就不难解释，为什么每一次区块链网络的升级都是一件大事，需要社区去协调从哪一个区块启用新版本，废弃老版本。回到 The DAO 事件本身，以太坊通过硬分叉分裂成 ETH 跟 ETC，两个网络都保持独立运营。从逻辑上讲，并没有什么问题，是可以说得通的。但坏就坏在其凭证是有价值的，在硬分叉前，我拥有 1 枚 ETH，而硬分叉以后，我既有 1枚 ETH，同时我又拥有了 1 枚 ETC。相当于我在什么都没有操作的情况下，凭空多了一枚有价值的凭证，虽然其价值可能相较原始的 ETH 来说相对较低。

* “潘多拉的盒子”被打开了。
一些人的心思被解放了。如果我有理由述说比特币 / 以太坊存在的不足，提出解决方案，写一个白皮书，阐述我的观点及实现路径。我是不是也可以通过硬分叉的方式，创造属于


# 我的区块链呢？
同时，如果我能拉人站台，让他们为我拉票，是不是也会有更多的人认同我的观点？通过这样的操作，是不是也逐渐有人会为我的理想买单，而一旦有人为我买单，我就凭空创造
了“财富”泡沫。一场轰轰烈烈的造链行动就开始了，各类基于硬分叉的旁系网络开枝散叶。最高兴也是最能推动这场行动的人，其实还并不是其创造者，而是在硬分叉前持有 BTC/ETH 的散户，他
们得到了数不清的旁系凭证，当然希望其价值更高。所以他们就不断鼓动身边的人进场，进而不断推动这虚假的繁荣。

# 不可描述的推手


* 除硬分叉外，野蛮的背后还有不可描述的推手，因为某些众所周知的原因，不宜多说。自有了这不可描述的推手之后，就像鱼遇到了水，一切都那么的自然。市场迎来了新一轮
的疯狂。任何人只要有一些跟区块链沾点边的点子，都可以立马写一篇白皮书，找一群人运营社区，宣传自己的理想，换取投资人的赏识，蛊惑他们用真金白银为自己的“理想”买单。不可否认，最初确实有很多团队真正在依靠这种融资的方式认认真真做事，但市场并不会

* 因为你的认真给予你等比例的回报，反而是那些牛皮吹上天的赚到了大钱，且扰乱了市场。只有你想不到，没有他们做不到。疯狂并没有持续太久，泡沫被无情刺穿。自此，市场逐渐冷清。时间就来到了区块链发展的新阶段，也就是现在，在下一讲中我将详细为你描述区块链技术的现状。

# 总结

在这一讲中，我阐述了我对区块链技术自萌芽到野蛮发展的三个历史阶段的认知。比特币，以太坊是一种现象，而区块链技术是其背后的本质。


* 区块链技术萌芽于比特币，诞生在以太坊，经历过乱象丛生的爆发，但也正是因为那些疯狂岁月，让千千万万个你我知道并了解到区块链技术。

* 历史无对错，只有结果。希望你通过我的讲解能够了解区块链技术的历史发展进程，并对区块链技术的未来充满想象及期待。

* 可以尝试阅读一下比特币白皮书以及以太坊白皮书，它们可以说是区块链领域的圣经。而且你也可以顺便了解一下中本聪及V 神这两个人，都是颇具传奇色彩的人物。


回顾了区块链技术自诞生到野蛮生长的三个阶段，自政府主动干预之后，整个市场因为比特币价格的腰斩而萎靡不振，热衷于赚取热钱快钱的投机者逐渐退出，只留下了一片狼藉。

在这样的背景下，区块链的发展逐渐由币价驱动转向技术驱动，投机者的退出意味着留下的都是对区块链技术抱有信心的积极分子，他们推动着区块链技术继续向前，让区块链技术成为现在的样子。而这一讲，我们一起关注区块链技术的发展现状。


虽然大家都认为区块链技术有更广阔的应用空间，但一部分人坚信比特币 / 以太坊是未来自由世界的流通货币，会成为数字黄金 / 白银，并很有可能挑战主权货币的垄断地位，因
此他们继续在公链领域探索。

在此期间，陆续涌现了诸多技术应用创新，虽然每一个概念的提出都不免引起新一轮炒作。但总的来说，对于技术的探索一直在向前，这个圈子可称之为公链圈，其研究对象是有币的公有开放区块链网络，比如比特币 / 以太坊，这就跟应用开发者在苹果生态系统中

# 开发应用一样。

而另一部分人意识到，只要比特币 / 以太币等数字货币存在一天，对其币价的市场操纵永远也不可能停歇，短时间内也看不到其与主权货币稳定汇率的可能性，国家政策也是呈现
对有币区块链打压的趋势。与其这样，还不如跳出这个圈子，专注于区块链技术在企业领域的研究，而这个圈子我们称之为联盟链圈，其侧重点是研究如何根据企业自身业务定制联盟区块链，就好比现在各
家手机厂商基于安卓开源系统做定制化的系统研发。

不同的圈层就这样建立了，区块链技术自此如同硬分叉一样，割裂成公链圈与联盟链圈，如同两条射线，驱动着区块链技术朝向不同的方向发展。

# 公链圈的创新
公链圈的发展离不开投资激励，一切的技术应用创新都围绕着如何繁荣交易市场。为什么这么说呢？通过总结归纳，我们可以将公链圈的创新大致可以分为两类，一类是应用层面的，主要包括去中心化金融和去中心化存储；另一类是技术创新层面的，最突出的就是跨链，我们分别来看看。

# 去中心化金融
去中心化金融，通常我们称之为 DeFi，是 Decentralised Finance 的缩写，这是公链圈最直接的发展驱动力。DeFi 就是运行在区块链网络上的金融服务


想要理解它，我们必须先搞明白什么是金融，以一个金融小白的视角来看，金融是通过重新分配资产来获得资产增值的一种渠道，它的本质在于信用、风险和杠杆。金融成立的前提就是控制不确定性风险，只是传统金融跟区块链控制风险的手段不同。

如果你有去银行办理抵押贷款的经历，肯定会觉得流程繁琐，叫人抓狂。那你有没有想过，为什么贷款要这么多证明，经过层层审核才能贷到款呢？这个问题，我们可以从风险控制的角度来理解，传统金融服务对风险的控制主要是考察借贷人的历史信用记录以及抵押物的市场价值，如果借贷人信用不佳或抵押物价值低，可能就无法贷款。像银行这样的传统金融机构，不光要在贷款前严格把关，而且还要承担坏账
的风险。

但是 DeFi 就不一样了，它可以通过智能合约来把控风险，其优势在于一切都是由程序代码自动控制。在不满足初始约定条件的情况下，合约会强制平仓，将抵押物没收。而且 DeFi还有一个重要优势，那就是不存在坏账，几乎不需要风险控制，因此 DeFi 可实现超额抵押，也就是杠杆。

其实，现在数字货币交易所中的合约本质上就是 DeFi，以少量现货作为保证金用来博取数字货币价格上涨下跌带来的额外收益，但在市场价格上下急剧波动的行情中，几乎无人是
赢家，庄家除外。

虽然 DeFi 是一个非常新颖的金融创新，但其未来的发展还是不太明朗的，尤其是在国内。DeFi 的主战场在以太坊，而以太坊是匿名的公有区块链网络，匿名意味着无法被金融部门
监管 / 审查，传统金融行业在重重监管下都经常出现各种金融丑闻，更不用说不受监管的DeFi。

对投资人来说，风险是巨大的，此处的风险不同于上面提到的坏账风险，而是要警惕人为造成的投机风口及暗箱交易。

# 去中心化存储

另一个比较火的创新是去中心化存储，是一种利用分布式存储技术，将文件分块存储在不同存储节点的应用型创新。相较于中心化存储，它拥有更高级别的隐私保护，存储成本也更低，且具备更冗余的数据备份副本，能有效避免单点故障。


其实去中心化存储跟区块链的关联并没有那么密切，区块链在其中的主要作用是作为存储层之上的一种激励计费机制。拥有空闲硬盘设备的“矿工”将空间贡献出来，通过特殊设计的存储证明机制在区块链中
记录贡献度，主要考察维度集中在贡献时长、空间大小以及有效空间利用率等等，贡献度可用于获得等额代币回报；而有存储需求的用户需要支付代币，用于获取更多的数据存储
空间。

不过，去中心化存储的发展目前也面临着一些问题，主要有这样三方面。

* 其一，对其币价的炒作几乎从未停止，真实有存储需求的用户几乎无法忍受因币价波动而导致的成本不确定性。

* 其二，不同矿工贡献的空间是极度分散的，虽然在全世界各地都可以搭建，但受制于当地网络环境以及硬盘本身的机械素质，整个去中心化网络的存储性能不高，远不如中心化存储，因此只适合冷数据以及个人数据存储。

* 最后，随着矿工的涌入，大部分项目的存储空间供应规模远远大于真正的需求，已经处于供大于求的局面，数据来源是当前急需解决的问题，怎样解决数据来源是当前重点，否则
难有更大的发展。


# 跨链

前面所列举的 2 类创新都属于应用创新，相较而言，跨链则属于技术创新。不同的区块链网络是独立的，是一个个的数据孤岛，跨链技术就是在这些岛之间构建互通的桥梁，提供
不同链之间数据互通的可能性。

最初的跨链是两个链之间的直连，而现阶段的跨链更像是一个中枢，链与链之间的交互不再直接，而是通过中继链进行信息的中转，可以说，跨链技术的发展是其他创新的基础。就比如下图是一张波卡跨链协议的跨链网络示意图，通过中继链把其他的公链嫁接在同一生态系统中。


* ![图片](https://user-images.githubusercontent.com/79394963/201461637-c03f87ee-fa31-4411-9e8b-7d8d2297f3fb.png)

通过上面对两大类公链圈技术应用创新的简单分析，我们不难看出投资激励对于公有链的推动作用，这也无可厚非，天下没有免费的午餐。没有创新，就没有投机的爆点，也就不可能有生态的繁荣。相较于前一阶段的野蛮生长，

纯投机的项目逐渐消失，DeFi 是传统金融的衍生，而去中心化存储则是共享经济的一次探索，新概念的提出让它更贴近大众生活。

* 联盟链圈的发展
了解完最近公链圈的创新，我们再来看看联盟链圈的发展。在联盟链圈的这几年，我见证了区块链技术在企业商业活动中的实践，如何使传统业务在区块链技术的加持下降本增效，如何降低企业间合作门槛，当然也碰到了区块链技术现有的发展壁垒。个人对区块链技术在企业的发展，我总结了三个阶段。


# 数据存证

区块链技术具有时间连续，不可篡改，可回溯等特性，因此非常适合需要留存证据的数据存储。现阶段，像产品溯源、互联网法院、电子证照等应用都属于这一阶段的产物，大多
数应用在区块链上存储的也只是数据证明，而非原始数据。

这种做法既与区块链本身的数据承载能力有关，也是业务本身的需求决定的。区块链中的数据从网络的维度来看，对存储及网络带宽的需求会随着数据量的增大呈指数级增长的趋
势，因此需合理控制数据的取向，关于这一点我会在技术篇的末尾为你再做一个解读。数据存证阶段的应用只是将数据存储在区块链上，只有在必要的时候才会利用其中的数据进行取证，绝大多数时候，数据是死的。区块链技术只是这些应用的一种特殊的技术保障，而不是非区块链技术不可。且大多数时候是各家玩各家的，并没有涉及到多方参与。在此阶段，区块链的可替代性较强。现在大多数企业区块链应用还停留在这一阶段。


# 数据交换


传统的企业间合作都涉及到了商业数据的交换，一般情况下，数据交换的模式是数据提供方或需求方提供 API 接口的形式或拉或推的形式进行。而一旦涉及到数据的相互需求以及
多于两家企业参与的情况，问题就变得更加棘手。而通过区块链技术可以很方便地解决这个问题，在各家企业内部部署区块链节点，各家只需与自家运维的节点交互，区块链机制自动地将数据同步至其他参与方，任一节点如有新数据上链，区块链的事件通知机制自动通知各企业内部的应用。在此阶段，企业合作强依赖区块链作为数据交换的枢纽，因此区块链的替代性较低。且现在已有企业应用达到了数据交换的阶段，比如联邦学习与区块链技术的结合。


# 价值转移


以太坊存在的意义之一，就是提供了一个将现实价值与数字世界锚定的媒介，也让我们看到了信息网络向价值网络转移的可能性。在企业区块链领域，这种意义可被无限放大，企业对外提供的产品无非是商品 / 服务 / 解决方案等。而如果通过区块链技术将企业产品转换成价值网络中的流通资产，在基础价值之外，亦可延伸出多种资产应用的可能性。


而在这个阶段，区块链技术是价值网络的基石，无可替代。当然，现阶段离价值网络还很远，我也无法准确地描述未来的样子。企业区块链发展的时间较短，总的来说还只处于刚刚起步的阶段。但国家对其未来的前景非常看好，从高维度引导区块链在国民社会经济等各个领域的发展

区块链 +，虽还处在发展的第一阶段，但已有更进一步的趋势。当然，我们也应该看到，区块链技术的价值在过去的十多年中虽已被逐步验证，但终究是发展时间还较短，技术本身也还不成熟，且所带来的思维模式的变革也足够震撼，区块链

技术全面走进我们的工作生活还需要更多时间。如果有一天，公链的每一个创新都能赋能实体经济，企业间能放下曾经构筑的层层商业壁垒，公链圈与联盟链圈重新相交相融，那就是区块链技术的黄金时代，价值网络触手可及。


这是否就能说明区块链可以传输实体价值了呢？主要三点：锚定、确权、交易（重新确权）

看现在的互联网大佬，华为，蚂蚁，百度，腾讯就知道，都是在联盟链深耕细作吧，目前币圈的热度褪去就是公链热度褪去，链圈崛起，其实基本指联盟链崛起是这样的，现在联盟链占主要的大面，公链被打压的厉害

数字货币交易平台，比如币安、火币等，它们属于哪一个圈子呢？他们是属于公链圈

“将企业产品转换成价值网络中的流通资产。”这句话不太理解，企业提供产品或服务，为什么需要转换到价值网络上去

畅想价值网络可能的场景。可以这么理解，现在互联网上流转的是信息，但信息是有正确与错误的，所以无法给信息估价（衡量价值），而价值网络想表达的是有价值的信息，企业提供的产品服务本身就是有价值的，当然可以过渡到价值网络，除此之外，或许还能产生出额外的价值，但这还未可知，只是一种猜想。

可能很多人都觉得区块链是一个多么新颖的技术，其实不然。它不过是旧瓶装新酒，本身并没有创造新的技术，只是将几种已经成熟的技术进行组合，是融合性创新。
而我们初步开始学习区块链的时候，最重要的就是把握其技术特点，并且了解它的技术基
础。

# 区块链的技术基础，

同时帮助你掌握区块链技术最重要的三个特性。


区块链技术发展到现在，尤其在以太坊将智能合约的概念与区块链技术融合之后，区块链已经变成了现实与网络的媒介，可以说区块链是价值的载体，是一种新型的社会生
产关系。

怎么理解这句话呢？我个人的理解是基于区块链技术，我们可以打通现实世界与网络世界的屏障，将物质虚拟化，将价值实体化。未来的互联网流转的不是信息，而是活生生的价
值。

未来可期，不过也要始于足下。我们不妨先回归现实世界，前段时间，网上有一张图引起了广泛传播，被网友戏称为“区块链技术实体化”。拿这个例子来说明区块链的技术特
性，再适合不过了。
区块链技术实体化
这是辽宁沈阳一小区大门，业主用多把锁串联在一起，形成了一套简单的门禁系统。谁家有车谁就加锁，每把锁都有标识，小区车主只需拿钥匙打开对应锁头，就能打开大门。这样就防止了外来车辆占用小区车位，不得不说，高手在民间。


化表达区块链技术特性的呢？首先，我们需要明确区块链有哪些特性，一般我们认为有 3 点，分别是：结合这个实例，我们来一一理解这几个概念。

去中心化
可追溯性
不可篡改

去中心化
在这个小区门禁系统中，每把锁代表着一家小区业主，他们不需要物业公司统一管理，只需要管理维护自己的锁就能保证系统的正常运行。每一把锁有大有小，有贵的有便宜的，业主也可能有多辆车，但在这个系统中他们没有地位上的差别。而且，当有新的业主加入或者有业主搬走，只需要增加或去掉相应的锁就好。
你有没有发现，这里面就蕴含了去中心化的概念，门禁不再由物业公司这个“第三方机构”统一管理，每把锁都是管理的一部分。同样的道理，区块链存在的初衷就是去除中心化的第三方机构（可以回看第 1 讲），整个网络的数据及状态是由网络中所有的节点共同维护的，他们没有地位上的差别，有的只是可支配的资源的不同，且任一节点离线也不会影响系统的运作。你可以自己试着先推演一下，想要实现去中心化，应该选取怎样的网络模型和存储模型呢？没有中心节点的系统从某种角度来讲，可以说每一个节点都是中心，每一个节点都能对外提供服务，同样也能从其他节点请求服务，而这也正是点对点网络模型的特性，可以说，节点互为彼此的数据生产者及消费者。

* ![图片](https://user-images.githubusercontent.com/79394963/201461853-fea03c52-5752-473d-9749-5412ea4febbc.png)

另一方面，因为节点角色对等，因此每一个节点存储的数据应该是一致的，都独立地维持一条完整的区块链链式结构，即便一些节点数据丢失，但只要还有一个节点完好，历史数据就不会丢失。这有效地避免了单点故障带来的系统崩溃，相较于传统的数据灾备模式，其可靠性可以说是万无一失。当然，去中心化只是一个理想化的状态。现阶段来说区块链去中心化本质上是相对去中心化，我们也可以叫做多中心化。我们在理解概念的时候，不仅需要理性思维，更要学会使用感性思维去接受中间过程的渐变。


* ![图片](https://user-images.githubusercontent.com/79394963/201461895-2122ea99-670e-46a6-bc8f-e05b0a580a18.png)

可追溯性
在门禁系统中，每把锁记录了业主的相关信息，是跟业主一一绑定的，这就可以在异常情况下对破坏规则的业主进行追责，比如忘记锁门而导致外来车辆进入小区，这体现了该系
统的可追溯性。
在实际区块链运转中，同样是完成信息追溯这件事儿，道理虽然相通，但是更为复杂，我来给你说一说。

对单个节点来说，区块链可以被认为是一个时序数据库。每一次对系统的操作，实质是在每个节点数据库中存储了相应的数据及日志。且每一份数据都不是离散的存储，而是按时间顺序前后关联在一起，新的数据一定是从某一组之前已存在的数据派生而来。

依照这种关联，如果想回溯数据的状态变更历史是很容易的，只需要依次往前查找，一定会找到数据的初始状态。而这一切都依赖于区块链存储技术，存储主要关注数据结构以及数据关系，包括交易以及
区块的数据结构，交易与区块的关联关系，区块状态的存储模式等等。

不可篡改
另一个技术特点是不可篡改，这是一个比较容易被初学者搞混的概念，所谓篡改，就是私自的不被认可的修改，而不是不能修改。
我们回顾例子，可以发现业主手中的钥匙与锁是一一对应的，没有钥匙或者用错误的钥匙，车辆都是进不了小区的。
社会车辆要想进入小区，可能会采取盗用某一业主身份，多配一把钥匙或者添加一把锁，这就是篡改。而只要被业主委员会发现，就会及时纠正错误，将社会车辆清理出去，也就实现了不可篡改。

在区块链中，实现不可篡改需要两种技术来保障。前面例子里“锁”的功能由密码学技术实现，而“业主委员会”的角色则是由共识算法来扮演。前面我们讲过，单个区块链节点中的数据是按时间的先后顺序串联存储的，而串联的关键

就利用了密码学中的哈希算法。
哈希算法可以把一段数据变换成固定长度的数据指纹，而且只要数据有细微变化，得到的指纹也是大不一样的。通过这个方法，我们可以将前一时间段的数据指纹与后一时间段数据整合在一起。周而复始，后一时间段内的数据永远都会包含前一时间段的数据指纹，这样就形成了一条由数据指纹串联的信息链条。

* ![图片](https://user-images.githubusercontent.com/79394963/201461941-d704f68a-569b-435c-ba77-4748f49c1a5e.png)


如果有一个作恶者想要修改中间某一时间段的数据，那么依照哈希算法原理，其对应的数据指纹则会改变。因此他不得不依次修改后续的每一个时间段的数据，否则数据链条就会在他修改的这一刻断掉，不再具备可追溯性。

* ![图片](https://user-images.githubusercontent.com/79394963/201461952-cd4dfc18-d32f-4e7e-8449-b5262efb5e4d.png)

我们可以把困难进一步放大，想一想如果作恶者真的把本地节点的所有数据都篡改一遍，又要怎么应对呢？这时候就要让共识算法出马了，它可以保证整个系统的数据不被篡改。所谓共识，就是在
一个分布式系统中保持数据的一致性，而如果出现数据不一致，大多数共识算法都遵循少数服从多数的原则。

区块链网络中的每一个节点的数据都是一致的，作恶者只是篡改了自己维护的单个节点，从整个网络的维度来看，依旧是以大多数节点的数据为正确数据。最后，我想提醒你，看问题不能只看一面，不可篡改其实是一个辩证的特性。少数服从多数的规则意味着如果作恶者能够控制大多数的节点资源，那么篡改区块链是可能的。在一个健壮且足够分散的网络中，篡改所要付出的成本是巨大的，几乎不可能成功。而一旦成功，剩下的少数派才是妄图破坏区块链共识的作恶者，以太坊的硬分叉

区块链是新一代信息技术的重要推动力，它利用了存储、密码学、点对点网络及共识算法等基础技术的融合，提供去中心化、可追溯以及不可篡改等特性，可以用来解决互联网中的信任及安全问题，从而推动互联网从信息传递向价值传递的变革。

你可能觉得刚才的解读有点书面化，为了帮助你理解，我再给你分享一个通俗版本的：可以说存储是砖头，密码学是钢筋，点对点网络是混凝土，而共识算法是设计图纸，以他们为基础，揉和在一起，就构建了区块链这座精妙的上层建筑。我想和你强调的是，区块链技术并不是教条主义地照本宣科。比特币是区块链，以太坊也是区块链，技术本身也并没有规定实现的唯一路径。


#### 区块链是一个分布式存储、篡改难度巨大的信息存储技术，目前主要的应用是比特币等数字货币。

#### 区块链是一种去中心化、可追溯、不可篡改的信息存储技术，是多种技术结合的融合创新，主要解决的是互联网中的信任和安全问题。

阅读《区块链革命：比特币底层技术如何改变货币、商业和世界》，如果不太了解技术，可以阅读《区块链：新经济蓝图及导读》

git就是变相的区块链

* 去中心化：每个用户在本地都有自己的git仓库，并且相互之间可以pull和push

* 可追溯性：每个git提交都依赖于上一个提交，可以追溯到最初的提交

* 不可篡改：修改本地的某个历史提交后，其之后的提交的hash值都会变化


直观的角度，用“铁索连环”的例子和你探讨了区块链技术特性，也顺便引出了区块链技术基础。从今天开始，我会用几讲的时间为你解释每一种技术在区块链中的
最核心应用，以点带面，为你勾画出区块链技术体系。这一讲我会带你深入单个区块链节点，让你了解区块链存储是如何设计的。其实一说到存储设计，我们首先想到的是区块链里如何存储数据，以及要使用哪种数据库这些常规定式内容。但在我看来，这些都只拘泥于存储设计的表面。想要真正把握住区块链存储的要点，我们更需要把握的是交易、区块还有状态这三个基础概念，有了这些基础，你再去分析区块链存储设计就会驾轻就熟了

* ![图片](https://user-images.githubusercontent.com/79394963/201462072-55c1f899-1281-43a3-83a2-4235f9feeb13.png)


首先需要理解的概念就是交易（Transaction），这是区块链中的最小也是最核心的知识点。因为我们最初接触区块链大多从比特币开始，所以我们通常会把交易理解成转账，
但其实这个理解比较片面。其实在区块链中，交易的概念已经有所扩展。

从行为的角度解释，交易等同于操作（Operation），我们向区块链网络提交一笔交易实质上是发起了一个操作，而操作的具体内容与特定区块链协议有关，比如在以太坊中，一个操作可能就是执行了智能合约中的一个方法。而如果我们从计算机技术的角度分析，交易实质就是原子事物，只是翻译的不一样，它们的英文都是 Transaction，交易是区块链网络中数据的最小的组成部分。一笔交易提交后，它只能有两种状态，要么成功要么失败，不可能存在成功了一半的情况。

不同区块链对交易的定义虽然一致，属性字段却有所差异，但却不影响我们抽象出一个通用的交易属性模板。需要注意的是，并不是所有的区块链都遵循下图中的规则，此处只是方便你理解交易主要有哪些属性。

* ![图片](https://user-images.githubusercontent.com/79394963/201462089-360334d8-f97c-48bb-b0a2-7e542268e6b7.png)

我们可以看到，一笔交易通常有 8 个属性（交易哈希本身也是一个属性）。From跟 To 分别指向交易的发起方及接收方，这个很好理解，比如一笔货币的转账当然需要有转
钱的跟收钱的。跟智能合约相关的属性有三个，智能合约标识的是当前这笔交易要执行智能合约的名称，随后附带了执行智能合约对应的方法以及执行该方法时应该附带的参数列表，不同方法可
能有着不同长度不同数据类型的参数，此处统一用参数列表表示。接下来的时间戳字段表示该交易在客户端构建的时间。这个时间是客户端独立添加的，但是我们也不用担心该时间与标准时间的差异，因为区块链网络在接收这笔交易的时候，会有交易时间的校验，过早与过晚的交易并不会被网络接受，这在一定程度上限制了作假的可能性。最后一个通用交易字段是签名，一般情况下是 From 字段的账户进行签发的，用于向网络证明这笔交易确实是这个账户构建的，而不是其他人伪造的，主要是使用账户拥有者手中的私钥对交易进行签名，而私钥只有账户拥有者持有。就像我们平常生活中使用的印章，
只不过私钥被伪造的几率几乎没有，除非被盗。


有一点需要注意的是，区块链中所有的交易基本上都是从区块链网络外发起的，区块链网络只接收交易而不生产交易，且不对交易做任何改动。也就是说，交易在客户端构建出来
以后就固化了。

因此我们可以使用交易内容的哈希值作为交易在区块链网络中的标识，且该标识不在交易的字段内容中，怎么理解呢？可以这样想，身份证可以代表你这个人，但身份证并不是你
人的一部分。

另外，你可能还有这样一个疑惑，如果每笔交易都是客户端独立构建的，并没有与网络中的其他参与方进行协商，那这个交易哈希不会重复吗？这里就要用到哈希算法的性质了，哈希重复意味着产生了哈希碰撞，在我们后续的密码学章节里，我们会讲到哈希碰撞的概率跟使用的哈希算法有关，且几乎不可能碰撞。


区块
理解了交易，我们再讨论一下，要用什么“容器”来存储这些交易数据。其实这个容器就是区块，你可以这样理解交易和区块的关系，交易相当于是货物，而区块则是能够容纳多
个交易的集装箱。
在前面我们讲可追溯性的时候，我们提到区块链是时间段的数据前后关联依次串联整合成，而每一时间段的数据我们就称之为区块（Block）。区块是指将节点一段时间内收到的所有（有效）交易打包而形成的一种数据结构，之所以将有效扩起来，是因为有些区块链的设计也包括了无效交易。直接理解概念有些抽象，我们可以参照区块示意图去理解区块的数据结构。

* ![图片](https://user-images.githubusercontent.com/79394963/201462141-3d1175d4-0edb-4598-b122-d05a44c134f6.png)



区块的设计貌似还比较复杂，不过你也别担心，其实我们只需要理清三个关键点就能领略区块的精髓。
区块结构
第一点我们需要理清的是区块的结构，从图中看，区块分成了区块头跟区块体。区块头包含该区块的基础属性，重要的属性主要有 4 个：前置区块哈希用于区块间的关联，交易根哈希用于区块与交易的关联，区块高度用于标记当前区块在区块链中的位置，方便定位，而时间戳记录了区块打包的时间。区块体则只有交易，且交易是有先后顺序的，一般是按照交易的时间戳字段进行排序。

# 区块间关联


第二个需要关注的点就是区块间的关联关系，这点我们已经多次提到，每一个区块都会包含前置区块哈希作为逻辑关联两个区块的那个锚点。区块哈希跟交易哈希类似，是区块的外置属性，在区块构建完成后才能得到。如果我们从当前区块一步一步往前追踪，最终会找到创世区块，而创世区块也是有前置区块哈希的，只不过是一个空值。比如你可以通过以太坊浏览器查看创世区块的前置哈希。

* ![图片](https://user-images.githubusercontent.com/79394963/201462169-973fa59b-be9a-4d7f-8a12-ee464c7fae77.png)

区块与交易
最后一点就是区块与交易的关联关系。虽然我们前面用了一个形象的比喻，把区块和交易想象成集装箱和货物，但我们并不明白其中的原理。从概念上理解相对复杂一些，这主要
是因为引入了一个不常见的数据结构：默克尔树，我们可以先了解一下它。

默克尔树是一种树状结构，一般情况下至少有三层，分别是叶子节点，中间节点以及根节点，中间节点的层数取决于叶子节点的数量，叶子节点的数量越多，默克尔树的深度就越
高。

它的构建逻辑是这样的：相邻的叶子节点进行哈希运算，得到的哈希值作为这两个叶子节点的父节点。然后同样的逻辑依次往上，最终倒数第二层仅剩的两个中间节点经过一次哈希运算得到他们的父节点，也就是整棵树的根节点，这样由哈希值构成的默克尔树就构建完成了。

对照前面的区块示意图我们可以发现，区块体中包含的交易所对应的交易哈希，可以作为默克尔树的叶子节点，然后依次往上进行哈希计算，最后得到的根哈希就是区块体所有交
易的交易根哈希，这个数据将会记录在区块头中。看到这里，你可能还有一个疑问，为什么要这么麻烦地引入默克尔树呢？为什么不直接把所有的交易揉在一起，取一个哈希就够了呢？我们知道，对数据进行哈希计算得到的结果是可以作为数据指纹使用的，那也就意味着，哈希可以作为一种数据校验机制。


要是此时区块中有一笔交易被作恶者篡改了，如果我们设计交易根哈希的时候，仅仅对所有交易取一次哈希。那在数据校验不通过的时候，就很难找到被篡改的
交易，尤其是在交易数量特别多的时候。

而如果我们使用了默克尔树，叶子节点哈希的任何变化都会传递至其父节点，一层层向上直到根节点，这就意味着根节点的值其实包含了所有叶子节点的哈希，但是却将可能被篡改的交易分开处理了，这样一旦出现问题，我们很容易就能判断出出错的分支。这提高了数据校验的灵活性，减少了很多不必要的资源浪费。通过以上对区块逻辑上三个关键点的梳理，我们理清了区块设计的脉络。区块链之所以叫
区块链，从字面理解，正是因为区块这种特殊的数据结构决定的。

# 状态

说完交易以及区块，我们再来理解一个经常被遗漏的概念就是状态（State），可能你之前从未听过，但它的作用却不可忽视。

在区块链中执行的每一笔交易都有一个输出，而状态就是交易执行后输出的累积。怎么理解呢？举个简单的例子：
2 + 3 + ( 4 * 7 ) + ( 8 - 9 / 3 ) + 23 = 61
“=”左边的每一个加法旁边的表达式我们可以认为是一笔交易记录，“=”右边的 61 则是交易执行后累积后的状态。

# 有限状态机

那么我们可以发现，即便丢失了表达式的结果，但是只要我们还记着表达式，我们就可以再重新计算出对应的值，而这就是有限状态机的概念，即在一个封闭的系统中，如果状态
起始条件一致，状态改变条件顺序一致，最终一定会得到一致的结果。而区块链就恰恰按时间顺序记录了所有的交易，因此即便丢失了状态，我们也可以很容易地重放状态，只要我们按照顺序再执行一次交易即可。所以从某种角度来讲，区块链也是一种有限状态机。

既然可以重放状态，为什么还要保留状态呢？我们不妨做一个情景假设，如果你现在正在执行一笔交易需要某个输入，而这个输入跟之前中间某个区块里某笔
交易的输出有关。

如果不保留状态，你在执行这笔交易之前，就得重新执行相关联的交易，而那笔交易可能又与更早的另一笔交易有关，因此得一直回溯，直到找到源头为止。
所以从理论上来说，不保留状态是可以的，但是这就需要承担这种设计带来的相应后果。

与数据库的异同
如果你还是觉得状态这个概念不好理解，我们还可以从与数据库对比的角度来解释状态。我们与数据库进行 CRUD 交互的时候，在数据库中插入、更新、删除的记录就是所谓的状
态，而你执行的每一条语句就是交易。换言之，如果你将从数据库创建到建表，再到插入数据、更新数据、删除数据等操作的所有 SQL 语句导出，换到其他地方，你也可以重放出
一个一模一样的数据库出来。

区块链跟数据库都保存了历史操作记录跟状态数据集合。只不过数据库更看重状态，而区块链却以记录历史区块为主，状态为辅。正所谓一个活在当下，一个怀念过去。二者的逻
辑并没有什么本质上的区别，只是侧重点不一样。


状态模型

了解了状态的设计理念，那你可能要问了，状态在区块链中是如何表现的呢？根据区块链
的定位的不同，我们大致可以将状态模型的设计归纳为三种模型。

一种就是以比特币为首的专注于数字货币的区块链使用 UTXO 模型，即未花费的交易输出（Unspent Transaction Outputs）。在此模型中，每一笔交易都应该有 N 个交易输入，
同时产生 M 个交易输出（N 与 M 可以不等）。其中，交易输入是前序任意交易的未花费的交易输出。如果当前交易成交，该前序交易的输出也就变成了成交的交易输入，也就失去了再次成为交易输入的资格。UTXO 模型能够追踪数字货币的流向：未花费的交易输入告知货币是从哪里来的，未花费的交易输出告知货币往哪里去。


另一种就是以太坊区块链采用的账户模型，通过数字的加减表示账户余额的变化。每一笔交易的执行，都会实现不同账户间余额的动态平衡，你我之间转账，你支出了 1 块
钱，你的账户余额减 1，同时我的账户余额加 1，这种模型更符合我们日常生活的认知。同时，账户模型除表示余额以外，也支持自定义数据的存储，可以在基础账户之上衍生出智
能合约数据存储。

而最后一类通用模型在账户模型的基础上更进一步，没有内置状态属性，可存储任意自定义数据，被广泛应用在联盟链中。联盟链的定位是支持企业级应用的区块链平台，而企业
业务的种类及模式是无法预知的，因此无法在设计中内定状态模型。既然众口难调，所以干脆将状态的设计工作留给企业应用开发者，状态可以自定义，而链
本身只提供通用数据接口。

从三种状态模型的设计及应用场景看，状态模型的选型没有唯一解，只要是能满足应用场景的模型设计就是好的模型。

# 总结
这一讲我们主要深入到单个区块链节点，侧重了解了区块链存储的要点，主要讲解交易、区块两个数据结构及区块链状态模型。而我也并没有以具体的设计方案作为讲解重点，因为无论多么新颖，多么创新的区块链平台，其最基础的设计都逃不脱这三点。

区块链存储的设计没有定式，而只要你真正理解了交易、区块以及状态，你就是下一个区块链存储架构师。

于开发者来说，状态更重要。区块好比框架，而状态是做具体业务时需要设计的数据结构和算法。


# 比特币是基于密码学构建的去信任数字货币。我认为他把密码学与区块链的关系说得很清楚，密码学是因，区块链是果。

怎么理解他们之间的这种因果关系呢？可能有的同学会认为是区块链需要有可追溯，不可篡改等特性，所以中本聪才设计了几种密码学算法去支撑他的构想。但这是完全错误的，属于颠倒黑白的想法。

你只需要理解两类基本算法就可以，那就是哈希算法以及非对称加密算法，而且学习密码学跟学习其他技术不太一样，理解密码学原理需要深厚的数学功底。其实工程师完全可以把密码学当作黑盒，你不需要太关注其技术原理，而只需要理解它的特性以及应用场景就可以了。

哈希算法
我们先一起看看之前提及比较多的哈希算法，哈希算法又称散列函数，它可以将任意长度的数据转换成短的、固定长度的数据指纹

其实哈希算法不是只有一个固定的实现，而是一类算法的统称，比如常用的有 MD5 跟SHA-256。要评判一个哈希算法是否足够优秀，我们有 4 个标准：正向快速、逆向困难、输入敏感和避免碰撞

正向快速
什么是正向快速呢？这点很好理解，如果给定信息和算法规则，可以在有限的时间内计算得到信息的哈希结果。你说你设计了一个优秀的哈希算法，结果一次计算过程就花了好几
秒，那只能说你的设计不够优秀，虽然时间有限，但根本没办法在真实场景中使用。为了能给你更直观的感受，我专门写了一个程序，测试我们常用到的 MD5 跟 SHA-256 这两个哈希算法的计算到底有多快。

* ![图片](https://user-images.githubusercontent.com/79394963/201462393-05f0e085-90ae-4096-b0a3-35d4a360e698.png)


// 计算结果
// md5 count: 10064932
// sha256 count: 5727246

可以看到，最终得到的结果是非常给力的，在大概 1 秒钟的时间内，MD5 计算了 1000 万次，而 SHA-256 算法也计算了 500 万次。
我这里仅仅是用了一台普通的电脑，如果是在服务器上跑，相信结果会更震撼。通过这个测试，相信你对正向快速这个标准的解读应该足够清晰了。当然单纯分析哈希算法的计算速度是没有意义的，还是要将其带入到具体的业务场景中，此处只是给你一个直观的印象。

逆向困难
接下来我们看第二个标准，那就是如果给定哈希结果，在有限的时间内基本不可能逆推出原始信息。也就是说一个优秀的哈希算法是不可能通过密文反推明文的，这也就是不可逆的根源

这是我在电脑的命令行中执行的一条命令，得到了“极客时间”的 MD5 哈希值。想象一下，如果我不告诉你 e0aac893629b048e8797800294f55004 是“极客时间”的MD5 哈希结果，你能通过这段字符，反推出它代表的明文是“极客时间”吗？不光你懵，我想计算机看到这问题也会懵，因为计算机只能通过穷举去猜结果。当然，并不是说哈希算法就是不能够被破解的。相反，MD5 哈希可以说已经被变相破解
了，既然逆向困难，那我提前穷举常见的数据组合存起来，有破解需求的时候我再回头查就好了，简单而又粗暴。

输入敏感

我们再看另一个标准，就是原始信息即使发生一丁点的变化，重新计算的哈希值与之前比较都应该有很大的不同。这个标准主要是降低原始信息被部分推断的风险。如果新产生的哈希值与之前的相差不
大，计算机就可以利用差异去推断变化，相比穷举，困难度当然是降低了，而这却是不被允许的。
还是来看一个例子：


# 避免碰撞
你可能就会有疑问，以 MD5 算法为例，任意数据信息经过哈希算法后都可以得到 32 位哈希值，那不会重复吗，毕竟 32 位哈希值能表现的数据量是比较少的？
其实你只说对了一半，32 位在计算机中是用 128 位二进制数表示的值，所以实质上 MD5哈希能表示的数据有 个那么多，你如果去算一算就会发现，这其实是一个很大的数字。如果你仍然认为不够保险，那还有更高位数的算法可以选择，比如 SHA-256 及 SHA512 等。当然，表示的数据量大，并不代表着就不会有两个不同的数据得到相同的哈希值，这确实在实践中已经出现过。所以，在设计哈希算法时，应该避免不同的明文信息产生相同的哈希值。


区块链中的哈希
现在我们了解了优秀哈希算法评判的 4 个标准，相信你对哈希算法的特性已经有所认识了。那区块链中是怎样应用哈希算法的呢？我们接着往下说。因为哈希算法相当于是对信息提取摘要，是数据的指纹，因此经常被用于数据完整性的校验，而区块链在此基础上又做了适当的延伸。区块链中用到哈希算法的地方主要是交易哈希和块哈希，主要功能就是校验交易及区块的
完整性，以及充当区块链网络中交易及区块的唯一标识。说到这里，你有没有想到上一讲


我留下的第二个讨论题？没错，在区块链数据落盘的时候，我们就可以使用交易哈希、区块哈希分别作为交易及区块的数据主键，只要保持了数据与标识对应索引关系，就可以把交易跟区块存储在任意数
据库中。

区块哈希还有另一个作用，区块属性中包含了前一个区块的哈希，从而构建成一条由区块哈希关联的数据链条，所以我们称区块链为哈希链也不为过。利用哈希算法对输入的敏感
性，作恶者如想篡改区块链数据，必须从被修改处开始依次修改后续的全部区块，哈希算法的加入增加了作恶者篡改的成本，可以说是哈希算法成就了区块链单节点的不可篡改特
性。
非对称加密算法
讲完哈希算法的内容，我们再将目光转向非对称加密算法。说到非对称，肯定有与之对应的对称加密算法。顾名思义，对称与非对称体现在对密钥的处理上。对称表示加密和解密都使用同一套密
钥。而非对称加密却不一样，分为公钥跟私钥，如果使用公钥加密，只有用对应的私钥才能解密，反之亦然。那既然有了对称加密算法，为什么还要发明非对称加密算法呢？这里我用一个快递的例子帮你解惑。你在外地打拼，给远在老家的父母寄了一份珍贵的礼物，用一个精美的盒子做包装。为了礼物不被破坏，其实最好的方法就是你亲自送回家，但这不现实，你只好发快递。


而父母收到你的礼物非常高兴，他们立马也快递给你一些老家的土特产，用的正是你送礼物的那个盒子。就这样来来回回好几轮，原来精美的盒子已经变得残破不堪，甚至可以透
过盒子看到内部的物品，也很容易丢失。这个例子让我们形象地理解了对称加密的不足。其中礼物跟土特产就是需要交换的信息，而那个起初精美的盒子就是密钥。
对称加密算法要想保证密钥不被泄露，最好的办法是面对面协商，而且即便是面对面协商了密钥，后续也不能多次使用，否则使用次数越多，泄密风险越高，且不能保证中途没有
其他人篡改。

还是用快递的例子，为了能保证快递物品不丢失，这次过年回家你给父母买了个快递保险箱，共两把钥匙，父母一把，你留一把。这样后续再寄快递时，就可以把物品放在保险箱
中，这样就算用快递运输，也不用怕物品被调包了，因为除了你跟父母之外，没有人可以

再打开保险箱。
这里的保险箱就相当于公钥，而钥匙就相当于私钥。这个“保险箱”方案，其实在密码学里就对应着非对称加密算法的思想。非对称加密算法的密钥是一对，分为公钥跟私钥。公钥可以随便公开，而私钥需要私密保存，而只要私钥不被泄露，信息交换过程就是安全的。当然这个例子还是与非对称加密有所差异，真正的私钥应该只有一份。


非对称加密算法虽然解决了对称加密算法使用过程中遇到的问题，但其加解密的效率是远不如对称加密算法的。因此，在使用过程中常采用混用的方式，即明文数据采用对称加密算法进行加密，然后使用非对称加密算法加密对称加密的密钥和明文数据哈希，对方收到信息后，用匹配成对的另一个密钥解密数据并核对明文数据哈希，混用的方式可很好的平衡安全性与时效性。
非对称加密算法跟哈希算法一样，也是一类算法的统称。现用的比较多的是 RSA 跟 ECC椭圆曲线加密算法，RSA 多用于互联网信息传输中，比如我们上网用到的 https 通信，而
在区块链中基本都使用的是 ECC 类的变种，比如 ECDSA 跟 ED25519 等。相较于 RSA，ECC 密钥较短，在拥有更高安全性的同时还有更好的性能。



# 区块链中的非对称加密

了解了算法的特性，我们再回过头来看区块链中是如何使用非对称加密算法的。你如果之前了解过区块链，就会发现在区块链中，好像并没有哪个地方使用非对称加密对数据进行
加解密。的确，区块链中对非对称加密算法的使用并不是直接被用作数据加密，而是利用其具备身份确权的能力，也就是数字签名。什么是数字签名？顾名思义，其实跟我们平常手写签名的概念及作用是一样的，都是用于证明你的身份，且对所签署的文件或者数据进行确认授权。

在诸如比特币以太坊等公有链中都有类似于地址、账户的概念，我们可以认为这就是区块链中的身份证，这个身份证不同于现实中需要政府统一颁发，而是分散的基于非对称加密
算法的公钥的一种形变表示。这里可以引申一个小知识点，你通过数字货币手机钱包创建了一个账户，此时区块链网络并不知道，只有当你接收到一笔转账之后，网络中才有你这个账户的信息。那如何确认这个账户是属于你的呢？道理非常简单，只要你能证明你可以花费账户中的余额就可以了，而这证明的关键就在于数字签名。既然账户是公钥的形变表示，那么必定存在与之对应的私钥，且只存在你的手中。

** ![图片](https://user-images.githubusercontent.com/79394963/201462523-00ba2d82-4ee8-42cc-ae05-dd837bda8326.png)

可以将交易结构分成两部分，左边部分是交易的基本属性，而右边只包括签名。如果我们不看签名，其实左边部分已经能够基本表示交易的内容了，只是缺少了证明。因此我们将左边部分看作一个整体，然后对它进行哈希计算得到交易摘要，接着用你手中的私钥对交易摘要进行加密，而加密的结果就是交易的签名。而如果要验证交易，只需要按照相反的流程进行就可以了，将交易签名使用对应的公钥解
密得到签名中包含交易摘要，同时将明文的交易内容利用哈希算法再计算交易摘要，然后将签名中的交易摘要与自主计算的交易摘要进行对比，如果匹配，则表示交易验证成功


* ![图片](https://user-images.githubusercontent.com/79394963/201462547-20c71c52-befd-486e-bd77-d1d7272d6fb5.png)

数字签名的本质也是一种加密，只不过针对的是数据的哈希摘要，并不是数据本身。这么做有什么好处呢？主要有两点，一方面证明了确实是你自己构建的这笔交易，因为其他人
没有你的私钥，无法假冒。另一方面，因为数字签名是有哈希算法参与的，因此也继承了哈希算法的特性，能保障交易的完整性，确保了交易不会被他人无故篡改。


# 总结
这一讲我从哈希算法跟非对称加密算法为出发点，为你浅析了区块链中常用到的密码学算法。哈希算法被用来抽象交易哈希跟区块哈希，除了用于保证数据完整性外，还能用来构建由
区块哈希关联的哈希链条，增加作恶篡改的成本。

区块链中使用非对称加密算法并不是直接用于数据加密，而是主要用作交易签名，数字签名集成了哈希算法与非对称加密算法的双重特性，在保证交易完整性的同时，还能证明交易发起者的身份。
区块链中并不是只用到了哈希跟非对称加密，几乎所有的区块链都在此基础上做了些许的衍生，比如追求隐私交易的 ZCash 就引入了密码学中的零知识证明，专注于隐私计算的区
块链就引入了同态加密等等。密码学的知识浩如烟海，现在区块链用到的只是冰山一角。通过今天的学习我们可以发现，正因为有了密码学的加持，区块链就好像站在了巨人的肩膀上

对于密码学整体发展的历史，你可以参考密码学初探。

* 这一讲重点讲解了区块链中最常见、最基础的密码学算法，想了解更多关于区块链中涉及的密码学的门类，可以阅读 V 神列的知识清单。

* 如果你看得还不过瘾，想了解文中介绍的密码学算法原理，可以参考这几篇文章：哈希算法原理，RSA 加密算法原理以及ECC 椭圆曲线加密算法介绍。


主要就是理解私钥代表了所有权，证明身份的基石。公钥是给公开给别人（张三、李四，王五都知道）的，拿公钥对数据哈希值做加密运算，不能提现是张三、李四，还是王五操作的。就没有“签名”的意义了


# 网络模型
为什么区块链会采用点对点网络模型作为节点间数据传递的纽带呢？要想真正搞懂这种思路，我们做个对比。
不管是点外卖还是买车票，在日常工作生活中，我们接触的大部分网络应用架构都是客户端 - 服务器模型。这个模型的运行机制是这样的：各个客户端向服务器发送请求，而服务
端负责接收并处理请求，最终给客户端返回处理结果。为了让你直观理解，我还画了一张
示意图

* ![图片](https://user-images.githubusercontent.com/79394963/201462644-4b273332-8b12-4711-93b5-48220d029287.png)

结合示意图，我们可以清晰认识到这是一个中心化的网络架构，其服务能力完全取决于中心的服务器，如果中心服务器因意外导致宕机，那整个服务就瘫痪了。整个应用的可用性仅依赖于服务器的活性，与客户端无关。

而点对点网络则完全不同，它是一种分布式的网络架构，并不存在单一的中心服务器。网络中每个节点的权利与义务都是一致的。每个节点都拥有向网络中其他节点发起请求的权利，同时也有着必须响应其他节点请求的义务。

节点权利与义务的对等意味着什么呢？这代表点对点网络的可用性是随着节点数的增多而增强的，网络的运行并不依赖任何单一节点，节点可以任意地加入或者退出。即使一些节点宕机或者遭受攻击，只要还有正常运行的节点，整个系统依旧可以照常运作。

怎么形象地理解二者的区别呢？我们拿银行系统来举例，如果按现有的中心化架构，有一天银行网点大面积停摆，不对外提供服务。原因可能很简单，排除网络的干扰，大概率是
银行的总机房出现了问题，这就是中心化架构可能出现的单点故障。

而区块链架构则不同，一家银行就相当于一个区块链网络，每一个银行网点代表一个区块链节点，一个节点无法对外提供服务，我们可以随时切换另一个节点，一两个节点的问题不影响整个网络。当然，这个例子描述得非常极端粗暴，只是为了帮你理解，真正的银行系统架构不会这么脆弱。


# 网络拓扑
从某种角度来说，不管是先有鸡还是先有蛋，点对点网络与区块链都是相互成就的 CP 组合。

前面课程中，我说过区块链的去中心化是相对去中心化，而绝对去中心化只是一个理想状态，如果对应到点对点网络，这其实是由点对点网络的拓扑结构决定的。怎么理解这种对
应关系呢？
只有一个节点的网络实质就是中心化网络，此时区块链表现为中心化。而如果网络中所有的节点两两之间建立连接，此时点对点网络可以看作是完美对称的，区块链也就表现出绝
对去中心化特性。但如果我们不那么极端，允许点对点网络在这两个极端理论值间左右摇摆，就会发现区块链网络会一直处于中心化与绝对去中心化之间的动态平衡之中，而对去中心化程度的考量
主要依托于对点对点网络拓扑结构的选择。

这么说你可能还是有点懵，别担心，我们来一起理一理这中间的逻辑。相比中心化网络，点对点网络虽然优势明显，但它的不足也同样明显，那就是新的节点加入网络之前，必须
知道至少一个已经存在于网络里的节点，不然这个新节点跟整个网络就是脱钩的。这点非常容易理解：在中心化网络中，客户端要想让服务器响应自己的请求，必须先将自己的请求发送到服务器，而这就要求客户端知道服务器在哪，就像你上网必须要知道网址一样。而点对点网络则不一样，所有节点互为服务器客户端，因此节点必须知道其他节点的地址，才能加入网络。对节点发现机制处理的不同，也就形成了不同的网络拓扑结构，下面我分别为你分析一下。

第一种结构是引入了一个中心索引节点，用来保存其他所有节点的接入信息。新节点的加入首先将自身信息传入中心节点，从而换取已在网络中其他节点的连接信息，随后与其他节点组成点对点网络，这种结构与我们使用搜索引擎进行信息检索是类似的，但存在单点故障的可能性，一旦中心索引节点宕机，新节点将无法加入网络。


* ![图片](https://user-images.githubusercontent.com/79394963/201462731-7db0612e-8d33-4155-bb53-cedef22b1730.png)


第二种结构你可以理解成一种无为而治的结构。新节点选择连接一个已存在网络中的节点，被连接的节点可以告知新节点它连接的其他节点信息，这样新节点可以随机选择再连接到其他节点，这样就形成了一张没有规律的网络拓扑结构。

而第三种结构则融合了前两种结构的特点，整个网络由多个种子节点形成主干网络，而其他普通节点则连接到某个种子节点，这样就形成了整体分散局部集中的混合结构。

最后一种网络拓扑是结构化的，它跟上面讲的三种拓扑不同，节点间的连接遵循某种算法，组成了一种有序的结构化网络，比如树形网络结构。大多数结构化网络的算法都是基
于分布式哈希表算法实现的，这是一种用于在大量节点的系统中快速定位目标节点的索引算法，具体原理你可以参考扩展阅读。


# 区块链网络拓扑

了解了这 4 种网络拓扑结构之间的差异，那区块链中到底是如何组织节点拓扑的呢？纵观前面说的比特币跟以太坊网络，你会发现它们的选择是有差异的。比特币采用的是类似于混合型的网络拓扑结构，一个新节点的加入需要给节点指定几个已在比特币网络中的相邻节点信息，可以是普通节点，也可以是种子节点。当建立节点间连接以后，新节点将自身信息发送给相邻节点，相邻节点再将新节点的信息
依次转发给它们各自的相邻节点，从而保证了新节点信息在网络中被广泛传播。新节点也可以从相邻节点获取该节点的相邻节点信息，从而选择性地连接更多节点，增强节点自身与整个网络连接的稳定性。


比特币中的点对点网络相对简单，也更容易理解，但信息传递的效率不高，并且对网络带宽的负载要求较高，这点你看完后面交易的扩散过程就能明白了。而以太坊的选择则不太一样，使用的是结构化网络拓扑，打造这种结构，离不开基于分布式哈希表思想的Kademlia 算法（后面简称 Kad 算法）。虽然 Kad 算法的原理比较复杂，但如果你能先理解它干了什么事，就会大大降低学习难度。
简单来讲，Kad 算法定义了一种节点间距离计算的方法，用于新节点的发现。那具体怎么计算呢？我们接着往下看。

* ![图片](https://user-images.githubusercontent.com/79394963/201462764-f5f482a6-307b-49bb-a4f4-f8a498216cf9.png)

节点 A 首先从自身存储节点信息的 K 桶中找出 2 个与自己距离最近的节点，之后请求这 2个节点，要求他们从各自的 K 桶中分别找出 2 个与节点 A 更近的节点。那么节点 A 最多可以得到 2 × 2 个新节点信息，随后再请求这 2×2 个新节点中距离节点 A 最近的 2 个节点，让它们再分别返回与节点 A 距离更近的 2 个节点，整个过程持续迭代，直到没有新节
点被发现。

通过这种办法，节点 A 只与自己距离最近的节点连接，这保持了以太坊网络中节点的有序。但你需要注意，节点间的距离是逻辑距离，而并非是物理距离，也就是说即便两个以
太坊节点运行在同一台电脑上，它们之间的逻辑距离也可能无限远，这是算法本身导致的，就比如图中的节点 C 明显离节点 A 更近，但这只是表象，逻辑距离还是 D/E 更近。
通过对比特币以太坊对不同网络拓扑的选择，我们可以发现，区块链中选择网络结构是没有定式的，没有唯一标准。如果你熟悉联盟链技术体系，就会发现联盟链对点对点网络的重视程度不如公链，主要有
两方面原因，一方面联盟链的节点是确定的，很少出现随时加入，随时退出的需求；另一方面联盟链节点个数比较少，并不需要节点发现机制引导新节点的加入。交易的扩散
有了前面基础知识的铺垫，我们终于可以将交易通过网络流动起来了，接下来我们通过交易的扩散进一步加深对网络的理解。之前我们讲过，区块链网络不生产交易，而只是交易的搬运工。从区块链网络示意图中可以看到，在区块链网络外围有大量的手机、电脑、汽车等外联设备，这些设备与任意的区块链节点连接，就能从该节点获取与自身相关的信息，诸如余额、历史交易等等。
同时，外联设备所构建的交易会随之发送到与之相连的节点，所以它们是区块链网络的交易源头


* ![图片](https://user-images.githubusercontent.com/79394963/201462807-8bcdb1fc-3cb2-4b87-878a-b65a1bf0029e.png)

传播过程是相对容易的，但是我们应该注意到不同网络拓扑对重复接收相同交易处理上的差别。以太坊网络的节点只与自己最近距离的相邻节点连接，交易的扩散并不存在回路的可能
性，它的扩散路径更像是一种单向的持续向外广播，就像水永远只向低处流一样，交易会逐渐远离最初的节点，交易扩散效率较高。而比特币的交易扩散对此的处理则有所不同。它的网络拓扑是随机的，交易扩散的时候是扩散至与之连接的节点，但扩散前并不知道对方是否已经接收过相同的交易，因此网络扩散的效率是较低的。随着网络节点规模的扩大，节点间连接关系更为无序，大量的网络带宽浪费在对交易的重复扩散中。节点接收到重复交易并不会再次理会，而是直接丢弃，白白做了无用功。你看，比特币的网络拓扑虽然结构简单，但也为此付出了代价。对区块的扩散也遵循交易扩散的通用逻辑，只不过此时并不需要外联设备的参与，而是由

首先满足共识条件的矿工节点发出，你可以先留下一个印象，等下一讲我们学共识算法的时候，我再详细讲解。


# 总结


点对点网络是区块链中最常用的网络交互模型，相比于中心架构的客户端服务器模型，每个节点具有对等的权利与义务，与区块链的去中心化特性相得益彰。但点对点网络节点发现机制比中心化网络复杂得多，对此处理的不同衍生出中心、随机、混合及结构化等不同的网络拓扑结构。不同区块链有不同的选择，影响了区块链网络对交易及区块扩散处理上的不同。其实，区块链中是先有去中心化思想还是先有点对点网络的启蒙，这个问题其实不是最重要的。讨论这个问题，是因为研究二者的关系可以让你更深刻地理解区块链网络。而在最后，我也想给出我的观点倾向，我认为是点对点网络的思想启发了中本聪，让他想到利用其无绝对中心的特性去构建去除第三方中介的数字货币系统。




# 智能合约基础

你知道么，智能合约并不是区块链的专属，其实早在上世纪 90 年代，就有人提出了“智能合约”的概念，基本可以概括如下。以数字形式制定的一系列承诺，包括各参与方履行这些承诺的协议。

a set of promises, specified in digital form, including protocols within which theparties perform on these promises

只不过因为当时缺少有效的载体，智能合约未能进一步发展。直到以太坊出现，才将区块链技术与智能合约相结合，最终呈现在我们面前。怎么理解智能合约的概念呢？我们不妨从“合约”开始联想，利用我们原先熟悉的知识做
对比。想想平时工作生活中的合同和协议，我们就能很清晰地认识到，智能合约跟它们的概念其实是相通的，只不过智能合约是数字形式的。当然，智能合约跟传统合约还是有差异的。二者约束力的产生机理并不相同，传统意义上的合同协议的约束力来自于权威机构背书，一旦合同签订的多方未履行协议规定的义务，其他参与方是无权对违约方进行私自的追责及惩罚的，必须通过法院等司法渠道进行合理合法的诉求。

但智能合约则有所不同，其约束力的一部分就来自合约本身，智能合约实质就是一段计算机程序代码，因此具有极强的逻辑缜密性，说一不二，代码本身就描述了各参与方的权利及义务，以及各种条件下的处理逻辑流程，可以说代码即法律。那你可能就有问题了，既然代码即法律，那为什么我们平时所接触到到的各类软件应用并不
能叫做智能合约呢？这其实就要说到智能合约约束力的另一部分了，那就是为智能合约提供运行环境的区块链网络。那区块链网络与软件应用提供的运行环境有什么不一样呢？
结合前面几节课对区块链性质及基础技术的讲解，你会发现差异就在于区块链的特性。传统软件应用是由单一的企业机构或个人提供的个性化服务，软件的最终解释权在应用开发者，因此在特殊场景下，很难令用户产生信任感。另外你使用了应用，其实这相当于你与开发者签订了传统意义的合同协议，约束力还是来自权威机构。而区块链网络是由网络的所有参与方共同维护的，由全体成员共同遵守的区块链协议为智能合约提供信任约束力。


智能合约的执行依靠的是交易的链外发起，一旦上链，其运行可以排除任何第三方的干扰。另外，即便是对合约执行的流程有异议，也能利用可追溯特性对智能合约的执行过程
进行追踪。

正是因为约束力的不同，智能合约存在部分落地问题。因为智能合约缺乏权威法律的监管，只受制于代码约束及区块链信任约束。这样就使得在当下这样的一个时间点，普通大众还是缺乏一些对智能合约的信任感，尤其是在涉及重要的合同协定的时候，还是普遍信任权威机构。

当然，这只是新事物在推向市场时都要经历的过渡阶段。随着区块链及智能合约的不断推广，民众对区块链的信任感会加深，智能合约的普及也只是时间问题。为什么我会这么乐观呢？这是因为以太坊不仅是将智能合约引入到区块链中，为智能合约落地提供运行环境；更是为智能合约的推广及普及提供了通道，而这也就是以太坊改进提
案 EIP。


以太坊不仅提供技术能力支撑，还提供了可复用模版。入门难度降低了，对使用体验的提升影响深远。因为全世界的用户都可以提交各类以太坊改进意见稿，如果社区接收了意，随后的以太坊新版本就会实现这些方案。这相当于在以太坊社区运营者跟用户间搭建了直通的交流通道。少数人的思路毕竟有限，但汇聚群众的智慧，平台的发展潜力就是无穷的。


而在这些改进方案中，有很大一部分方案是对智能合约标准的提议。相较于区块链对智能合约的支持，反而我更看重智能合约标准。如果你懂一些面向对象程序编程，那么你一定会非常喜欢接口Interface，因为它可以约束及规范具有相关性的一类行为。而智能合约标准也是类似的，可以说通过通用行为标准去引导智能合约的发展是一种捷径，价值网络的落地离不开智能合约标准的制订。纯粹的理论描述，可能无法带给你特别深的感受，接下来我就用当前正火的一个智能合约标准 EIP-721 为例（721 就是提案编号，NFT 是提案的名称），为你说明智能合约标准对价值网络的影响。



这个标准的由来，全称是非同质化代币，简称 NFT。既然有非同质化代币，那肯定有同质化代币。所谓同质化代币，指的就是互相可以替代，且可以进行拆分的货币。就比如人民币，你手中的 100 块跟我手里的 100 块的购买力并没有什么区别，而且我们还可以将 100 块钱分成 2 个 50 或者 10 个 10 块。而非同质化代币则不一样，每一个 NFT 都是独一无二，且不可拆分的。你还记得前面我们
用到的房产抵押例子么，你会发现 NFT 似乎为此提供了解决思路。房产信息具有唯一性且不可复制、拆分，如果能够通过 NFT 标记房产的所有权，那么就实现了房产在虚拟世界的锚定，而一旦锚定关系成立，我们就可以在区块链网络中实现对房产的转移，这个过程会像转账一样方便。而且，NFT 的应用场景并不止于此，我们可以通过 NFT 完成多类资产的绑定，一张照片，一幅画，一首歌，一段文字，一张门票等等，任何具有资产属性的事物都可以将其登记成NFT，例如 Twitter 的 CEO 就想通过 NFT 将其发布的第一条 Twitter 拍卖。


有了 NFT，我们才能够有一种手段将虚拟与现实的价值锚定。当然这并不是说 NFT 是实现价值网络的唯一手段，价值网络的搭建是离不开所有智能合约标准的支持。但是，标准
的制定并不是一蹴而就的，首先市场上必定要先出现一款爆款应用，因其创新的模式引得大家争相模仿，进一步粗暴的推动此类应用达到一个顶峰，随之而来的是泡沫的破灭。而当市场情绪变得冷静之后，有一些人会静下心来思考泡沫背后的深层逻辑，从而抽象出应用背后的蕴含的共性行为模式，进而将其总结成 EIP 提案，最终为未来类似应用场景提

# 供标准化解决方案。
智能合约标准制定的不易，更凸显了价值网络的可贵。你也许已经迫不及待想要穿越到未来，领略价值网络时代到底多么先进。但别急，虽然现阶段价值网络还并不成熟，但其雏形已经初现端倪，那就是元宇宙，我们可以通过它窥探价值网络。


元宇宙与价值网络

如果你跟我一样曾经都是爱看书的叛逆少年，那你一定看过玄幻小说。上初中的时候，我非常痴迷于网游系列的爽文，被其中描绘的沉浸式游戏座舱深深吸引，真心希望有生之年
能够体验一番。我一度以为这只是美好的幻想，但没想到，元宇宙可能会将这一切变成现实。

我第一次听说元宇宙这个词，还以为是哪个中二少年起的名字。但了解以后才知道，其实是科幻小说《雪崩》中描绘的一个称为元宇宙（Metaverse）的多人在线虚拟世界。
这一下子激起了我的兴趣，元宇宙代表的是一个沉浸式的虚拟世界，玩家能在其中进行文化、社交、娱乐等活动。相较于传统游戏，元宇宙拥有可靠的经济系统、虚拟身份与资
产、更强社交性、沉浸式体验、开放内容创作等特点。可以说，在元宇宙中，除了物质是虚拟的，其他方面与现实世界无异。与区块链技术一样，元宇宙并不是单一技术构建的，而是由区块链、游戏、网络和显示四

大技术融合而成的虚拟世界。


区块链技术为元宇宙提供了去中心化的资产交易平台，NFT/DeFi 等智能合约为玩家的虚拟资产提供承载的媒介；游戏为元宇宙提供交互内容；5G 网络为数据的传输提供可靠保障；


可以发现，如果抛开区块链技术不谈，元宇宙所代表的仅仅是一个比传统更加逼真的沉浸式游戏环境，还不能看作一个虚拟世界。但如果有了区块链技术的加持，就能够保障玩家
的虚拟资产及身份的安全，从而在这个世界中实现公开透明的资产交易，实现价值的转移。这样看来，区块链才是元宇宙能够成为虚拟世界的关键所在。

我们对元宇宙的痴迷，绝不仅仅是因为它为下一阶段的游戏行业指引了方向，更是因为元宇宙给现实世界的价值网络提供可借鉴的思路。
探索元宇宙，其实就是在摸索价值网络。可以这样说，如同智能合约标准制定过程一样，现阶段的元宇宙就是我们期待的爆款应用，随着其不断发展，泡沫肯定随之而来，而冷静过后的抽象思考，终会为价值网络的搭建提供标准化的解决方案。


# 总结
没有区块链技术，智能合约仍旧只是个概念。而没有智能合约加持的区块链，在应用上就无法大展身手。为区块链“引荐”智能合约的正是以太坊，而且以太坊不但是智能合约的伯乐，更为智能合约的推广提供了标准化思路，可以说智能合约标准化是价值网络真正落地的前提。NFT 为现实资产与虚拟价值的锚定提供可行的解决方案，实现了价值网络落地中关键的一步。现阶段，虽然离价值网络还很遥远，但我们却可以通过元宇宙的发展进程去窥探价值网络落地的思路。


# 区块链是由区块哈

希前后关联形成的链式结构，主要目的就是保持数据的持续完整性，让区块链在保持不可篡改特性的同时获得可追溯特性。而数据归档是将区块链从某历史区块开始，将之前的数据清理掉，但随后的区块还保持原

有的顺序不变，因此数据归档的本质是在保持不可篡改的前提下牺牲部分可追溯性。但如果我们能在将区块历史数据清理以后，还提供一种方式将被归档的区块再次读取出来，那数据归档其实是一个比较优秀的解决方案。

如果我只是一位比特币的持有者，我只关心我的余额以及历史交易记录，其他的信息我一概不关心。因此我并不需要因为这一小小的需求去同步 350G 的存量数据，这些数据对我
来说并没有什么意义。但对于某些大型的节点来说，它就可以同步历史数据，并以此数据作为生产资料，对外提供相关服务，比如挖矿的矿工节点以及区块链浏览器背后的节点。公链普遍采取的就是这
种节点角色分类的方案。


* ![图片](https://user-images.githubusercontent.com/79394963/201463120-b38fb1c4-5fd1-45cb-ae9f-d828e88c8dfc.png)

比特币网络现在有大概 10000 个全节点，由它们维护完整的区块链数据，而持币者只需要在手机上运行一个钱包节点就可以进行交易。可以发现，虽然节点角色区分是缓解存储冗
余的一种有效手段，但这是以牺牲去中心化特性作为前提的，从某种程度来说，这也是一种妥协。


解读了两种不同的存储冗余的解决方案，可以发现我们无法从根源上解决存储冗余的问题，只有通过不同的技术手段缓解数据的增长。联盟链以牺牲区块链可追溯性作为突破
口，而公链以牺牲去中心化为前提。另外，其实我们还可以有另外一种办法解决存储冗余，那就是减少数据量，减缓数据增长的趋势。比如在区块链上存储的是原始数据的哈希，而不是数据本身。当然，这只是一种业务层面的解决方案，并不是一个技术维度上的办法


量子计算威胁


说完关于存储冗余的问题，我们再看看另一个大家津津乐道的问题，那就是量子计算对区块链的威胁。我们普遍觉得，量子计算机一旦成熟，以比特币为首的区块链系统就会面临
崩溃，因为量子计算机的算力与经典计算机相比，不可同日而语。但事实真的是这样吗？为了更好地帮你理解这个问题，我觉得有必要先为你科普一下什么叫量子计算。当然，我无法为你去解释叠加态 / 量子纠缠等复杂特性，因为太高深了，所以我只能通过一个从《科学声音公众号》借鉴过来的例子帮助你理解。想象一下，如果让你使用 1 只手，你可以同时表示出几个数字呢？毫无疑问，你只可能
同时表示出 1-10 这 10 个数字中的一个，而这也正是我们使用经典计算机存储数据的基本规则，同一时间一个比特位只能存储一个二进制数，要么是 0，要么是 1。而如果让你将你的手揣入口袋，请问如果让你将手从口袋里拿出来，那么你这只手有可能表达出多少数字呢？答案肯定是 10 种可能，而且在你没将手拿出来前，数字是不确定的。例子说完了，从这个例子就可以看出经典计算机与量子计算机存储数据的差别，一个是存储具体的值，而另一个是存储值的概率。



什么是存储值的概率呢？其实就是把值的所有可能性叠加在一起存储。比如 5 比特位的经典计算机，同时只能表达一个数字，而同样是 5 比特位的量子计算机则可以同时表示
个数字，二者有着 32 倍性能的差距，而且存储的效率也会随着比特位的增多而成倍增长。而这还仅仅是量子计算机的存储能力，只有强大的存储能力还不足以体现出量子计算机对经典计算机的碾压效应，更重要的是量子计算机的并行计算能力。怎么形容这种并行计算的可怕呢？我还是用例子说明。假设现在你面前有 64 × 64 根水管分成两列，其中只有一组水管可以联通，那么请问需
要多少次尝试，我们才可以找到那唯一一组可以联通的水管呢？如果按照经典计算机的思路，我们只有一组一组尝试，左侧列的第一个水管与右侧列的第一个水管联通，如果不行，保持左侧列的第一个水管不变，将右侧列水管换成第二个。这样依次比较下去，直到找到可以联通的两根水管。极端情况下，我们需要尝试 64 × 64
次才可以找到。而量子计算机则大不一样，它可以同时表示 64 根水管，因此一次尝试就可以找到那唯一匹配的结果。通过以上对量子计算机在存储及计算两方面的解读，你是不是也对量子计算机时代的区块
链产生了某种担心呢？不过要我说，这些担心仅仅是杞人忧天，你相信吗？这不仅是因为量子计算机还仅存在实验室环境中，离真正的商业化还很远，或许我们这一代人都不一定
能够赶上。另一方面，量子计算机在发展，区块链难道就会原地踏步吗？这几乎是不可能的，现阶段，我们主要担心量子计算机可以瞬间把以比特币为首的、使用 PoW 共识算法的区块链
的奖励都挖完，从而让其他矿工无币可挖；或者使用量子计算机破解比特币的公私钥，盗取其他用户的比特币。


你可以停下来稍加思考，刚才说的担心真的有道理么？其实在我看来也是多余的。先不说现阶段的量子计算机，它能否完成哈希计算或者破解非对称加密算法，而且也这样推理忽
略了区块链协议的作用。我们以比特币为例分析一下，你就懂了。


比特币协议中就有这样的规定：不管全网络的算力如何变化，区块的出块速度应保持在平均 10 分钟左右，如果出块间隔较短，则会加大挖矿难度，如果出块间隔较长，则会降低难度。而如果量子计算机加入挖矿，出块间隔势必变短，因此挖矿的难度会增加。即便增加的难度不足以难倒量子计算机，也不过是后续所有的区块奖励都由量子计算机获得，瞬间
将比特币挖光的情况并不可能出现。


再者，为什么比特币不能通过硬分叉的方式将现阶段的密码算法换成与量子计算机匹配的抗量子密码呢？量子计算在发展，区块链技术也不会原地踏步。我相信，车到山前必有
路，终归会有解决之道。

# 智能合约安全
最后，我想特别强调的一点是智能合约安全方面的遗憾。相比前面两个问题，或多或少都是因为技术本身或者其他威胁造成的，而智能合约安全完全是人的问题。


智能合约是软件工程师基于以太坊等区块链平台自主编写的程序代码。而我们都清楚，天底下几乎不存在没有 BUG 的软件系统，智能合约当然也不例外。可以说几乎每天都存在因
智能合约编写不规范而造成的攻击事件，不过是或大或小的差别罢了。就比如前面课程中提到的直接造成以太坊分裂的 The Dao 合约攻击事件，我们在这里可以列出该合约中有漏洞的代码，其实逻辑很简单。

* function withdrawBalance() {
* amountToWithdraw = userBalances[msg.sender];
* if (!(msg.sender.call.value(amountToWithdraw)())) { throw; }
* userBalances[msg.sender] = 0;
* }

结合代码我来给你做个解读，这里要表达的意思是，如果用户需要提款，先给用户打款再将用户的余额清空。然而打款这一步骤会递归调用该方法，因此逻辑一直卡在打款那一
步，而用户的余额一直没有被清空，悲剧就此发生。而其实解决方案也很简单，将两步动作调换顺序即可。


* ![图片](https://user-images.githubusercontent.com/79394963/201463238-ec4d59fa-c981-41bc-9c3c-7c24453071d2.png)

所以，后续如果你有机会编写智能合约，就需要时刻谨记要搞懂你写的每一行代码，否则有漏洞的智能合约对黑客来说就是一份诚意满满的馈赠。总结这一讲我们通过三个例子，说明了区块链技术虽然已经发展了十多年，仍然存在不成熟的地方。但问题的出现也仅代表着当前所处的困境，并不是无法改变，技术总是在不断的迭代向
前，每一次的技术更新其实都是服务于实际问题的破解，当前的遗憾并不代表着后续无法美好。


目前的区块链行业，个人认为市场在关注以下几个方向

* 1. 更强大的性能：比特币转账成本越来越高，本质上是数据库的性能越来越差。

* 2. 真正解决更多实际问题：目前大家对区块链认知仅限于比特币，还没有另一个现象级的应用。

* 3. 更加易用：目前使用区块链应用是有学习成本的，小白根本无法使用

# 区块链 + 电商

通过前面的解读，我们已经对行业链这个概念建立了初步认识。接下来，我会从区块链 +电商这个角度，设想一下行业链到底要如何运作。开始具体内容前，我需要先给你打一剂
预防针，接下来的内容纯粹是我自己的脑洞大开，而且在未来，也不太可能会出现去中心化电商行业链，毕竟牵扯面太广。之所以还是要讲，是因为区块链的发展，或者说区块链的推广不能仅靠墨守成规，应该勇于去突破思维定式。希望你也一样，不要被现实束缚。

电商行业链和传统电商最主要的区别是什么呢？用一句话概括，就是利用智能合约的标准化思路，规范电商行业流程。具体怎么理解呢？我们可以将电商行业中的流程进行抽象，形成智能合约标准，每个标准可以有不同的实现，最终呈现的效果就是，电商行业的参与者可以任意组装跟自己角色相1/8/27 14 | 区块链+电商：如何实现在线购物新体验？关流程的不同智能合约实现。
举个简单的例子，用户可以采用阿里的商品聚合服务进行商品的搜索并下单，使用微信支付进行付款，指定京东物流进行配送。听到这里，你是不是有些向往呢？为了给你更直观的感受，我以书籍这类商品为例带你展望下电商行业链的设计思路。现阶段，在电商领域，区块链应用做得最成功的案例无疑是商品追溯平台。利用区块链技术的不可篡改及可追溯特性，可以实现对单个特定商品自原材料到用户手中，整个生命周期全流程的追溯。我们可以基于商品追溯应用，顺着追溯的思路，分析一下行业链的特点。

* ![图片](https://user-images.githubusercontent.com/79394963/201463331-a8056609-f280-4e6f-a9dd-8e8057ba838c.png)


而这其中描述的书籍印刷的过程，我们就可以抽象出商品生产智能合约，如果你还记得智能合约章节中的NFT，就会发现其实已经有了实现路径。商品的生产商在行业链的流程中，每生产一个商品，就将该商品对应的资产信息（包括但不限于商品基础信息，比如资产编码、出厂价格、分类等等）进行上链，之后商品就可以由此进入市场进行流通。这是行业链和现有商品生产模式最基础的差异，现有商品生产基于流水线进行批次化生产，比如批量生产一万册书，每册书的商品编码可能都是一个。但在行业链上流转的不是商品类别，而是一个个独立的唯一商品，可以做到一物一码。
那这样有什么好处呢？行业链是价值网络的前置阶段，如果其上流转的也是资产，也便于后续价值网络的普及。所以简单来说，行业链是特定行业的价值网络，而价值网络是所有行业链的集合。


渠道分发
出版社把书籍印刷出来以后，就可以根据不同的电商渠道分发不同数量的书籍。在行业链中，这一过程其实并不是必须的，这是为什么呢？通过前面对行业链的解读可以发现，行业链其实是在弱化企业的存在感，也就是在淡化渠道的概念。渠道主要是为商品生产商与用户间建立买卖的平台，而区块链去中心化特性恰恰是在抑制中间商。

而在这个阶段，我们可以抽象出商品分发智能合约，可以简单的理解为批发。在链下，是将商品从生产商转移到渠道商仓库，而链上是将商品的所有权从生产商转移到渠道商。但要注意，这里要做到链下商品的仓储周转与链上所有权的协同转移，什么意思呢？行业链中的每件商品都是具备资产属性的，并不能简单以数量进行商品的调拨，而是链上的资产与链下的商品要匹配，否则就有串货的风险。


在出版商将书籍资产信息上链以后，在行业链中的其实就有了该书籍的信息。不过对用户来说，在商品种类繁多的行业链中，搜寻书籍无疑是大海捞针，因此就有必要抽象出商品聚合搜索智能合约标准，方便用户浏览、搜索商品。此时平台的作用，就是基于聚合搜索合约，将行业链中的商品个性化地呈现给用户。而用，也可以根据自己的需求定制合约，比如只关
注特定书籍类别。


看到这里你可能有所疑惑，这似乎跟现在的电商平台区别不大，并没有什么新的体验？那我们就用前面说的大数据杀熟这个问题来说明，现在电商平台之所以能够杀熟，基本上是依靠用户历史购买记录推断出用户的购买意愿，再利用平台与用户间的信息不对称和用户对平台的依赖性，使用户在无形中被带节奏，从而以较高的成本购买商品。而行业链支撑的电商平台则有所不同，首先用户的历史购买记录属于个人隐私，用户可以使用智能合约对数据进行定向授权，在用户未授权平台获取这部分数据之前，平台无法提前得知用户的购买倾向，进而也就无法进行商品推荐。
另外，关于商品的这部分信息在链上应该是公开的，任何人都可以查看，因此也就不存在平台与用户间的信息不对称。只是平台更有技术实力能够将商品从繁杂的商品库中聚合出来而已，而一旦用户对平台的聚合服务不满意，也可以随时切换另一个智能合约实现，抛弃原有平台。也就是说，电商行业链对平台是苛刻的，但却可以为用户带来较好的体验。



书籍订购
而在用户找到想要的书籍后，就到了下单进行订购支付这一环。在这个阶段，我们可以抽象出很多智能合约标准，比如库存扣减合约，支付合约，物流合约等等。其实这些合约都从属于同一个订单合约。从务逻辑分析，购买商品的本质就是用户跟其他各参与方签订了合同协议，合约内容可以理解为如果商品所有权转移给用户，之后选择某某物流公司送达以后，用户就会把锁定在合约中的货币按商品价格组成，分别释放给平台，商家及其他参与方。通过刚才的讲解，我简要为你梳理了书籍生产到用户订购的过程，描述了我对于电商行业链生态的理解。描述的内容并不专业，你也不必过于纠结其中的细节，比如商品如何划拨，又该如何退货退款等等。你只需要理解，在电商行业链中，商品信息在同一条区块链网络中共享，电商平台的竞争逐步就表现为对链上数据的聚合、分类及差异化营销。




* 现阶段具有某些业务往来的企业逐渐联盟起来形成小范围的联盟链试点，一旦新型业务模式形成，势必会有其他企业加入，小联盟逐渐壮大，从而形成以核心企业为主导的业务联盟链。


* 而随着核心企业业务联盟进一步扩大，多个核心企业所围拢的多条联盟链也会因为业务需求、监管要求统一成一条超级行业链。其最终形态是业务流程的标准化以及实现的差异化，企业间的竞争，将会逐步变成拥有相同数据情况下的差异化服务竞争

* ![图片](https://user-images.githubusercontent.com/79394963/201463415-eb525b5f-3734-4065-a1d5-2262e7eb0568.png)




脉络自2008年比特币的诞生开始，区块链就逐渐被人们发掘。2009年之前区块链还只是以比特币为代表的加密数字货币圈中关注的主要技术，该阶段为区块链1.0阶段。


金融领域开始意识到区块链技术的颠覆性变革潜力，区块链技术的应用场景也逐渐由加密货币向可编程金融扩展，该阶段为区块链2.0阶段。

2013年到2016年


随着区块链技术特有的价值开始逐渐显现，世界各国政府、部分资本密集、技术密集型产业开始进军区块链技术研究，该阶段为区块链3.0阶段。

2016年以来

各国商业、科技、IT互联网巨头纷纷布局区块链，区块链规模和应用场景迅速发展。

W.Scott Stornetta被公认为“区块链之父”。他也是密码学和分布计算领域的知名人物。他在与Haber共同撰写的论文中首次提到区块链架构技术，该论文描述了一种称为“区块链”的数字体系结构系统，该系统利用“数字时间戳”进行商业交易。区块链系统的概念后来被Satoshi Nakamoto（中本聪）用于开发出今天大行其道的比特币-区块链。

与长期同事和合作者Stuart Haber一起，W.Scott Stornetta为今天的区块链技术革命的出现奠定了基础。Stornetta与Stuart Haber一起被尊重为区块链的共同发明者。Stornetta花了数十年的时间为密码学和分布式计算领域提供有价值的研究和出版材料，并为几所大学就建立创业公司提供咨询。他与Haber一起共同撰写了密码学领域的一些重要文献。比特币区块链架构的几个基础就是基于Stornetta的工作。
中本聪在比特币白皮书目录中的第三，第四和第五条就是对他在加密时间戳协议中的工作的参考。

Scott在斯坦福大学获得物理学博士学位，现在担任澳洲投资公司First Digital Capital的首席科学家，负责区块链技术公司和ICO项目评估工作。 



W.Scott Stornetta被公认为“区块链之父”。他也是密码学和分布计算领域的知名人物。他在与Haber共同撰写的论文中首次提到区块链架构技术，该论文描述了一种称为“区块链”的数字体系结构系统，该系统利用“数字时间戳”进行商业交易。区块链系统的概念后来被Satoshi Nakamoto（中本聪）用于开发出今天大行其道的比特币-区块链。与长期同事和合作者Stuart Haber一起，W.Scott Stornetta为今天的区块链技术革命的出现奠定了基础。Stornetta与Stuart Haber一起被尊重为区块链的共同发明者。Stornetta花了数十年的时间为密码学和分布式计算领域提供有价值的研究和出版材料，并为几所大学就建立创业公司提供咨询。他与Haber一起共同撰写了密码学领域的一些重要文献。比特币区块链架构的几个基础就是基于Stornetta的工作。中本聪在比特币白皮书目录中的第三，第四和第五条就是对他在加密时间戳协议中的工作的参考。Scott在斯坦福大学获得物理学博士学位，现在担任澳洲投资公司First Digital Capital的首席科学家，负责区块链技术公司和ICO项目评估工作。

价值中国：你能否简要介绍一下1990年到1991年期间Stuart Haber和您是如何提出了区块链的想法？当你第一次想出这个概念时，您的主要目的是什么？

斯科特：事实上，很多人在得知区块链技术这个概念远远先于比特币的时候是非常惊讶的，因为在他们所开始接触区块链这个概念的时候，就是比特币的出现将区块链概念带入人们视野当中。所以我会先简单说说区块链技术的历史，之后再谈它与比特币之间的关系。

当我最开始思考区块链技术的时候，当然那时还没有这个词，这是后来我们创造的一个词语。在1989年的时候，我从斯坦福大学以物理博士的学位毕业，当时的我对于电脑技术和互联网技术一直非常感兴趣。当时的电脑技术正在迅速地发展，所有的文件都在慢慢革新成电子版本。那时我就在想，我们怎么确定手中的电子版本的文件就是原版呢？如何得知是否有人曾改动过电子版本的文件呢？由于当时只有一部分文件是电子版本的，大部分的文件，包括转账记录，交易记录仍然是以文字形式记录的，即使这些都是书面形式的文件，它们也有自己的备份，能够确保书面记录的准确性。

众所周知的是，如果可以改变这些文件，就可以改变记录。当时大家都把精力放在如何确保书面文档的准确性上，没有人在意电子文档记录的准确性。但当时我就想，我们将会生活在一个所有文档都是电子文档的世界，书面形式的文档终将会被科技淘汰，如果我们不去解决电子文档准确性的问题，我们就没有办法区别真实的记录和被篡改的记录。

我当时是在Bellcore做分析师，这是一家非常开放自由的实验室，它不会给员工安排特定的工作，告诉员工去按部就班地做什么，相反，它鼓励员工选择自己感兴趣的并想要解决的问题，然后它提供资源，放手让员工去做。我非常幸运在这家实验室工作，因为当时的我并不是很了解密码学和最新的互联网技术，但是我的同事们是非常厉害的密码学专家。

Stuart Haber便是其中一个，我找到他并对他说，也许我并不是很了解密码学，但是我知道，数字文档准确性的问题一定是个至关重要的问题，我们可以一起解决它，我们可以真正地做些什么去改变这个世界。然后我们就决定一起研究并解决这个问题。Stuart作为密码学专家，他教会我很多密码学的相关知识，我们一起研究了这个问题好几个月，最终我们找到了一个解决办法，但并不是一个令人满意的完美的解决方案。

他解决了这个问题，但是他要求一个第三方信任机构的存在，要求信任一个外部渠道。但这样的第三方信任机构仍然可以篡改记录，所以我们就决定我们应该继续探索其他方法，去创造一个不需要信任任何人或者外部渠道就能确保数字文档不被篡改的方法。然后我们就继续研究下去，最后Stuart找到了问题的关键所在，他认为我们根本就无法解决这个问题，所以他决定去证明我们无法解决这个问题。

非常有趣的是，最终在证明我们无法解决这个问题的过程中，我们找到了如何去解决问题的方法。（笑声...）最根本的解决办法是——既然我们始终要去信任某个人或者机构来确保数字文档的准确性，那就去信任每一个人，也就是说，让世界上的每一个人都是数字文档记录的见证者。

我们颠覆了这个问题，找到了解决办法，我们设想去构建一个网络，能够让所有的数字记录在被创造的时候就传输到每一个用户那里，这样就没有人可以篡改这个记录。这就是最早区块链概念的诞生。 

比特币，是很奇妙的缘分。有一天我收到了一封邮件，里面写了比特币相关的事情，写信人表示他对这项新兴的科技非常感兴趣，他注意到了我和Stuart Haber的研究在其中有所涉及，然后，有一个叫中本聪的人在我和Stuart Haber的研究之上做了更进一步的发展。人们发现了我的研究成果在比特币中被多次引用，并且我还会说日语，所以他们在怀疑我是否是那篇作品的原创作者中本聪。事实上我不是，但是我去了解了中本聪的论文，以及他的研究，是非常厉害非常了不起的研究。

我和他取得了联系，他告诉我，有人写邮件问他，他所提出的比特币和我所提出的数字时间戳之间的联系是怎样的，中本聪回答，比特币是数字时间戳的更为分布式的应用，并且专门应用于金钱交易上。所以早期区块链和比特币的关系正如他所说的这样，比特币是区块链的一个应用。比特币创造了一个新的货币体系，这是一个了不起的成就。但区块链还有很多其他的应用，除了获得最多关注的比特币，区块链仍需要进一步发展。我坚信数字货币在未来也会有更大的发展空间，但它必然是在区块链技术基础之上的，而非脱离区块链，但它不一定要沿用今天被称为比特币的技术。

区块链的特征价值中国： 众所周知，“数字时间戳”的发明对区块链来说极为重要，核心在于，它解决了安全问题。您能解释一下加密数字时间戳和区块链之间的关系吗？斯科特：这个问题我之前已经回答了一部分，所以我再简单地再阐述一下。加密数字时间戳技术就是早期的区块链技术，他们就是同一件事情。不像比特币和区块链，它们有很大的差别。许多人对区块链和比特币的关系有所争议，但我认为更重要的事情是要推动未来区块链技术的发展。


第一，记录是否需要被分布呢？答案是肯定的，只有确保分布式记录，才能保证记录不可篡改，这是区块链的核心技术。第二，算法是否需要是分布式的呢？我认为在一些情况下需要，而另一些情况下不需要，这主要取决于应用的主要目的。第三，整个社会的掌控者和领导者是否需要被分布呢？我认为这取决于具体情况，大部分人可能会不同意我的看法，但是我始终坚持我的看法，并且我认为我的看法最终会被证明是正确的。

如何分布统治者就像如何运行算法，我们个人、个体在市场上是处于弱势地位，而统治阶层是处于强势地位，这样的力量对比在一些情况下是有益的，而一些情况下并非如此。所以我觉得这些问题不能只用一个简单的“是或者不是”的答案来回答，这取决于具体的情况和具体的立场。我自己的公司名字是日文“幽玄”，意思是沉思，我的立意也就是希望自己在发展的大潮中保持清醒，从不同的角度思考问题，而并非“随波逐流”地赚取利益



1976年，著名经济学家哈耶克出版了《货币的非国家化》，提出了非主权货币和竞争发行货币的理念，为比特币（最早的区块链技术）的诞生提供了理论基础。

也是在1976年，Bailey W. Diffie、Martin E.
Hellman两位密码学的大师发表了论文《密码学的新方向》，论文覆盖了未来几十年密码学所有的新的进展领域，包括非对称加密、椭圆曲线算法、哈希等一些手段，奠定了迄今为止整个密码学的发展方向，也对区块链的技术和比特币的诞生起到决定性作用。


除了理论依据，还有很多前人的实践给中本聪提供了很多参考：


    1990年，密码朋克的“主教级”人物大卫 · 乔姆发明了密码学匿名现金系统Ecash。1997年，亚当 · 贝可发明了哈希现金（Hashcash），其中用到了工作量证明系统（POW）。1997年，哈伯和斯托尼塔提出了一个用时间戳的方法保证数学文件安全的协议。这个协议也成为比特币区块链协议的原型之一。1998年，戴伟发明了B-money，强调点对点交易和交易记录不可更改，可追踪交易。2004年，芬尼发明了“加密现金”，采用了可重复使用的工作量证明机制（RPOW）。

失败是成功之母，中本聪总结了这些失败案例的原因，并且将这些技术融合在一起，发明了最早的区块链技术——比特币。

2008年11月，中本聪发表了《比特币：一种点对点的电子现金系统》（比特币白皮书）

2009年1月，比特币网络正式上线。

2011年，美籍华人李启威发明了莱特币。莱特币的出块速度更快（2.5分钟，快比特币4倍），总量更大（8400万个，是比特币的4倍），同时在工作量证明中做了一些调整。

莱特币之后，出现了大量类似的币种，他们都在比特币的基础上做了一些调整，但是这些新的币种跟比特币没有本质区别，定位都是货币。

    币姐小百科
    “区块链”并不是中本聪提出来的。
    最早大家把比特币的货币用小写的“bitcoin”来表示，而把比特币的底层技术用大写的“Bitcoin”来表示。
    但是由于很多人对比特币有偏见，于是大家把比特币的底层技术提炼出一个新名词——区块链（blockchain）。

这个阶段，区块链的应用只有货币，功能单一，这个阶段，区块链技术存在3个问题：


    脚本语言太复杂，不易开发生态系统不好，参与者并不多脚本语言不符合“图灵完备”，限制了进一步用途

区块链技术只应用于数字货币的阶段，被大家称为区块链1.0的时代。代表作就是比特币。


2013年，Vitalik Buterin（人称“V神”），发布了以太坊白皮书的首个版本。

2015年，以太坊发布第一个正式版本：前沿。这个版本只有命令行界面，主要使用者是开发者。

2016年，以太坊发布新版本：家园。增加了类似Windows系统的图形界面，普通用户也可以体验以太坊的功能。

2016年，以太坊硬分叉，出现 ETH 和 ETC.

以太坊简单理解的话就是一个“操作系统”，好比Windows

可能很多人听过“区块链3.0”的说法，但是对于3.0目前还没有达成共识，3.0到底意味着什么？代表作又是什么？

有人说以IOTA为代表的，采用了DAG技术的项目就是3.0（什么是DAG？）

有人说3.0就是扩展到金融领域之外，将其技术应用到生活中的方方面面。

    
    3.0是什么并不重要
    重要的是区块链技术变得越来越强大。相信区块链技术在未来会给我们的工作和生活带来实实在在的好处。

前比特币时代

加密货币可能已经成为千禧一代最喜欢的投资资产之一。但却很少有人知道，早在1982年就出现了第一个数字现金的提案。在论文“Blind signatures for untraceable payments"中，加州大学的研究员David Chaum 第一次提出了数字现金的概念。

他在1990年创立了名为 Digicash 的公司，但这家公司在向南发展最终宣告破产。这是第一次将数字现金带到现实世界的严肃尝试，虽然在当时互联网的渗透还处于起步阶段。

1991年，Stuart Haber 和 W. Scott Stornetta 第一次开始研究由区块组成的加密安全链。在这条链上，没有人可以篡改文件的时间戳。在一年之后的 1992 年，他们升级了系统，采用了 Merkle 树来提升效率，一个区块可以容纳更多的文件。


数字黄金（E-Gold）

1996 年，Gold & Silver Reserve（G&SR）发布了数字黄金，它是一种由实物黄金支持的数字货币。这家公司在PayPal成立的两年前发布数字黄金，它让用户能看到自己持有的黄金余额并允许用户交易数字黄金。

它引入了实时结算的概念，这是现在的智能合约得以出现的重要理论积淀。它让第三方的交易服务激增。与此同时，它引入了通过SS里加密连接和为第三方提供的API来达成交易。

除此之外，尽管它是一家中心化的公司，但它开啊了一种名为“e-gold Special Purpose Trust”的治理机制，这是如今治理委员会的核心。

E-Gold也第一次使得国际庞氏骗局和全球化欺诈成为可能。

在高峰时期，电子黄金每年的交易额达到20亿美元，有五百万个账户，并储存了超过3.5吨黄金。

让电子黄金走向消亡的是越来越多的安全问题，包括庞氏骗局和网络钓鱼攻击。该公司一直是全球黑客的目标，一些常见的黑客技术（公司模仿，邮件列表攻击……）为攻击电子黄金进行了改进。E-Gold最终被美国司法部门以非法汇款人的身份关闭。在诉讼的过程中，电子黄金失去了巨大的用户群体，这些用户害怕被当局看到他们的持仓。到2008年，这一系统迅速没落。


密码学家时代

数字黄金的同一时期还有其他的创新。在1997年，密码学家 Nick Szabo 发布了一篇名为“Formalizing and Securing Relationships on Public Networks"的论文。他在其中提出了智能合约的概念，它是一种在无信任的陌生人网络之间执行协议的方法。

1998年，Szabo 设计了一种名叫 Bit Gold 的去中心化数字货币。Szabo 建议用户使用计算能力来解决加密谜题。虽然 Bit Gold从未被大规模使用，但它的理论框架影响了第一个加密货币的创造。

同样在 1998 年，计算机工程师 Wei Dai 发布了“B-money, an anonymous, distributed electronic cash system." 这篇论文描述了很多现代加密货币的特征，如分类账本的集体更新，工作进程激励，加密身份认证以及公钥加密学。

另一位重要的贡献者是 Hal Finny，他是一位开发者也是加密学活跃分子，在2004年开发了第一个可重复使用的工作量证明（RPOW）。


进入比特币时代


有一些线索可以表明一些新的东西来到了这个世界，一些前所未有的会产生天翻地覆的影响的东西。

在 2008 年的 8 月，域名“Open source P2P money"被注册了。

在 2008 年 10 月 31 日，论文“Bitcoin: A Peer-to-Peer Electronic Cash System"在一个加密学的邮件组中被发布。发布者名为中本聪（Satoshi Nakamoto），这是一个或者多个人的假名，至今仍不能确定中本聪的真实身份。


这里是邮件原文：

我已经研究出了一个新的点对点电子现金系统，不需要被信任的第三方。

论文可以在这里查看：http://www.bitcoin.org/bitcoin.pdf

主要特性：

以点对点的网络防止双花攻击；

没有铸币厂或其他被信任的第三方；

新的币由哈希算法工作量证明产生；

新币产生的工作量证明机制也为防止双花攻击的网络提供动力。

——中本聪


在 2009 年 1 月，中本聪发布了比特币的开源软件。在 2009 年 1 月 3 日，当中本聪挖出链上的第一个区块时，比特币网络诞生了。后来那个区块被成为“创世区块”。

嵌入在这个区块中的是以下的文字：“The Times 03/Jan/2009 Chancellor on brink of second bailout for banks." 在这个时代，财政大臣在银行第二轮救助的边缘。比特币社区和密码学家将这句话解释为时间戳和分布式储存将对银行业产生极大冲击。

6 天之后，Bitcoin 1.0版本被发布。任何人都可以参与进来。它是作为 Windows程序发布的，使用Visual Studio编译。

第一笔比特币交易于 2009 年 1 月 12 日发送给 Hal Finny，当时中本聪在 170 区块向他发送了 10 个比特币。8 年后，这 10 个免费的比特币在价值最高的时候达到了二十万美元。
疑似中本聪的密码学家


2009 年，小型加密社区进行了挖矿和辩论。

6 月的时候，中国政法发布了第一部关于“虚拟货币”的立法，禁止公民用任何种类的数字货币购买商品和服务。这条规则在当时针对的是视频游戏中的钱和电子积分，比如腾讯发布的Q币。但它也涵盖了比特币。

2009 年 10 月 5 日，比特币的兑换率第一次被确定。提案的汇率是 1309.03 BTC = 1 美元。它是通过计算一台计算机生成比特币的电力成本得来的。这个汇率在近 8 年的时间里被倒转了过来：到 2017 年 4 月，1 BTC = 1309 美元。

2009 年 10 月 12 日，一个比特币开发者的专属IRC频道诞生了：#bitcoin-dev。两个月后的 12 月 16 日，作为这个频道建立的结果，比特币 2.0 版本诞生了。

2009 年 11 月 22 日，中本聪创建了 Bitcointalk，并使用“Satoshi”作为他的用户名。他的主线从之前的 Sourceforge 论坛移了过来。
BitcoinTalk.org 上的第一条消息

2019 年以比特币挖矿难度增加而告终：12 月 30 日，就在新年开始之前，挖矿难度有史以来第一次增加。


2009 年，小型加密社区进行了挖矿和辩论。

6 月的时候，中国政法发布了第一部关于“虚拟货币”的立法，禁止公民用任何种类的数字货币购买商品和服务。这条规则在当时针对的是视频游戏中的钱和电子积分，比如腾讯发布的Q币。但它也涵盖了比特币。

2009 年 10 月 5 日，比特币的兑换率第一次被确定。提案的汇率是 1309.03 BTC = 1 美元。它是通过计算一台计算机生成比特币的电力成本得来的。这个汇率在近 8 年的时间里被倒转了过来：到 2017 年 4 月，1 BTC = 1309 美元。

2009 年 10 月 12 日，一个比特币开发者的专属IRC频道诞生了：#bitcoin-dev。两个月后的 12 月 16 日，作为这个频道建立的结果，比特币 2.0 版本诞生了。

2009 年 11 月 22 日，中本聪创建了 Bitcointalk，并使用“Satoshi”作为他的用户名。他的主线从之前的 Sourceforge 论坛移了过来。







02 # 区块链的核心技术



区块链作为一种分布式系统，包括P2P网络技术、共识机制技术、密码学技术。



一是P2P网络（Peer-to-peer Network），即点对点网络，P2P网络作为分布式网络，网络上的各个节点可以直接相互访问而无需经过中间实体，同时共享自身拥有的资源，包括存储能力、网络连接能力、处理能力等。



二是共识机制，即区块链作为分布式系统需保证系统满足不同程度的数据一致性，为了实现数据的一致性，需要用到共识算法。



三是密码学，即为保障区块链数据构造、传输、存储的完整和安全，区块链技术使用了大量的密码学技术和最新研究成果，诸如密码哈希函数、椭圆曲线公钥算法。


几乎所有比特币的技术组件都起源于20世纪80年代和90年代的学术文献（见图1）。这并不是为了削弱中本聪的成就，而是指出他站在巨人的肩膀上。事实上，通过追溯比特币思想的起源，我们可以将中本聪洞察力的真正飞跃归结为一个特定的，复杂的方式——一种组合创新（把底层组件整合在一起）的方式。这有助于解释为什么比特币花了这么长时间才被发明。已经熟悉比特币工作原理的读者可以从这个历史回溯中获得更深入的了解（更多介绍，参见Arvind Narayanan等人的Bitcoin and Cryptocurrency Technologies(文献36)。比特币的思想文化史也可以作为一个展示学术界、外部研究者和从业者之间合作关系的研究案例，并且为这些不同群体之间如何彼此合作获益提供经验教训。

* ![图片](https://user-images.githubusercontent.com/79394963/197919419-c0f9f7a9-faeb-4d5d-892a-11b21cb94259.png)

1 总账本(The Ledger)

如果你拥有安全的总账本，那么将其用于数字支付系统的过程将会非常简单。例如，如果Alice通过PayPal给Bob 100美元，则PayPal从Alice的账户中扣除100美元，并将100美元存入Bob的账户。这大体上和传统银行的业务差不多，虽然传统银行的业务之间并没有一个共享的总账本。

 

总账本的概念是理解比特币的起点。它记录了系统内发生的所有交易，并且对系统的所有参与者开放，并被他们信赖。比特币将系统的支付记录转换为货币。在银行业务中，账户余额代表了可以从银行取出来的现金，但一个比特币代表什么？就目前而言，我们只能说比特币代表包含固定价值的交易。

 

在互联网这种参与者之间可能互不信任的环境中，怎样才能如何建立一个总账本？让我们从简单的部分开始：数据结构的选择。这个数据结构必须满足一定的属性要求——总账本应该是不可变的。更准确地说，只能添加新的交易，不能修改删除，也不能对已有交易重新排序。除此之外，还需要获得总账本状态的密码摘要。摘要是一个简短的字符串，可以避免存储整个总账本。如果总账本被篡改，所产生的摘要必然会发生变化，从而可以检测到篡改。需要这些属性的原因是：与存储在单个机器上的常规数据结构不同，总账本是由互不信任的一组参与者共同维护的全局数据结构。这与去中心化数字总账本(decentralizing digital ledgers, 文献7,13,21)的方法是不同的，在去中心化数字总账本中，参与者维护本地总账本，并且由用户查询这些总账本来解决冲突。



1.1	链式时间戳(Linked timestamping)

比特币的总账本数据结构有修改的借用了从1990年到1997年间由Stuart Haber和Scott Stornetta撰写的一系列论文（他们1991年的论文还有另一个合著作者Dave Bayer,文献5,22,23）。我们能够知道这些历史渊源是因为中本聪在他的比特币白皮书(文献34)中如此提及的。Stuart Haber和Scott Stornetta的主要工作是处理时间戳的文档化——他们的目的是建立一个“数字公证”的服务。对于专利，商业合同和其他文件，人们希望确定该文件是在某个时间点或者不迟于某个时间点创建的。Stuart Haber和Scott Stornetta的文档概念非常泛化，可以是任何类型的数据。他们确实提到金融交易是潜在的应用，但金融交易不是他们关注的焦点。



在Stuart Haber和ScottStornetta方案的简化版本中，文档被不断创建和广播。每个文档的创建者声明一个创建时间（并签名文档）、文档的时间戳和前一个广播文档。前一个广播文档友签署了自己的前一个，所以文档形成了一个很长的倒退链。外部用户不能改变时间戳的信息，因为它是由创建者签名的；创建者也不能在不改变整个信息链的情况下改变时间戳的信息。因此，如果通过可信源（例如，另一个用户或专门的时间戳服务）获得链中的某个项目，那么该时刻之前的整个链是锁定的，不可变，并且在时间上有序。进一步，如果你认为系统因为创建时间错误拒绝你的文档，那么你必须地保证文档至少与其声称的一样久远。总之，比特币只是借用Stuart Haber和Scott Stornetta设计的数据结构，然后重新设计了其安全属性（通过增加工作量证明，本文稍后介绍）。

 

*译注：进一步，如果你认为系统因为创建时间错误拒绝你的文档，那么你必须地保证文档至少与其声称的一样久远。无原文：Further, if you assume that the system rejects documents with incorrect creation times, you can be reasonably assured that documents are at least as old as they claim to be.



在Stuart Haber和Scott Stornetta的后续文献中，他们介绍了使这个数据结构更加高效的其他方案（其中一些在第一篇论文中有暗示）。首先，可以使用哈希而不是签名来创建文档之间的链接；因为哈希更简单，计算速度更快。这样的链接被称为哈希指针。其次，不是单独对文档进行线程化处理（如果几乎同时创建多个文档，效率可能会很低），它们可以分为批处理组或区块，每个区块中的文档具有基本相同的时间戳。第三，在每个区块内，文档可以用一个哈希指针的二叉树连接在一起，称为Merkle树，而不是一个线性链。顺便提一下，在Stuart Haber和Scott Stornetta的第一篇论文发表的6年之后，即1991年，Josh Benaloh和Michael de Mare独立地提出了上述三个方案。



1.2	梅克尔树(Merkle trees)



比特币本质上使用Josh Benaloh和Michael de Mare在1991年和1997年提出的数据结构（中本聪大概不了解Josh Benaloh和Michael de Mare的工作），图2以简化的形式表示。当然，在比特币中，交易取代了文档。在Merkle树的每一个区块中，叶节点代表交易，每个内部节点由两个指针组成。这个数据结构有两个重要的属性。首先，最新区块的哈希作为摘要。对任何交易（叶节点）的更改都需要将更改一直传播到区块根，以及所有后续区块的根。因此，如果你知道最新的哈希值，你可以从不可信源下载余下的总账本，并验证是否改变。类似的观点建立了数据结构的第二个重要属性 ——也就是说，某人可以简单有效地向你证明某个特定的交易是否包含在总账本中。这个用户只须向你发送该交易区块中的少量节点（这是Merkle树的特点），以及每个后续块的少量信息。高效地证明交易的包含能力对于性能和可伸缩性是非常需要的。



![图片](https://user-images.githubusercontent.com/79394963/197919638-d8b85b88-15b5-42d6-b091-4dea3ff103bd.png)


*译注：Ralph Merkle，生于美国，计算机科学家，对于公钥加密技术有重大贡献。后来研究方向转至于纳米科技以及人体冷冻技术。



便说一下，Merkle树是由对称密码学的先驱Ralph Merkle命名。Ralph Merkle在1980年的论文(文献33)中提出了这个想法。他的目标应用是生产数字签名证书的公共目录摘要。例如，当一个网站向你提供一个证书时，它也可以提供证书显示在全局目录中的简短证明。只要你知道证书目录中Merkle树的根哈希，就可以高效地验证证明。这个想法在密码标准中是古老的，但它的力量只有在最近才被认可。它是最近实施的证书透明系统(文献30)的核心。2015年的一篇论文提出了CONIKS，将Merkle树应用于端到端加密电子邮件的公钥目录(文献32)。对全局状态的部分进行高效的验证是总账本在新的加密货币(cryptocurrency) “以太坊(Ethereum)”中提供的关键功能之一。

 



比特币可能是Josh Benaloh和Michael de Mare数据结构在真实世界中最著名的应用实例，但它并不是第一个。至少有两家公司 ——从90年代中期开始的Surety，从2007年开始的Guardtime ——都用到了文档时间戳服务。这些服务都有一个有趣的交集(An interesting twist)是Bayer, Haber和Stornetta(文献5)提到的一个想法，这个想法是在报纸上以广告的形式定期刊登Merkle根。图3显示了由Guardtime发布的Merkle根。



1.3	拜占庭容错(Byzantine fault tolerance)

当然，没有中心权威的互联网货币要求更为严格。分布式账本将不可避免地存在分叉，这意味着一些节点会认为A区块是最新的块，而其他节点会认为B区块是最新的块。这可能是因为攻击者试图破坏总账本的操作；也可能仅仅是因为网络延迟，不同的节点不知道对方的区块，偶尔会几乎同时产生区块。仅仅依靠链式时间戳解决分叉是不够的，这由Mike在1998年的文章中证明(文献26)。



一个不同的研究领域——容错分布式计算——已经研究了这个问题，其中包括状态复制（state replication）在内的不同名称。解决这个问题的方法是使一组节点以相同的顺序应用状态转换——通常，精确的顺序无关紧要，只要所有的节点都是一致的。对于数字货币(digital currency)，要复制的状态是一组余额，交易即是状态转换。早期的解决方案，包括由图灵奖得主Leslie Lamport于1989年(文献28,29)提出的Paxos——当通信信道不可靠时，少数节点可能会出现某些“realistic”的故障，例如永远离线或重新启动，收到最初离线时发送的过时消息等——会考虑状态复制。随后发表的大量文献，主要是应对更为复杂（敌对/不利）的环境，以及针对效率的权衡（tradeoff）。



一系列相关工作研究了网络大多可靠的情况（消息以有限延迟传递），但是“故障”的定义被扩展为处理与协议的任何偏离（any  deviation）。这种拜占庭式故障包括自然发生的故障以及恶意制造的行为。早在1982年(文献27)，Lamport，Robert Shostak和Marshall Pease发表了一篇论文：《拜占庭将军问题》。之后的1999年，Miguel Castro和Barbara Liskov发表了一篇里程碑式的论文引入PBFT（practical Byzantine fault tolerance）同时容纳了拜占庭故障和不可靠的网络(文献8)。与链式时间戳相比，容错有关的文献数量是很多的，包括Paxos，PBFT和其他重要协议的数百种变体和优化。



中本聪在最初的白皮书中没有引用BFT的文献或者使用其语言。他使用了一些概念，将协议作为一种共识机制，并以攻击者的形式，以及节点加入和离开网络的方式来考虑故障问题。这与他明确声明参考了链式时间戳的文献（包括工作量证明，下文讨论）形成鲜明对比。当被问及关于比特币与拜占庭将军问题（一个需要BFT解决的思想实验）的邮件列表讨论时，中本聪声称工作量证明链解决了这个问题(文献35)。



在接下来的几年中，其他学者从分布式系统的角度研究了中本聪的共识机制——这仍然是一个正在进行的工作。有人表示，比特币的属性是相当弱的(文献43)；而另外一些人则认为，对于比特币的一致性属性来说(文献40)，BFT的观点并不公平。另一种方法是定义已经充分研究的性质变体，并证明比特币满足它们(文献19)。最近，这些定义大大加强了，以提供一个更为标准的一致性定义，且该定义为消息传递保留更多现实性假设(文献37)。然而，所有这些工作都假设部分参与节点的行为是“诚实”的（例如，协议兼容），而中本聪则认为，没有必要盲目地假设节点行为是诚实的，因为行为是被激励的。对中本聪的激励共识机制的全面分析并不适合过去的容错系统模型。



2 工作量证明(Proof of Work)

几乎所有容错系统都假定系统中的大多数或绝大多数（如超过一半或三分之二）节点都是诚实和可靠的。在一个开放的对等网络中，没有节点的注册，节点可以自由地加入和离开。因此，攻击者可以创建足够多的Sybils或sockpuppet节点来打破系统的一致性保证。Sybil攻击是由John Douceur在2002年正式形式化，并提出借助于密码学基础设施——工作量证明——来化解它。



2.1	起源(The origins)

为了理解工作量证明，我们来看看这个概念的起源。工作量证明是由Cynthia Dwork和Moni Naor于1992年首次提出和创建的。他们的目标是阻止垃圾邮件。请注意，垃圾邮件，Sybil攻击和拒绝服务都是大致类似的问题：与常规用户相比，攻击者通过网络增大其破坏力。工作量证明适用于三方防御。在Cynthia Dwork和Moni Naor的设计中，电子邮件收件人只会处理那些附带证明——发件人执行了适量计算工作——的电子邮件，即“工作量证明”。计算工作量证明在普通计算机上可能需要几秒钟的时间。因此，对普通用户来说不会造成任何困难，但是对于垃圾邮件发送者，在使用等效硬件的条件下，发送一百万封电子邮件则需要几周的时间。

 

请注意，工作量证明（也称为“难题求解”）必须特定于电子邮件以及收件人。否则，垃圾邮件发送者将能够向同一个收件人发送多个邮件（或者向多个收件人发送相同的邮件），而成本和一对一发送一样。第二个重要的特点是它应该给收件人仅造成最小的计算负担；“难题求解”应该是易于验证的，无论他们计算多么困难。此外，Cynthia Dwork和Moni Naor认为带有后门的功能——这是中心权威机构所知道的一个秘密——可以让权威机构在不做工作量证明的情况下解决问题。一个可能的应用程序后门是为权威机构开放一个不产生成本发送邮件的邮件列表。Cynthia Dwork和Moni Naor的提案包含三个满足其性质的候选难题，并启动了整个研究领域，我们将再次回到这个主题。



2.2	哈希现金(Hashcash)

一个非常类似的名为hashcash的想法是在1997年由当时是cypherpunk社区的博士后研究员Adam Back独立发明的。Cypherpunk社员是反政府和反中心机构力量的活动家，并致力于通过密码学推动社会和政治变革。Adam Back是注重实践的人：他首先发布的是hashcash软件，五年后的2002年才发布Internet草案（标准化文件）和论文(文献4)。



Hashcash比Cynthia Dwork和Moni Naor的想法简单得多：它没有后门，也不需要中心权威，它只使用哈希函数而不是数字签名。Hashcash基于一个简单的原理：哈希函数在某些实际用途中表现为随机函数，这意味着找到哈希到特定输出的输入的唯一方法是尝试各种输入，直到产生期望的输出为止。而且，找到哈希到任意一组输出的输入的唯一方法是再次逐个尝试对不同的输入进行哈希。所以，如果让你尝试找到一个输出哈希值以10个零开始的输入（二进制），你将不得不尝试大量的输入，你会发现每个输出从10个零开始的机会都是（1/2）^10，这意味着你将不得不尝试（2）^10个输入的顺序，或大约1000个哈希计算。



顾名思义，在hashcash中，Adam Back把工作量证明看作一种货币形式。在他的网站上，他把这种货币定位为David Chaum的DigiCash实现选择之一——一个由银行向用户发放无法追踪的数字现金(digital cash)的系统。他甚至在技术设计上做了一些权衡设计，使其显得更像一种货币。后来，Adam Back评论认为比特币就是hashcash的直接扩展。但是，hashcash并不是现金，因为它没有防止双重支出（双花）的保护。Hashcash的令牌不能在对等同伴之间交换。



同时，在学术领域中，研究人员发现，除了垃圾邮件之外，工作量证明还有很多应用场景，例如防止拒绝服务攻击(文献25)，确保网络分析的真实性(文献17)，密码在线猜测的速率限制(文献38)等。顺便说一句，工作量证明这个词是由Markus Jakobsson和Ari Juels在1999年撰写的一篇论文中首次提出来的，这篇论文也是到那时为止对这一研究的很好综述(文献24)。值得注意的是，这些研究人员似乎并不知道到hashcash，各自独立地朝着基于哈希的工作量证明的方向汇集，这在Eran Gabber等人的论文以及Juels(文献18)和Brainard(文献25)的论文中都有提及（本文中使用的许多术语是在有关论文发表后很长时间才成为标准术语的）。



侧边栏：Sybil-对抗网络(Sybil-resistant networks)

John Douceur在他关于Sybil攻击的论文中提出，所有参与BFT协议的节点都需要解决hashcash难题。如果一个节点伪装成N个身份，将无法及时解决N个难题，其伪造的身份将被清除。然而，恶意节点仍然可以获得比只声称单一身份的诚实节点有更多的优势。2005年发布的后续文章(文献1)中提出，诚实的节点应该反过来模仿恶意节点的行为，并声称其计算能力能够承担的尽可能多的虚拟身份。利用这些虚拟身份执行BFT协议，原来的假设“最多只有部分f节点故障”可以用“由故障节点控制的总计算能力的份额至多为f ”来代替。因此，不再需要验证身份，并且开放的对等网络可以运行BFT协议，比特币恰好使用了这个想法，但中本聪提出了进一步的问题：用什么来激励节点执行昂贵的工作量证明计算呢？答案需要进一步的飞跃：数字货币(digital currency)。



2.3	工作量证明和数字现金：双环困境(Proof of work and digital cash: A catch-22)



你可能知道，作为反垃圾邮件措施，工作量证明没有成功应用于其发源的应用。一个可能的原因是不同设备求解难题的速度有巨大差异。这意味着垃圾邮件发送者可以用小额的投资来定制硬件，就可以将滥发垃圾邮件的速率提高几个数量级。在经济学中，对生产成本不对称的自然反应是进行贸易——即，工作量证明的交易市场。但是，这里就是一个双环困境（catch-22），因为这将需要一个可以工作的数字货币(digital currency)。事实上，正是因为缺乏这样的货币，导致了工作量证明使用的最大动机不足。这个问题的一个粗暴的解决办法是宣布“难题求解”是现金，正如hashcash试图做的那样。

图片

*译注：双环困境，一般指互相抵触之规律或条件所造成的无法脱身的困窘；或者是不合逻辑的或矛盾的问题。例如这就是一个相互矛盾的困窘：没有人想要支持你除非你已经成功了，但是如果没有人支持，你怎么可能成功呢？

工作量就是货币，而工作量又需要货币激励，这就是双环困境。

如果强制规定工作量证明就是货币，中本聪的共识和激励逻辑应该是这样的：工作量证明就是货币，这激励矿工努力挖矿提供工作量证明，然后获得货币；同时利用经济学原理设定规则，让恶意节点的投入大于受益，恶意节点没有动力破坏共识，就可以解决BFT中因为将军叛变而不能达成共识的难题。



在比特币之前的两篇文章中发现了更为清晰的方案来将“难题求解”作为现金来处理，文章分别描述了b-money(文献13)和bit gold(文献42)。这些方案提供时间戳服务，用来签署钱的创建（通过工作量证明），并且一旦创建了钱，就可以签署转账。但是，如果服务器或节点之间出现总账本不一致的情况，文章则没有给出明确的解决办法。依靠多数原则来决定似乎是两位作者的文章的隐含之意，但是由于Sybil问题，这些机制并不是很安全，除非有一个gatekeeper控制网络的引入，或者Sybil对抗本身是通过工作量证明来实现的。



3 组合创新(Putting it all together)

通过了解所有这些贡献了比特币设计细节的前辈，你会体会到中本聪真正天才般的创新。在比特币中，“难题求解”不能自我构建成为现金，相反，他们只是用来保护总账本。而工量作证明的解决是由专门的实体称为矿工来完成的（虽然中本聪没有估计到专业挖矿将会成为什么样子）。



矿工们需要不断地相互竞争，寻找下一个“难题求解”。每个矿工都要求解这个难题的一个稍微不同的变体，因此成功的机会与矿工控制的全球采矿能力的一部分成正比。求解难题的矿工贡献了基于链式时间戳的总账本的下一个批次，或者区块（即下一个交易）。通过维护和交换总账本，贡献一个区块的矿工将会获得一个新挖到货币的一份奖励。很有可能的是，如果一名矿工贡献了一个无效的区块或交易，将会被大多数其他贡献下一区块的矿工拒绝，从而使无效区块的奖励失效。这样，由于金钱上的激励，确保矿工们彼此都遵循同样的协议。



比特币巧妙地避免了困扰“工作量即现金(proof-of-work-as-cash)”机制的双重支出（double-spending,双花）问题，因为它避开了“难题求解”本身的价值。事实上，比特币实现了“难题求解”与经济价值的两次解耦：生产一个区块所需的工作量是一个浮动参数（与全球采矿能力成正比），而且更进一步每个区块发放的比特币数也不是固定的。区块奖励（也就是新比特币如何挖出）每四年设定一半（在2017年，奖励是12.5比特币/块，从最初50比特币/块减半而来）。比特币包含了一个额外奖励计划——即交易发起者向具有包含该交易的区块的矿工支付交易费用，并且期望由市场决定交易费用和矿工的报酬。



那么，中本聪的天才并不是比特币的任何单个组成部分，而是创造了一种复杂方式——把各种技术融合在一起为整个系统注入生命活力。客观的说，时间戳和拜占庭协议的研究人员没有触及节点激励问题，直到2005年，也没有使用工作量证明来消除节点身份问题。反过来说，hashcash，b-money和bit gold的作者并没有吸收共识/一致性算法的思想来解决双重支出（双花）问题。在比特币中，一个安全的总账本才能防止双重支出（双花）问题，从而确保货币有价值。有价值的货币才能奖励矿工，然后保证采矿力量的强度才能保证总账本的安全。如果没有足够采矿力量，一个对手可能会占据全球50％以上的采矿能力，从而能够比网络的其他部分更快地生成数据块，然后双重支付交易，并有效地重写历史记录，使得整个系统赤字。因此，比特币是自举的，在总账本，货币，矿工这三个组件之间有一个闭环的依赖关系。中本聪面临的挑战不仅仅在于设计，而是能够说服最初的用户和矿工社区一起，面向未知的时代，纵身一跃：那个时候比萨的价格超过了10000比特币，网络的采矿能力还不到今天的万亿分之一。



侧边栏：智能合约(Smart contracts)

一个智能合约就是把数据放在一个安全的总账本中，并将智能合约扩展到计算。换句话说，它是一个公开指定程序正确执行的共识协议。用户可以调用智能合约程序中的功能，并服从程序指定的任何限制，并且功能代码由矿工串联执行。用户可以信任输出而不必重做计算，并可以编写自己的程序来处理其他程序的输出。通过与加密货币(cryptocurrency)平台相结合，智能合约尤其强大，因为上述程序可以处理资金——拥有，转让，销毁，在某些情况下甚至可以打印。



比特币实现一种限制性编程语言作为智能合约。一个“标准”交易（即将货币从一个地址转账另一个地址的交易）就是用这种语言实现的简短脚本。以太坊(Ethereum)提供更宽容和强大的语言。



智能合约的想法是由Nick Szabo在1994年提出的(文献41)，因为可以类比于法律合同（智能合约比法律合同多了自动执行的功能），所以命名为智能合约。Nick Szabo早就预见性（这个观点已经被Karen Levy (文献31)和Ed Felten 所批评(文献16)）的提出了智能合约作为数字现金协议的扩展，并且认识到拜占庭协议和数字签名（等等）可以作为构建模块。加密货币的成功使智能合约成为现实，对这个话题的研究也开始兴起。例如，编程语言研究人员已经调整了他们的方法和工具，以自动发现智能合同中的错误并写出可校验正确的智能合约。



3.1	公钥即身份(Public keys as identities)

本文基于这样一个理解：一个安全的总账本使创建数字货币(digital currency)更加容易。让我们再回顾这个断言。当Alice希望支付Bob时，她将交易广播给所有的比特币节点。一个交易只不过是一个字符串：一个声明“Alice希望支付给Bob一些钱”并由Alice签名。最终，这个声明被矿工记入总账本，交易即成为现实。请注意，这个过程中并不要求Bob以任何方式参与。但是让我们把注意力放在这次交易的缺席者：显然缺席的是Alice和Bob的身份；相反，交易只包含他们各自的公钥。这就是比特币的一个重要的概念：公钥是系统中唯一的身份。交易向公钥传入或者传出价值，这个公约就称为地址。



*译者注：从这个地址概念的引入，对比传统的分布式系统，中本聪的创新很巧妙。



为了能够“说出”一个身份，你必须知道相应的密钥。你可以随时创建一个新的身份——方法是生成一个新的密钥对——而不需要中心机构或注册机构。你不需要申请用户名或通知其他人你已选择了特定的名称——这是去中心化身份管理的概念——比特币没有指定Alice如何告诉Bob她的化名（Pseudonyms）是什么，这是系统外部的。



与当今大多数其他支付系统截然不同，这些想法相当“古老”，可以追溯到数字现金(digital cash)之父David Chaum。实际上，David Chaum也对匿名网络做了开创性的贡献，正是在这个背景下，他发明了这个“数字化名”（ Digital Pseudonyms）这个创意。在他1981年的论文“Untraceable Electronic Mail, Return Addresses, and Digital Pseudonyms(文献9)” 他说：“数字化名”是一个公钥，用来验证由相应私钥的匿名持有者是否取得签名。



现在，只有通过公钥才知道收件人是一个明显的问题：无法将邮件路由到正确的计算机。这导致了David Chaum方案的效率极低：匿名交易，不能消除。与集中支付系统相比，比特币同样效率极低：包含每个交易的总账由系统中的每个节点维护。无论如何，比特币选择了安全而同时选择了低效，从而实现了“免费”的匿名性（即公钥作为身份）。David Chaum在1985年的论文(文献11)，把这些想法推进了一步，他提出了一种基于普遍“化名”隐私保护电子商务愿景，以及数字现金(digital cash)背后的关键思想——“盲签名(blind signatures)”。



“公钥即身份”的思想也存在于前面讨论过的比特币的先驱文献中：b-money 和 bit gold。但是，大部分工作都建立在David Chaum的基础上，而David Chaum自己后来的工作（包括电子现金）都偏离了这个想法。Cypherpunk社区对隐私保护的通讯和商务有浓厚的兴趣，他们拥抱了他们称之为nyms的“化名”。但对他们来说，nyms不仅仅是密码身份（即公钥），而是通常与公钥相关的电子邮件地址。同样，伊恩·戈德堡（Ian Goldberg）的论文——后续匿名通讯工作的基础——赞成David Chaum的观点，但是认为“化名”nyms应该是人们容易记住的用证书绑定的绰号。因此，比特币被证明是David Chaum思想最成功的例子。



4 区块链(The Blockchain)

到目前为止，本文没有提到区块链。如果你相信炒作，区块链是比特币的主要发明。可能会让你大吃一惊的是，中本聪压根没有提到这个词。实际上，区块链这个技术术语没有标准的技术定义，但是被各方用来指称与比特币和总账本有不同程度相似的系统。



讨论受益于区块链的示例应用程序将有助于澄清该术语的不同用途。首先，考虑一个银行财团之间交易的数据库后端，交易在每天结束时呈网状结构，账户由中央银行结算。这样一个体系有少数的明确的各方，所以中本聪的共识将是矫枉过正的。也不需要区块链上的货币，因为账户是以传统货币计价的。另一方面，链式时间戳显然是有用的，至少可以确保在网络延迟的情况下实现一致的全局事务排序。状态复制也是有用的：一家银行会知道，其本地数据副本与中央银行用来结算账户的数据是一样的。这使银行摆脱了目前必须执行的代价高昂的协调过程。



其次，考虑一个资产管理应用程序，例如追踪金融证券，房地产或任何其他资产所有权的文档登记册。使用区块链可以提高互操作性，降低进入门槛。我们希望有一个安全的全球文档登记册，最好能让公众参与。这本质上是20世纪90年代和新千年时代的时间戳服务所提供的。公共区块链提供了一个特别有效的方法来实现这一点（数据本身可能被存储在链外，只有元数据存储在链上）。其他应用程序也受益于时间戳或“公告板”抽象，最显著的是电子投票。



让我们继续资产管理的例子。假设你想通过区块链执行资产交易，而不是仅仅保存交易记录。如果资产本身在区块链以数字形式发行，并且区块链支持智能合约，则可以进行交易。在这种情况下，智能合约解决了确保只有在资产转移时才进行支付的“公平交换”问题。更一般地说，智能合约可以对复杂的业务逻辑进行编码，只要所有必要的输入数据（资产，价格等）都在区块链上表示出来。



这种区块链属性与应用程序的映射使我们不仅能够欣赏其潜力，而且还能够使我们注入极为需要的怀疑态度。首先，很多提议的区块链应用，特别是在银行业，并没有使用中本聪的共识机制。相反，他们使用总账本数据结构和拜占庭协议（这些技术，如前文所述，可以追溯到上个世纪90年代）。这就暗示了区块链是一种新的革命性技术。相反，围绕区块链的嗡嗡声(buzz)已经帮助银行发起集体行动来部署共享总账本技术，正如“石头汤(stone soup)”的隐喻。比特币也是去中心化总账本工作的一个非常明显的概念证明，并且比特币核心项目提供了一个便利的代码库，可以根据需要进行调整。



图片

*译注： 《石头汤》是一本根据法国民间故事改写的作品，但琼·穆特把故事的场景设定在古代中国。三个和尚来到一个饱经苦难的村庄，村民们长年在艰难岁月中煎熬，心肠变得坚硬，不愿接纳任何人。可是，和尚们用煮石头汤的方法，让村民们不知不觉地付出了很多，明白了分享与幸福在真谛。

琼·穆特，美国图画书作家和画家曾在日本学习，醉心于日本和中国传统文化。创作了很多具有东方哲学智慧的图画书，比如《禅的故事》。



其次，有一个误导性的说法：区块链通常比传统的文档登记更安全。要明白为什么，必须把系统或平台的整体稳定性与终端安全（即用户和设备的安全性）分开。诚然，区块链的系统性风险可能低于许多中心机构，但区块链的端点安全风险远远高于传统机构相应的风险。区块链交易几乎是即时的，不可逆转的，而且在公共区块链中，设计为匿名交易。在基于区块链的股票登记中，如果用户（经纪人或代理人）失去对其私人密钥的控制权——只要手机丢失或在计算机上安装了恶意软件——则用户将丧失其资产。比特币黑客、盗窃和诈骗的非凡历史并不会给人们带来多大的信心，据估计，至少有6%的比特币在流通中被盗过一次(文献39)。



侧边栏：许可区块链(Permissioned blockchains)

虽然这篇文章强调私人和许可区块链并没有使用比特币的大部分创新，但这并不意味着这个领域发生的有趣工作就很少。许可区块链限制谁可以加入网络，写交易或挖矿（区块）。特别是，如果矿工被限制在一个值得信赖的参与者名单，则可以放弃工作量证明，以利于更传统的BFT方法。因此，大部分的研究都是BFT算法的重生，并且可以提出如下问题：我们可以使用哈希树来简化共识算法吗？如果网络只能以某种方式出现故障呢？



此外，围绕身份和公共密钥基础设施，访问控制以及存储在区块链上的数据的机密性等话题，还有一些重要的考虑因素。这些问题很大程度上不在公共区块链中出现，也没有被传统的BFT文献所研究。



最后，还有一项工程性工作是提高区块链的吞吐量，并将其应用于各种业务：比如供应链管理和金融技术。



5 经验总结(Concluding Lessons)

这里描述的历史为从业人员和专业学者提供了丰富（和互补）的经验教训。从业者应该对革命性技术的主张持怀疑态度。如前文所示，比特币中那些引起企业兴奋的大多数想法，例如分布式账本和拜占庭协议，可以追溯到20年以上。认识到你的问题可能不需要任何突破性创新——在研究论文中可以找到那些长期被遗忘的解决方案。



学术界似乎有相反的问题，至少在这种情形下：抵制激进的，外来的想法。比特币白皮书的很多想法尽管都可以回溯其谱系，但比大多数学术研究更新颖。而且，中本聪不关心学术同行评议，也没有完全把它与学术历史联系起来。因此在数年里，学术界几乎完全忽视比特币。许多学术团体非正式地认为，尽管比特币事实上在实践中运行的很好，但比特币不可能基于过去系统的理论模型和经验的来运行。



我们一再看到，研究文献中的创意可能会逐渐被遗忘或被忽略，特别是如果这些想法是超越它们的时代，甚至在流行的研究领域之外。从业者和专业学者都应该回顾旧的创意，收集当前系统的见解。比特币的非凡和成功之处不在于它处于任何组件研究的前沿，而在于它整合了许多不相关领域的旧创意。要做到这一点并不容易，因为它需要弥合不同的术语，假设等，但这是创新的宝贵蓝图。



从业者应该能够识别过度炒作的技术并因此受益。识别技术炒作有一些指标：难以确定其技术创新；由于企业急于把自己的产品附加到流行趋势上，所以难以确定所谓技术术语的含义；难以确定正在解决的问题；最后，要求技术解决社会问题或者制造经济/政治动荡。



相反，学术界却难以推销其发明。例如，不幸的是，最初的工作量证明研究人员没有得到比特币的信贷（credit for bitcoin），可能是因为这项工作在学术界以外并不为人所知。在学术界，诸如发布代码和与从业者合作等活动没有得到充分的奖励。事实上，迄今为止，学术工作量证明的原始分支仍然不承认比特币的存在！与现实世界接触不仅有助于获得信贷（credit），而且还会减少轮子再造，并且是找到新创意。



6 致谢(Acknowledgements)

The authors are grateful to Adam Back, Andrew Miller, Edward Felten, Harry Kalodner, Ian Goldberg, Ian Grigg, Joseph Bonneau, Malte Möser, Mike Just, Neha Narula, Steven Goldfeder, and Stuart Haber for valuable feedback on a draft.



7 参考文献(References)

* 1. Aspnes, J., et al. 2005. Exposing computationally challenged Byzantine imposters. Yale University Department of Computer Science; http://cs.yale.edu/publications/techreports/tr1332.pdf.

* 2. Back, A. 1997. A partial hash collision based postage scheme; http://www.hashcash.org/papers/announce.txt.

* 3. Back, A. 2001. Hash cash; https://web.archive.org/web/20010614013848/http://cypherspace.org/hashcash/.

* 4. Back, A. 2002. Hashcash—a denial of service counter measure; http://www.hashcash.org/papers/hashcash.pdf.

* 5. Bayer, D., Haber, S., Stornetta, W. S. Improving the efficiency and reliability of digital time-stamping. Proceedings of Sequences 1991; https://link.springer.com/chapter/10.1007/978-1-4613-9323-8_24.

* 6. Benaloh, J., de Mare, M. 1991. Efficient broadcast timestamping; http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.38.9199.

* 7. Boyle, T. F. 1997. GLT and GLR: Component architecture for general ledgers; https://linas.org/mirrors/www.gldialtone.com/2001.07.14/GLT-GLR.htm.

* 8. Castro, M., Liskov, B. 1999. Practical Byzantine fault tolerance. Proceedings of the Third Symposium on Operating Systems Design and Implementation; http://pmg.csail.mit.edu/papers/osdi99.pdf.

* 9. Chaum, D. 1981. Untraceable electronic mail, return addresses, and digital pseudonyms. Communications of the ACM 24(2): 84-90; https://dl.acm.org/citation.cfm?id=358563.

* 10. Chaum, D. 1983. Blind signatures for untraceable payments. Advances in Cryptology: 199-203.

* 11. Chaum, D. 1985. Security without identification: transaction systems to make Big Brother obsolete. Communications of the ACM 28(10): 1030-1044; https://dl.acm.org/citation.cfm?id=4373.

* 12. Chaum, D., et al. 1988. Untraceable electronic cash. Advances in Cryptology: 319-327; https://dl.acm.org/citation.cfm?id=88969.

* 13. Dai, W. 1998; http://www.weidai.com/bmoney.txt.

* 14. Douceur, J. R. 2002. The Sybil attack; https://dl.acm.org/citation.cfm?id=687813.

* 15. Dwork, C., Naor, M. 1992. Pricing via processing or combatting junk mail; https://dl.acm.org/citation.cfm?id=705669.

* 16. Felten, E. 2017. Smart contracts: neither smart nor contracts? Freedom to Tinker; https://freedom-to-tinker.com/2017/02/20/smart-contracts-neither-smart-not-contracts/.

* 17. Franklin, M. K., Malkhi, D. 1997. Auditable metering and lightweight security; http://www.hashcash.org/papers/auditable-metering.pdf.

* 18. Gabber, E., et al. 1998. Curbing Junk E-Mail via Secure Classiffication. http://www.hashcash.org/papers/secure-classification.pdf.

* 19. Garay, J. A., et al. 2015. The bitcoin backbone protocol: analysis and applications. Advances in Cryptology: 281-310; https://eprint.iacr.org/2014/765.pdf.

* 20. Goldberg, I. 2000. A pseudonymous communications infrastructure for the Internet. Ph.D. dissertation, University of California Berkeley; http://moria.freehaven.net/anonbib/cache/ian-thesis.pdf.

* 21. Grigg, I. 2005. Triple entry accounting; http://iang.org/papers/triple_entry.html.

* 22. Haber, S., Stornetta, W. S. 1991. How to timestamp a digital document. Journal of Cryptology 3(2): 99-111; https://link.springer.com/chapter/10.1007/3-540-38424-3_32.

* 23. Haber, S., Stornetta, W. S. 1997. Secure names for bit-strings. In Proceedings of the 4th ACM Conference on Computer and Communications Security: 28-35; http://dl.acm.org/citation.cfm?id=266430.

* 24. Jakobsson, M., Juels, A. 1999. Proofs of work and bread pudding protocols; http://www.hashcash.org/papers/bread-pudding.pdf.

* 25. Juels, A., Brainard, J. 1999. Client puzzles: a cryptographic countermeasure against connection completion attacks. Proceedings of Networks and Distributed Security Systems: 151-165; https://www.isoc.org/isoc/conferences/ndss/99/proceedings/papers/juels.pdf.

* 26. Just, M. 1998. Some timestamping protocol failures; http://www.isoc.org/isoc/conferences/ndss/98/just.pdf.

* 27. Lamport, L., et al. 1982. The Byzantine Generals Problem. ACM Transactions on Programming Languages and Systems 4(3): 382-401; https://dl.acm.org/citation.cfm?id=357176 .

* 28. Lamport, L. 1989. The part-time parliament. Digital Equipment Corporation; https://computerarchive.org/files/mirror/www.bitsavers.org/pdf/dec/tech_reports/SRC-RR-49.pdf.

* 29. Lamport, L. 2001. Paxos made simple; http://lamport.azurewebsites.net/pubs/paxos-simple.pdf.

* 30. Laurie, B. 2014. Certificate Transparency. acmqueue 12(8); https://queue.acm.org/detail.cfm?id=2668154.

* 31. Levy, K. E. C. 2017. Book-smart, not street-smart: blockchain-based smart contracts and the social workings of law. Engaging Science, Technology, and Society 3: 1-15; http://estsjournal.org/article/view/107.

* 32. Melara, M., et al. 2015. CONIKS: bringing key transparency to end users. Proceedings of the 24th Usenix Security Symposium; https://www.usenix.org/system/files/conference/usenixsecurity15/sec15-paper-melara.pdf.

* 33. Merkle, R. C. 1980. Protocols for public key cryptosystems. IEEE Symposium on Security and Privacy; http://www.merkle.com/papers/Protocols.pdf.

* 34. Nakamoto, S. 2008. Bitcoin: a peer-to-peer electronic cash system; https://bitcoin.org/bitcoin.pdf.

* 35. Nakamoto, S. 2008. Re: Bitcoin P2P e-cash paper; http://satoshi.nakamotoinstitute.org/emails/cryptography/11/.

* 36. Narayanan, A., et al. 2016. Bitcoin and Cryptocurrency Technologies: A Comprehensive Introduction. Princeton University Press; http://bitcoinbook.cs.princeton.edu/.

* 37. Pass, R., et al. 2017. Analysis of the blockchain protocol in asynchronous networks. Annual International Conference on the Theory and Applications of Cryptographic Techniques; https://link.springer.com/chapter/10.1007/978-3-319-56614-6_22.

* 38. Pinkas, B., Sander, T. 2002. Securing passwords against dictionary attacks. Proceedings of the Ninth ACM Conference on Computer and Communications Security: 161-170; https://dl.acm.org/citation.cfm?id=586133.

* 39. Reuters. 2014. Mind your wallet: why the underworld loves bitcoin; http://www.cnbc.com/2014/03/14/mind-your-wallet-why-the-underworld-loves-bitcoin.html.

* 40. Sirer, E. G. 2016. Bitcoin guarantees strong, not eventual, consistency. Hacking, Distributed; http://hackingdistributed.com/2016/03/01/bitcoin-guarantees-strong-not-eventual-consistency/.

* 41. Szabo, N. 1994. Smart contracts; http://www.fon.hum.uva.nl/rob/Courses/InformationInSpeech/CDROM/Literature/LOTwinterschool2006/szabo.best.vwh.net/smart.contracts.html.

* 42. Szabo, N. 2008. Bit gold. Unenumerated; https://unenumerated.blogspot.com/2005/12/bit-gold.html.

* 43. Wattenhofer, R. 2016. The Science of the Blockchain. Inverted Forest Publishing.

* 44. Rivest, R. L., Shamir, A. 1996. PayWord and MicroMint: Two simple micropayment schemes. International Workshop on Security Protocols.












# 03 区块链的特点



从区块链的核心技术来看，区块链的特点主要有以下几点。



一是去中心化，即不依赖额外第三方管理机构或硬件设施，没有中心管制。



二是共识机制，即保障系统满足不同程度的一致性，对某个提案达成一致意见。



三是不可篡改，即网络节点达到一定规模后，链上数据难被修改，但不是100%不能篡改，只是代价极高。



四是可追溯，即分散的数据库，记录每笔交易的输入输出，追踪资产数量变化和交易活动。



五是规则全透明，即技术基础开源，交易方私有信息被加密，链上数据开放。



# 04 区块链的分类



根据目前对于区块链的分类，总结为以下几点：



一是按照网络范围分类，分为：公有链、联盟链和私有链。公有链的所谓公就是完全对外开放，任何人都可以任意使用，没有权限设定，无需身份认证。联盟链是指介于公有链和私有链之间，多个机构共同管理，加入需要申请和身份验证。私有链指的是与公有链相对，不对外开放，仅限于组织内部使用。典型的私有链如Overstock。



二是根据部署环境分类，分为主链和测试链。主链指的是区块链系统最长的那条原始的链条称为主链。测试链指的是开发者为了方便大家学习使用而提供的测试用途的区块链网络，比如比特币测试链、以太坊测试链等。



三是根据对接类型分，分为单链、侧链和互联链。单链指的是能够单独运行的区块链系统，例如比特币主链、测试链；侧链指的是一种区块链系统的跨链技术，将不同的链结合起来，打通信息孤岛，彼此互补一项技术。互联链指的是将诸如现有各类的区块链系统应用连接起来的一种技术，可以彼此互补，加强系统的可靠性以及性能。



        区块链：“互联网金融的终极目标是实现真正点对点、端到端、个人对个人的金融服务，去掉中介，在保证充分信任的技术基础上完成金融交易。”众筹、P2P只是互联网金融的过渡产品，并未真正实现金融业务低成本运作，互联网金融的终局。

    以智能合约为例。两人打赌，约定输者给赢者100元，在无约束前提下，结果出来后输者可能会赖掉赌约。如果把区块链加入智能合约，打赌双方在约定赌注时，先各将100元冻结在智能合约中，结果出来之后，系统自动核实，并将100元打入赢者账户。在此过程中，完全实现去中介、去中心，无需信用背书。

“智能合约”这个流行的术语指的是在合同账户中编码——交易被发送给该账户时所运行的程序。用户可以通过在区块链中部署编码来创建新的合约。


    只有当外有账户发出指令时，合同账户才会执行相应的操作。所以合约账户不可能自发地执行诸如任意数码生成或应用程序界面调用等操作–只有受外有账户提示时，它才会做这些事。这是因为以太坊要求节点能够与运算结果保持一致，这就要求保证严格确定执行。  和比特币一样，以太坊用户必须向网络支付少量交易费用。这可以使以太坊区块链免受无关紧要或恶意的运算任务干扰，比如分布式拒绝服务（DDoS）攻击或无限循环。交易的发送者必须在激活的“程序”每一步付款，包括运算和记忆储存。费用通过以太坊自有的有价代币，以太币的形式支付。
     交易费用由节点收集，节点使网络生效。这些“矿工”就是以太坊网络中收集、传播、确认和执行交易的节点。矿工们将交易分组——包括许多以太坊区块链中账户“状态”的更新——分成的组被称为“区块”，矿工们会互相竞争，以使他们的区块可以添加到下一个区块链上。矿工们每挖到一个成功的区块就会得到以太币奖励。这就为人们带来了经济激励，促使人们为以太坊网络贡献硬件和电力。

    和比特币网络一样，矿工们有解决复杂数学问题的任务以便成功地“挖”到区块。这被称为“工作量证明”。一个运算问题，如果在算法上解决，比验证解决方法需要更多数量级的资源，那么它就是工作证明的极佳选择。

    为防止比特币网络中已经发生的，专门硬件（例如特定用途集成电路）造成的中心化现象，以太坊选择了难以存储的运算问题。如果问题需要存储器和CPU，事实上理想的硬件是普通的电脑。这就使以太坊的工作量证明具有抗特定用途集成电路性，和比特币这种由专门硬件控制挖矿的区块链相比，能够带来更加去中心化的安全分布。


你愿意和从未谋面的人签合约吗？你会同意把钱借给埃塞俄比亚的农民吗？你愿意投资一个战乱地区由少数人管理的报纸吗？你会不嫌麻烦为了网上一次5美元的购买签一个有法律效力的合约吗？

大多数的答案都是否定的，原因是合约需要的基础太多了：有时需要双方之间互相信任的工作关系，有时要依靠合法的工作体系、警察和律师费用。

在以太坊这些都不需要：如果合约所必需的要求都能放在区块链中，那么就会放在区块链中，这是一个无需信任基础也几乎不用任何成本的环境。

不要想将你现有的合约转移到区块链中会麻烦，想一想那些因为经济上不可行或是没有足够法律保护而被你拒绝的成千上万的小合约吧。

这里简单地举个例子：想象一下你和朋友有个小生意。律师和会计很贵，完全信任让一个单独的合伙人来看管账簿可能让你精神很紧张（这甚至可能是个诈骗的机会）。你可以尝试一下多个合伙人共同看管账簿，但只要协议没有被严格遵守，就可能导致诈骗发生。

使用智能合约，公司的所有权和基金分配的条款可以在一开始就详细规定。智能合约签署的方式是，只有大部分拥有者批准，合约才可以变更。 这样的智能合约可以像开源软件一样获取，你甚至都不必雇佣自己的程序员来代替会计和律师。

这样的智能合约可以立即按比例决定分配。几个年轻人分配柠檬水站收入，可以像主权基金给拥有基金的亿万公民分配收益一样透明。在这两个案例中，这种透明性带来的花费可能每美元连一美分都不到。



一、 以太坊及以太坊创立的初衷

        很多的开发者已经意识到了以太坊是一个底层系统。虽然人们可以在区块链上做很多不同类型、各有特色的应用。但以太坊不同，最初，以太坊希望建立一个更加通用的合约，而不是做一个仅仅支持1款或者20款应用的区块链，我们希望创造一个包含编程语言的区块链——就像你电脑的操作系统一样，允许编程人员在上面编写代码、开发程序，这个程序可以是关于货币交易的，也可以是投票系统，只要你在以太坊上上传自己的代码，区块链就能运行这个应用。以上是创立以太坊的初衷。





二、 智能合约的意义

       智能合约是区块链上可以控制数字资产的计算机程序。其概念可以追溯到20年前，由尼克·萨博创立类似自动贩卖机的装置，其整个运作过程实际就是执行一套既定规则——如果（If）你投币，那么（Then）就可以买到想要的。

        同样的，这个概念可以引用到数字世界中。现实世界中人们很关心安全性，对于自动贩卖机，“投币”规则很容易被破坏，比如你用锤子就能敲碎它，然后得到你想要的东西。但在数字世界中却不同，智能合约只会让数字资产交易更加安全，让这个合约发挥更大的效用。在数字世界中，我们有不同的计算机程序，每一套计算机程序有自己的规则，即智能合约——“如果（If）满足条件，那么（Then）就可以按照规则对该数字资产进行转账”。

        同样的，这个概念可以引用到数字世界中。现实世界中人们很关心安全性，对于自动贩卖机，“投币”规则很容易被破坏，比如你用锤子就能敲碎它，然后得到你想要的东西。但在数字世界中却不同，智能合约只会让数字资产交易更加安全，让这个合约发挥更大的效用。在数字世界中，我们有不同的计算机程序，每一套计算机程序有自己的规则，即智能合约——“如果（If）满足条件，那么（Then）就可以按照规则对该数字资产进行转账”。

        我们就可以利用这个语言去设定多种“If……Then”规则并执行，通过智能合约在区块链上交易数字资产会比在其他的中介和第三方上进行货币交易更加的安全。




三、 以太坊用户量及交易量增长迅速


       以太坊的用户量，在过去的几个月增长十分迅速，交易量在过去几个月增长了十倍多可能是因为大量ICO的原因。V神回应：ICO是原因之一，但有很多的其他的原因】。       目前的交易量接近以太坊40%的载容量，以上的数据表明以太坊还需要不断完善去应对不断增长的用户量。



四、 以太坊现在及未来的应用场景

以太坊网络应用场景一：以太坊就是一个通用的区块链，人们在它上面建造不同种类的应用，我们也看到许多基于以太坊的应用正在被人们所使用。但是大约在5年以前，人们运用区块链技术只是为了制造数字货币。

        尽管我们现在有许多区块链应用，但是以太坊区块链技术目前主要运用在数字资产上面，我们可以看到每天都成千上万各种各样的数字货币都通过以太坊进行交易。所以有很多人选择通过ICO、非ICO、DAO的方式发行数字货币。这些资产大部分都选择在以太坊进行发行。目前为止，我个人估计以太坊的在数字货币资产占市场份额大概是在70%左右。






五、 以太坊的技术发展重点

以太坊网络应用场景二：新加坡金融管理委员会（MAS）正在研究如何通过以太坊区块链技术发行自己国家的数字货币。需要指出的是这些都是非常早期的测试阶段，从长远的角度看或许这并不代表什么，但是它们都基于以太坊。

       政府试图通过以太坊发行自己的数字货币的情况已经开始在世界各地慢慢开始了。比如英国在一年前就有过类似的研究，俄罗斯也在做着同样的事情。

以太坊网络应用场景三：ENS（Ethereum Name Service），我个人觉得ENS很有趣，这是因为不同于其他应用场景——只将区块链技术应用到数字资产，我个人认为这或许是最有前途的非金融的区块链技术应用之一。


       其实这件事情早在6年前就有人想在区块链上做了，基本原理就是一个注册器，我们可以注册用户名。       举个例子，我想和你进行通过聊天软件或互联网进行沟通，那么我必须知道一些信息让我能够找到你，比如账号名。就像用微信一样（V神用微信可6了），我可以通过搜索微信账号，电话号码或者扫描二维码寻找到你。这些用户名，电话号码和二维码都是通过中心化的验证应用来确定指定的人，那么如果你想通过去中心化验证系统来确定身份，这个验证系统将不受任何公司的制约。

       你可以运用区块链注册名字，网站，账户或者任何存在于区块链的东西。目前已经有许多用户通过以太坊在ENS进行了注册。

以太坊网络应用场景四：世界粮食计划署（WFP）最近正尝试将以太坊区块链技术运用到追踪送往中东地区的粮食情况。

·    预测市场：比如预测某个公司的股票走势

·    DAO（Decentralized Autonomous Organization）：类似于智能合约，与智能合约不同的是，DAO代表某个组织，这个组织里的人根据设定的规则进行交流。可以把它看作一个只存在于区块链上的数字公司。人们将DAO运用到投资慈善事业中


·    金融服务：保险业等


·    供应链追踪：从生产到运输进行持续追踪

·    支付（Payment）

         通过以太坊网络的吞吐量是每秒计算3次交易量，对比主流软件的应用情况，优步是每秒处理12次交易数据，Paypal是200次/秒，VISA是2000次/秒，DTCC（美国证券集中结算保管公司）超过1000次/秒，阿里支付超过100000次（阿里到）。所以如果我们希望区块链能承载所有这些计算的话，那么我们必须提升这项技术，以满足这么大容量的计算。

        关于扩展性技术，主要的技术研究方向是“sharding”——分区技术，其主要目的有两个：第一是降低区块链的运转成本；第二是提升安全性。

        关于“分区（sharding）”处理是这么样一种方式：现如今区块链的工作方式是，一个包含着许多电脑的系统，每台电脑分别独立处理不同用户发出的交易。如果你统计一下整个系统每秒的交易处理量，假定其中每台电脑的交易处理是3笔，如果你要将交易数提升到每秒计算1000笔，就代表着系统中的每台电脑分别都要将计算量提升为每秒1000笔。然而绝大多数电脑是无法承受每秒运算1000笔交易的，这就有了限制。因此，“分区（sharding）”要做的就是建立一条区块链（币读君注：中间构件），将整个系统收到的所有交易合并（这样需要冗余计算的部分就被合并了），然后将其分割发送给系统中不同电脑，这样每台电脑就只需处理交易计算取并集之后其中的一部分，每台电脑的需要计算的量就被降低了，系统整体计算量就会极大提高。


以太坊基础协议需要有很强的安全性 ，防止Dos攻击，51%算力攻击等安全性测试，因为区块链是完全的开放的系统，人人可参与，也就意味着时时有被攻击的风险。我认为区块链有三方面安全性要分析。

      其一是这个模型本身的安全性；

      其二是用户端界面端的安全性；

      其三是智能合约的安全性；现存的基于以太坊软件上的编程的安全性。

      目前已经有几个有名的案例，分别是：某个人建立了一份智能合约，上传到以太坊，然后这个编程里装着巨大的资金，但是因为这个编程的代码里面有漏洞，有错误。这样，黑客就能够进入这个程序，把所有资金给偷出来了。这类事件已经发生了许多次了。第一个大事件当属The Dao项目了。另外一个最近发生了就是Parity钱包黑客攻击。

       这表明了如果我们想要安全的智能合约的话，其中就有一个我们必须解决的问题。

   研究几个解决问题的办法：大多数涉及到人们基于以太坊的编程语言。如果你回看一下我二十分钟前给你们展示的这个智能合约编码。用solidity编程语言的话，大多数程序员会使用solidity语言进行以太坊开发。那么编码将会被打包，然后以EDM码的形式被上传到以太坊。但是你并不一定要在solidity语言环境中开发你的软件，也可以使用其他编程语言。 我们的研究小组和其他的人正在做的事情是，首先，尝试我们是否可以改进我们的solidity语言,减少错误的发生，使得程序员能够得到他们期望的效果，并且没那么容易出现漏洞。所以，我们的一个努力方向是，建立这个称为Underhanded Solidity程序大赛。目的是，如果你在solidity上开发，并且能够实现所见非所得的编程结果，那么假如你想要开发一个DAO，实际上你开发环境中所看见的其实是是另外一个东西。如果你能编程出这样的东西，那么你将会比赛胜出，得到奖励。

   这么做的目的是和社区合作，一起更好地发现大家能以何种形式编码，会出现什么样的意外漏洞，然后依此完善编程语言。除了solidity语言外，我们还在研发一种“Banboo（竹子）”编程语言，以及一个名为“Wiper”的语言。这是一种我们开发了大概八个月左右的编程语言。这两种编程语言的目的是使得编程更难出现歧义，或者使之更容易发现错误。大概一个礼拜之前，我们在康奈尔大学有个讲座。我们的以太坊小组和康奈尔大学的研究者及其他人一起合作寻找问题的解决方案并完善合约安全性，扩展性及其他我们遇到的挑战。以太坊组织目前正在以给这些程序员支付工资的方式以支持他们持续改善以太坊平台的安全性和扩展性。我们的和这些大学学者的合作已经产生了一些积极效果，我们正在期待更多的正向反馈。









·    隐私性（Privacy）

隐私性（Privacy）

       以太坊上的应用不一定都需要隐私，但有些应用是必须保证隐私的。

       因此以上三点是未来技术需要核心发展的重点


* 缺乏第三方保护

银行等第三方中介机构的收费常被视为经营成本——这是温和的说法，更有甚者称之为压榨掠夺。但这类机构实际上发挥着保护客户利益的重要作用。举例来说，银行有复杂的方法检测恶意行为，消费者可以对欺骗性的交易和信用卡诈骗提出质疑。

如果交易没有第三方参与，客户就没有可以求助的地方。区块链应用往往就是这样。举例来说，个人和组织用于收发数字资产的数字钱包有公共密钥，类似于公开列出的物理地址，也有私人密钥，作用相当于密码，仅为钱包所有者持有。私人密钥丢失是无可挽回的灾难：所有者无法再访问自己的钱包。2021年1月《纽约时报》报道，由于丢失或忘记私人密钥而被锁在钱包里的比特币价值1400亿美元。反观传统银行，丢失账户密码只会耽误几分钟时间——用户不至于永远失去这个账户里的钱。

# 开发者必须考虑的问题：

开发者要思考第三方提供的利益相关者保护服务，设计出去中心化的保护方式。如果做不到，开发者必须知会利益相关者：这项技术缺乏他们习以为常的那种保护。开发者甚至可以因为用户风险太高而决定放弃开发应用。

# 用户必须考虑的问题：

用户必须明白没有保护对于自己和自己代表的各方（提供咨询的客户、照顾的患者、要保护其权益的公民）造成的风险。必须坦陈这种风险，从服务对象处获得有效的知情同意。还应当寻求能够填补空白的非区块链解决方案。


* 缺乏隐私性

比特币和以太坊这两个最热门的区块链是公开的，以透明度和可及性著称，任何人都可以访问、添加和审计整个区块链。但如果透明度对用户隐私造成严重威胁，或许就需要私人区块链了。例如Nebula Genomics用私人区块链技术让患者“完全控制”自己的基因组数据。

区块链或许包含只应让部分用户看到的信息，这种情况可能需要综合方法，组合使用私人区块链和公开区块链。例如，电子健康记录既包含必须保持私密的高度敏感数据，又包含应当与疾病防控中心和医疗保险提供商等机构分享的信息。Hashed Health、Equideum Health和BurstIQ等综合区块链都可以在分享生物特征信息的同时，让患者对自己的数据有更大的控制权。

* 开发者必须考虑的问题：

开发者要仔细思考自己平衡透明性和隐私性的道德义务，然后决定手头的应用适合的是公开区块链、私人区块链还是综合模式。一个应当重视的要素是，区块链成员可能被确定身份，这可能造成怎样的道德后果。其他重要决定还包括确定哪些人可以在何种条件下访问哪些数据，以及可访问的时间范围等。

* 用户必须考虑的问题：

用户要了解透明性对自身业务和服务对象的影响。必须了解和应对钱包持有者可能被找到的风险（包括钱包持有者无意间泄露自己身份的情况）。

假设某金融服务公司的客户因为不愿公开捐款数额、政治倾向或从属关系，想匿名捐款给慈善机构或政党。该金融服务公司或许会推荐通过区块链打款，因为区块链会将客户身份匿名化。但公司也有义务知会客户，这个匿名转账记录是公开的，并讨论避免泄露身份的最佳方法。


# 零状态问题

第一个区块，即“初始区块”包含的数据准确性受到质疑，会出现零状态问题。如果对数据的尽职调查未妥善执行，出了错误或出现恶意造假，就会发生这种状况。例如在一个供应链上用于追踪货物的区块链，第一区块错误地显示某辆卡车装满了来自某个矿井的铜，实际上这些铜来自另一产地。与卡车装载物相关的人员可能被欺骗或收买了，创建初始区块的人并不知情。

把这里的货物换成血腥钻石（未经加工的钻石原矿，用于为内战冲突筹集军火资金——译者注）或房地产，道德上的问题就凸现出来。如果政府建立了区块链作为保存土地登记处记录的数据库，在第一区块输入信息的人写错了土地所有者，就会引起严重的不公，相当于土地被偷走了。创建了保护隐私的安全加密货币的Zcash等一些组织，竭尽全力保证初始区块正确无误也是理所当然的。

* 开发者必须考虑的问题：

开发者必须仔细验证初始区块要包含的所有信息，不遗余力地确保这部分信息准确输入。还必须提醒用户注意零状态问题，并公布区块链可能含有错误信息这一事实，让用户评估潜在的风险，进行尽职调查。

* 用户必须考虑的问题：

区块链用户应当审查初始区块如何创建、数据源自何处。要格外留意记录在区块链上的信息是否曾经成为诈骗、贿赂和盗取的目标。要想一想，建立初始区块的组织是否可信，这个区块是否有可靠的第三方审查。

用户还需要明白，即使初始区块和后续区块的数据准确合法，也依然可能出问题。举例来说，卡车里装载的是来路正当的钻石，多次运转的路径都准确地记录在区块链上，但聪明的窃贼还是有可能在途中偷梁换柱，用假钻石换走真货。用户必须将零状态问题知会服务对象，公布对初始区块进行的尽职调查，并找到防止诈骗的保护方案（如果有的话）。


* 区块链治理

用来形容区块链技术的词语有一大堆：去中心化、无需许可、自治——这些词可能会让用户对治理做出预设，比如以为是自由主义者和无政府主义者的乐园，或者以为所有成员对于区块链运行方式有同等的发言权。但其实区块链治理非常复杂，涉及重大的道德、名誉、法律和财务影响。区块链上哪些人掌握权力、如何获得权力、有什么监督或没有监督、实行怎样的决策，全部由区块链创造者决定。下面两个例子很能说明问题——一个恶名昭彰，另一个正在发生。

* 第一个去中心化自治组织（DAO）在以太坊网络上运行。这是一种对冲基金，最初叫“The DAO”。成员各自拥有的表决权不同，取决于为基金投入了多少钱（以太币）。2016年DAO被黑，价值约6000万美元的以太币被盗，成员对于应对措施的想法截然不同，甚至连黑客行为是否构成盗窃都没有共识。一派认为坏人利用软件漏洞非法获取的钱财应当回收，归还合法所有者。另一派认为The DAO不应该再考虑改写欺诈交易，只需修复漏洞，让区块链继续运行。后者坚持“规则就是法律”和“区块链不可改变”，黑客的行动遵守规则，因此并不是伦理上不可接受的。最终前者获胜，以太坊实行“硬分叉”，将资金转到修复地址，让用户能够收回投资，从实质上改写了区块链的记录。

* 第二个例子是有关Juno治理的争议。Juno是另一个去中心化自治组织。2021年2月，Juno在其网络上“空投”，向社区成员发送免费代币以提升参与度。一个加密货币钱包持有者破解了这个系统，获得了在当时价值超过1.17亿美元的大量代币。2022年3月，社群提议移除这名“巨鲸”用户的大部分代币，将其持有的代币降到空投代币可领取的正常范围内。一个月后，提案以72%的投票率通过，他的代币只剩5万枚，其余都被废除。现在这名声称自己在用别人的钱投资的用户威胁要起诉Juno。

这几件事说明，必须十分谨慎地为区块链及其上运行的应用构建治理方式，做好尽职调查。

开发者必须考虑的问题：

开发者必须确定妥善的治理方法，特别是要注意治理结构可能给黑客和不法分子留下可乘之机。这不是一个机械式的问题。开发者的价值观要在区块链中明确表达和体现。比如DAO事件中以太坊开发者如何权衡，是修改区块链还是只修复漏洞，表明了两者观念的差异。Juno事件中投票赞成没收巨鲸用户代币的人和反对的人之间的分歧也与此类似。为了避免这样的伦理问题，开发者应当从一开始就建立治理指导原则。

权力和钱在系统中的分配和获取方式如果没有经过充分考虑，就会出现分歧。DAO事件中的黑客利用了软件漏洞，引起社群内部混乱：规则，有瑕疵的规则，究竟能不能当作法律。Juno事件里，动荡的部分原因在于对代币最初分发的方式没有考虑周全。开发者要明白，有投票权的人们各自有着截然不同的信念、价值观、理想和愿望。健全的治理是管理这些差异的最重要工具之一，而且如果开发者的价值观体现在监管区块链的基础设施、政策和流程里，应该可以避免重大伦理及财务风险。

用户必须考虑的问题：

用户必须思考，区块链创建者的价值观是否与自己所在的组织、自己的客户相符。必须确定自己与客户能够承担多大的波动、风险和失控。必须明确表达自己认为好的、负责任的治理标准，只使用达到标准的区块链。用户也许是在使用一个没有单一权威者的分散网络，但肯定在跟某一个政治实体打交道。


为区块链建立伦理风险框架

一切技术的伦理风险都跟用途一样多。例如AI控制的自动驾驶汽车，可能给行人造成生命危险。社交媒体应用有传播假消息的风险。几乎伴随着所有数据驱动型技术的伦理和名誉风险，在区块链上也存在。应用区块链的时候，高层领导者必须建立用于减轻风险的框架。应当仔细考虑各种情况：我们的组织必须极力避免哪些重大伦理问题？边缘状况如何处理？应当预料到伦理问题会出现，思考：我们有怎样的治理结构？需要怎样的监管？区块链技术是否会损害我们的组织价值和伦理价值，如果是，那么我们该如何减轻这种损害？应当安排怎样的保护措施，保护我们的利益相关者和品牌？所幸，这些问题很多已经在毗邻的AI伦理风险文献中得到了解答，我也写过一个关于执行AI伦理项目的指南。一切区块链项目都可以先从这类材料着手。

账户抽象 (Account Abstraction, AA) 自 2015 年以来就一直被讨论，并提出了几个不同版本的 EIP (EIP-101、EIP-86、EIP-859、EIP-2938、EIP-4337)。最近，账户抽象的研发似乎又成为了社区的讨论热点，应用层面上也陆续推出账户抽象的解决方案。那么账户抽象究竟是什么？大家想要通过 AA 来解决什么？本文讲述了以太坊账户类型、账户抽象的 EIP、以及账户抽象的潜在用例。



推荐阅读下列文章，更好地理解账户抽象：

✦《账户抽象的动机、历史和分析》by 沙漏:

https://mp.weixin.qq.com/s/ZGzw3VE-8KEQE5xu7Jw_8A



✦《引介 | 概述以太坊账户抽象化》by EthFans:

https://mp.weixin.qq.com/s/3VvjB2GXcH95j2Hr3zcsVg



✦《引介 | 账户抽象化（EIP-2938）：为什么 & 做了什么》by EthFans:

https://mp.weixin.qq.com/s/CKtk6xKcXFVjyPKDxHBnhw



✦《论账户抽象(2022)》by 沙漏:

https://mirror.xyz/0xbeC73ba0817403cd11C11bE891D671EA30443562/95LlE7sLCL4UTvL7rU3ZAXnBvlDbh7X-rm0QWkc43Us



✦《EIP-4337》by Plancker DAO:

https://www.notion.so/EIP-4337-0baad80755eb498c81d4651ccb527eb2



此外，普朗克社区和 ECN 社区合办的首期“他的名字叫小V”活动对 EIP4337合约钱包进行了分享。

计算机编程中的抽象和数据抽象指的是隐藏除了“对象”相关数据以外的所有数据的过程，目的是减少复杂性并提高有效性。它通过省略不必要细节的方式来表示对象。抽象是面向对象编程（object-oriented programming）的三大原理之一，它与封装和数据隐藏有关。这篇文章将为以下方面提供概览：



➤ 以太坊账户抽象

外部账户/用户账户

合约

➤ 为账户抽象提议的 EIP

EIP-86：事务来源和签名的抽象

EIP-2938：账户抽象

EIP-4337：通过入口点合约 (Entry Point Contract) 实现的账户抽象

➤ 用例

钱包

赞助交易

混币

DeFi 协议



账户抽象



以太坊的账户抽象以创建单一账户类型为目标，这种账户将包含所有相关方面，而且没有任何无关的方面，让开发人员的工作更加轻松。



以太坊账户类型



目前，在以太坊区块链上有两种类型的账户：



图片


用户账户（EOA）

用户账户是给一般人使用的（人类）。

这些账户由对应公共地址的私钥所控制，比如用户的钱包账户。

这些账户又称为外部账户(EOA)，不需要 ETH 余额就可以在区块链上创建一个外部账户。但是，两个外部账户之间可以用 ETH 进行交易，也可以用 ERC 支持的其他代币。

外部账户 (钱包) 用于加密货币的发送和接受功能存在于以太坊虚拟机（EVM）的外部。



合约

合约是一组由代码控制的指令。



因为使用了网络储存，所以创建一份合约通常会产生相关成本。

用户可以操作多种功能，比如接收来自外部账户和合约账户的事务，以及向它们发送事务。

它还可以启动一个执行多种活动的代码，包括兑换代币或是创建一个新合约。

合约账户是存在于 EVM 的“智能合约”。



如果你发送 1 个 ETH 到由代码合约控制的账户，那就没有人可以再控制这个 ETH了。唯一可以转移这个 ETH 的是合约的执行，即代码本身。



两种账户类型都具有接收、保留和发送 ETH 和代币的潜能，还有与部署在网络上的其他智能合约进行通信的潜能。



账户抽象提案



以太坊账户抽象 (AA) 是对这两种账户形式的加强，让它们更具有可比性，还使外部账户的管理逻辑像合约账户一样通用。



它的目的是将合约账户的两种形式减为一种形式。单个账户形式的用途包括铸币和合约转账。开发者和用户将不再需要区别账户类型，因为事务将完全转移到 EVM 上并脱离区块链协议。



以太坊开发者一直在寻找实现的方法，但一直没有达到 Final 状态的提案。在以下部分，我们将概述迄今为止提议账户抽象的三个以太坊改进提案 (EIP)。



账户抽象提案的时间线

图片


2016：

Vitalik Buterin 为 Metropolis 提出最初的抽象变化想法。

其目的是准备一种账户安全抽象。在传统的模型中，ECDSA（椭圆曲线数字算法签名） 和默认的 nonce 方案是保护账户的唯一途径。在此模型中，所有账户都是合约账户，它可以支付 gas，且用户可以自由定义他们的安全模型。



2017：

Vitalik Buterin 提出了用于事务来源和签名的抽象的 EIP-86。

其目的是抽象出签名验证和 nonce 检查机制，允许用户建立账户合约来执行任意所需签名或 nonce 检查，而不是依赖于传统的方法。



2020：

Vitalik Buterin、Ansgar Dietrichs、Matt Garnett、Will Villanueva 和 Sam Wilson 提议了用于账户抽象的 EIP-2938。

目的在于允许合约成为可以支付费用和执行事务的“顶级”账户类型。



2021：

Vitalik Buterin、Yoav Weiss、Kristof Gazso、 Namra Patel 以及 Dror Tirosh 提议了通过入口点合约规范进行账户抽象的 EIP-4337。

其目的在于避免共识层协议变更，而是依靠更高层次基础设施。



EIP-86：事务来源和签名的抽象



根据其“摘要”，EIP-86 提议实现一系列改变，这些改变服务于“抽象出”签名验证和 nonce 检查的综合目的，允许用户创建用于执行任意所需签名/nonce 检查的“账户合约”，而不是依赖于使用目前这种硬编码到事务处理的机制。



传统模型：ECDSA 和默认的 nonce 方案是保护账户的唯一方式。



新模型：所有账户都是合约账户，它可以支付 gas，且用户可以自由定义他们的安全模型。

以 forwarding contract 为例，作者 Vitalik Buterin 解释道，这种合约会验证签名，如果签名是有效，它开始向矿工发起付款，然后使用给定的值和数据向指定地址发送调用指令。



➤ 优势

这个提案的主要优势如下：



多签钱包

传统方法：多签钱包中的每一笔交易都必须由所有的参与者进行同意。我们可以通过将所有参与者签名结合为单一批准事务对此进行简化，但这种方法还是会增加复杂性，因为所有参与者的账户都必须持有 ETH。

新方法：在这个 EIP 的帮助下，现在的合约可以持有 ETH，直接提交包含所有签名的事务至合约上，合约将会支付这笔费用。



自定义密码学

传统方法：用户必须遵循 ECDSA，这是一种使用椭圆曲线的密码学。

新方法：用户可以升级至 ed25519 签名或用户自己希望升级的任何方案；不要求用户采用 ECDSA。



EIP-2938：账户抽象

根据 EIP-2938 的摘要，“账户抽象 (AA) 允许合约成为可以支付费用和执行事务的“顶级”账户。



传统模型：事务的有效性直接由 ECDSA 签名、一个简单的 nonce 值以及账户余额进行定义。



新模型：

1. 账户抽象通过执行随机的 EVM 字节码来扩展事务的有效性条件。

2. 为了表示有效性，引入了新的 EVM 操作码 PAYGAS，还设置了合约的 gas 价格和 gas 使用上限。

3. 账户抽象现已分为两类：

单租户 AA：这种类型旨在支持钱包或其他参与者很少的用例。

多租户 AA：这种类型旨在赋能像 Uniswap 这种有很多用户的应用。



共识变更

NONCE 操作码：添加一个 NONCE 操作码，推送事务的 nonce 字段。

PAYGAS 操作码：添加一个 PAYGAS 操作码，创建一个不可逆的检查点，确保 PAYGAS 之前的状态变更无法被逆转。



Sam Wilson 是这个提案的作者之一，它在这里解释了 AA 事务与其他传统事务的不同之处。



在 AA 事务中，不会有 gas 价格或是 gas 上限、没有发送的值和签名字段，并用  target 代替 to 。在多签合约中，这些字段在 calldata 中进行传递，并用合约进行处理。



如果一笔事务到达节点，事务的有效性会被检查。但是传统事务和 AA 事务进行检查的方式不同。



在传统事务中：节点检查：他们的 nonce 与账户的下一个 nonce 匹配、账户余额足以支付他们的价值以及最高的 gas 费用，并且他们的签名与账户的地址匹配。

在 AA 事务中：节点检查：他们的 nonce 与合约的下一个 nonce 完全匹配、合约的字节码以标准的前缀开始、验证逻辑在达到验证 gas 上限之前调用 PAYGAS 、没有禁止的操作码在  PAYGAS 之前被调用，以及合约余额足够支付 PAYGAS 设定的 gas 费。



区块广播时间是一个新区块到达网络大多数节点所需平均时间。



当具有 AA 事务的区块到来时，同一账户的所有待处理事务都将被删除。另一方面，传统事务会被重新验证并可能在收到新区块时发布。



EIP-4337：通过入口点合约实现的账户抽象



这是 Vitalik Buterin 和社区提出的最新议案。它作为一项 ERC 提议出来，而这个提案包括了避免共识层协议的变更，而依靠于更高层的基础设施。



它旨在完成下列目标：

账户抽象：允许用户使用包含随机验证逻辑的智能合约钱包作为他们的主要账户，而不是 EOA。

去中心化：允许打包交易捆的人参与包含账户抽象用户活动的过程。用户不需要知道任意活动者的直接通信地址，就可以处理发生在整个公共内存池中的任意活动。

无共识变更：为了更快的采用，这个提案避免了共识变更。

交易费支付：用 ERC-20 标准的代币支付交易费，使得开发者为其用户支付费用，以及类似于 EIP-3074 这样的赞助的交易提案所支持的用例。



这项提案怎么运作？

图片
图片来源：Infinitism



Vitalik Buterin 在这里很好地解释了这项提案的运作。



这是账户抽象最新的提案，现在还是 draft（起草）状态，等待被合并成为一项 EIP。对比常规的以太坊事务内存池，这项设计增添、维护以及牺牲了一些功能。



关键亮点

➤ 没有中心化的活动者、移除了用户端钱包设置复杂性，完全支持 EIP-1559、具有代替交费的能力，发送一个比旧 UserOperation 具有更高溢价的新 UserOperation 来替换操作或保留了让它更快被打包的功能。



➤ 有一些增添的新优势：

验证逻辑的灵活性

足以让执行层达到量子安全

钱包可升级性

执行逻辑灵活性



➤ 然而，尽管协议已经尽了最大的努力，它还是会略微增加 DoS 攻击的可能性，它还会增加 gas 开销，并且一次只执行一个事务。



账户抽象用例



钱包

EOA 和合约钱包



EOA 钱包：由私钥保护的钱包。

合约钱包：使用智能合约在链上实现的钱包。

安全考虑：如果智能合约代码中存在 bug，合约钱包将面临来自易受攻击的智能合约的安全风险。这种风险可以通过由钱包提供商完成的安全测试和审查进行最小化。然而，在 EOA 钱包中，风险会完全由钱包用户承担，就像用户不小心丢失了私钥也由他们自己承担。



Argent, Dapper, Gnosis Safe 和 Monolith 都是智能合约钱包的案例。



EOA 的元交易

以太坊区块链用户需要一个持有 gas 的 EOA 与区块链网络进行连接，或依赖钱包供应商通过他们的中继或第三方中继网络（例如 Gas Station 网络）促进元交易。前者依赖于 (需要做 KYC 的) 中心化交易所购买的 ETH，试图通过将消费者的责任转移给中继者来尽量减少用户体验摩擦，费用由链上/链下钱包供应商和/或链下用户支付。



元交易是一种包含了带有执行交易意愿者所签署的数据信息的交易。



基于中继者的架构有一些缺点：

1. 可以将他们视作拥有抑制交易能力的中心化中介

2. 由于中继交易需要额外的 21,000 基本 gas 收费，及其公司在 gas 费基础上盈利的需要，他们在技术上/经济上的效率低下。

3. 对中继者专用协议权力的使用。



账户抽象允许智能合约钱包在不依赖中继网络的情况下，接受用户的无 gas 费的元交易并为他们支付 gas 费。在不失去以太坊去中心化保证的情况下，这种基础层的能力还会大大提升这种钱包的 UX（用户体验）。



赞助交易 (Sponsored Transactions)

Sponsored Transactions 囊括在 EIP-2711 (状态为已撤销) 中，这个 EIP 提议了一种机制：通过允许其他人代付 gas 费，可以让人们无需拥有任何 ETH 就可以进行交易。



一些用例：

1. 允许应用开发者代表用户支付费用。

2. 允许用户用 ERC-20 代币支付费用，合约则像中介收集 ERC-20 代币并以 ETH 的方式支付网络费用。



运作

这项提案可以通过出纳机制 (paymaster mechanism) 来支持这些用例。



对于用例 1：Paymaster 会验证赞助者的签名被纳入在 paymasterData 中，表明赞助已做好为 UserOperation 进行支付的准备。如果签名有效，Paymaster 就会接受这项指令，并从赞助者的份额中扣除 UserOperation 的费用。

对于用例 2：Paymaster 会检查 sender 的钱包是否有足够的 ERC-20 余额来支付这项 UserOperation。如果足够，Paymaster 会接受这项指令，并在索要 postOp 里的 ERC-20 代币之前支付 ETH 费用。



混币

一起探讨 Tornado Cash 混币机制的例子，以此理解我们如何在 DeFi 协议中使用 AA。



传统的 Tornado Cash 合约中的隐私问题



当用户进行提款时，Tornado Cash 为其提供隐私保护。他们可以证明这笔款来自一笔独一无二的存款，但除了用户之外没人知道这笔存款来自哪里。

用户通常不会在自己的提款地址里持有 ETH，如果用户使用他们的存款地址来支付 gas，这就会在存款地址和提款地址之间生成一条链上链接。



这个问题可以由第三方中继者解决，他们会验证 ZK-Snark 和 nullifier 仍然有效的状态，发布使用其 ETH 支付 gas 的交易，并从 Tornado Cash 合约中收集用户的返款。



账户抽象提供的解决方案：用户可以提交一个针对 TC 合约的 AA 事务，在这之后执行 ZK-SNARK 验证和 nullifier 检查，并直接快速地调用 PAYGAS。这可以让提款者直接用发送到他们提款地址的代币中支付 gas，无需中继者或连接其存款地址的链上链接。



DeFi 协议

一起探讨 DeFi 协议 Uniswap 的案例，了解我们可以在 DeFi 协议中如何使用 AA。



可以创建一种 Uniswap 的新版本，它允许直接进行针对 Uniswap 合约的交易。



目前，用户可以将代币提前存进 Uniswap；Uniswap 可以储存用户的余额和公钥，以便验证花费这些余额的事务。



AA 的目标在于通过禁止不符合高级标准的事务被打包到链上（例如，匹配订单的存在），从而提高 DeFi 协议的 gas 效率。



在传统模型中：正常的交易员会将他们的代币储存在 Uniswap 的合约之外。



在新模型中：套利交易员会将他们的代币存在 Uniswap 上，在外部市场发生变化的情况下，他们还可以转移执行套利的交易。最终，另一个套利交易员如果首先执行这笔交易时，这些没有获利的交易不会被打包上链。这让套利交易员避免了支付 gas 并减少了打包上链的垃圾交易数量。这将会增加区块链的可扩展性和市场效率，因为套利交易者更能做到纠正跨链交易在价格上的差异。



套利交易员指的是利用两个或更多市场之间的差价，由此同时低价购入并高价卖出的交易员。






原文链接：https://etherworld.co/2021/10/06/an-overview-of-account-abstraction-in-ethereum-blockchain/












六、 以太坊未来的PoS 协议


Casper PoS是一种基于保证金的经济激励共识协议(security-deposit based economic consensus protocol)。协议中的节点，作为“锁定保证金的验证人(bonded validators)”，必须先缴纳保证金(这一步叫做锁定保证金，"bonding")才可以参与出块和共识形成。Casper共识协议通过对这些保证金的直接控制来约束验证人的行为。具体来说就是，如果一个验证人作出了任何Casper认为“非法”的事情，他的保证金将被罚没，出块和参与共识的权利也会被取消。保证金的引入解决了"nothing at stake（无代价、无抵押）"，也就是经典PoS协议中做坏事的代价很低的问题。现在有了代价，而且被客观证明做错事的验证人将会付出这个代价。

       未来以太坊将使用Caspor PoS协议，这个协议不是用算力证明，而是用数字资产去证明自己的存在。即不需要花费金钱去买矿机挖矿，而是通过实体资产去买ETH ，让自己变成证明人（Validator）。

七、 以太坊编程具有挑战性

       编码并没有那么难的，特别是有其他软件编程基础的话。但是如果编程人员想成为以太坊的核心编程者去研究诸如安全性和扩展性的技术型问题，那这会相对困难一点，因为这毕竟是一个很新的技术，只有很少一部分正在理解这些挑战，但不是没有可能的。如果在座的人有想加入以太坊研究小组的话，我们也正在招人，当然也欢迎来做志愿者。除此之外，我们也是相当欢迎大家来以太坊其他的项目工作的。总而言之，我们以太坊社区有很多不同的方面，有些人进来做是以为他对这项技术感兴趣，另外有人想在其基础上做其他软件开发，有些人现在平台做研究以了解有什么东西可以在平台上开发。区块链技术即使已经出来9年了，但我还是觉得他还很年轻，发展还很快，还有很多不同的途径可以参与进来。





八、 V神推荐学习方法

人感兴趣成为以太坊的编程者，推荐开始关注这两个网站：

http://ethereum.org(这个网站有关于如何编写智能合约，如何上传，如何写APP的教程和指导);

http://github.com (这个网站则有很多关于以太坊模型工作原理具体技术上的信息等更多信息)。

 
第一件：以太坊是什么？

以太坊是一个基于智能合约平台，在分散的互联网应用基础之上创建的平台，能对任何比特币/以太币的付款做编程，也就是说平台通过区域块链接可以对全世界不同国家的比特币以太币交易平台价格进行对比，一旦发现差价，即从价低的平台买入比特币和以太坊，转到价高的平台售出，从中牟取差价利润，这就是圈内逐渐兴起的一种新职业，俗称“搬砖”套利。

采用大型高端云计算，在全世界币种交易平台上做空或做多（低吸高抛），在0.28毫秒之内完成交易，以浮动交易点无上限做增值，确保每个投资者的分红增值。我们会员只需要把我们比特币，以太币托管给平台来进行交易，不需要任何操作，以太坊平台保证每位会员每月高达15%--25%的收益，只要数字货币存在，价格又波动，那么利差空间就永远存在，就永远有利可图，大家都知道今年是数字货币发展的元年，所以平台的的造血功能和稳定性可想而知。

第二件：公司情况介绍？


公司介绍

公司成立筹备于2015年，项目全球启动于2016年。截止到目前，已经在45个国家获得顺利推广，平台我们拥有全球18种语言版本，我们客服团队达到百人，交易员达到千人团队。在很短的时间，我们成功地展示我们最好的一面，我们的团队是是年轻的，充满活力的专业人士，并且总是渴望达到目标。现在，我们逐渐掌握复利，通过优质的资产管理服务，我们获得巨大成功。

我们的平台是借助你的投资与复利进行交易。每月的平均收入为30％?50％，其中（15-25％）的一半计入投资者。加密数字货币市场允许人们获得更多的利润,但我们的策略主要是为了资金的安全。

在这里投资，你投资的是互联网区块链的未来！我们致力于Ethereum平台的全球化普及，推广其优质的能力和前景，以及资产管理计划的实施，并获得通过的加密貨幣交流交易活动获取经济利益。

第三件：创始人是谁？


以太坊创始人：Vitalik Buterin

一个誓言用区块链颠覆真实经济体系的俄罗斯小子，他打造的全新区块链平台，从科技大厂IBM、三星，到投资银行巴克莱、瑞士信贷，都争相借重他的专才。

出生：1994年

现职：区块链平台「以太坊」创办人兼首席科学家

学历：加拿大滑铁卢大学

获奖：奥林匹亚资讯奖铜牌、提尔奖学金、2014年世界科技奖

区块链释意：区块链是以密码学演算法和经济模型组成的分散式帐本。

他开发的加密货币，声势直逼比特币，他击败Facebook创始人MarkZuckerberg，获得2014年IT软件类世界技术奖。这个奖项表彰了Buterin设计发展比特币2.0平台Ethereum的突出成就。

Vitalik Buterin 传奇故事

1994年出生于俄罗斯

17岁开始研究比特币、创《比特币杂志》

18岁获得奥林匹亚资讯奖铜牌

19岁自加拿大滑铁卢大学休学；该年11月，公布《以太坊白皮书》初版，开始募集开发者

20岁获得提尔奖学金、成立非营利组织以太坊基金会，在迈阿密的比特币会议公开发表以太坊计画，该年7月，启动以太坊计画众售募资，募得3.1万枚比特币（当时约合1840万美元）

21岁以太坊最初版本Frontier问世、以太币开始在世界各地交易所公开交易

22岁被《财星》杂志评选为2016年40岁以下的40大杰出人物

Vitalik Buterin 22岁黑客颠覆真实经济体系

今年九月《财星》（Fortune）杂志的斗大标题，也是全世界区块链专家们争论不休的热门话题。

话题围绕的主角，是年仅22岁的VitalikButerin。

他是炙手可热的区块链平台以太坊（Ethereum）创始人。在一般人刚刚踏出校园的青涩年纪，他却已经怀抱着改变世界的野心：用区块链，颠覆真实的经济体系。

现今，全世界有700多种以区块链技术为基础的加密货币，而以太方平台自2015年7月底上线开放，就横扫虚拟货币市场，截至2016年10月31日，以太币（Ether，维持以太坊平台运作的加密货币）的总市值约达9.44亿美元。

虽与比特币的111.8亿美元距离尚远，但其窜起势头之猛烈，仍被各界视为比特币的头号竞争对手。

Vitalik Buterin 共吸引逾亿美元投资

——以太坊与相关应用及其募资金额

以太坊公共区块链平台------共募资1840万美元

DigixDAO ------建立以太坊金本位金融平台，共募资550万美元

Augur -----去中心化的市场预测平台，采用以太坊智能合约为基础共募资532万美元

The DAO -----基于以太坊平台的创投组织，投资使用区块链技术的共享经济计画共募资1.32亿美元

第四件：项目发展怎么样？


回顾以太坊平台大事件：

2016年1月1日，以太坊项目国外发展，全球40多个国家启动，平台8种语言。

2016年8月1日，以太坊进入中国

2016年10月22日，菲律宾见面会

2016年10月23日，中国区第一家俱乐部

2016年11月4日，越南见面会

2016年11月7日，俄罗斯的见面会

2016年11月13日，菲律宾慈善现场

2016年11月18号，俄罗斯俱乐部开业

2016年11月24日，越南第二次会议招商

2016年11月28日，马来西亚见面会

2016年12月4日，菲利宾慈善

2016年12月7号，俄罗斯在叶卡捷琳堡大俱乐部开幕

2016年12月17日，在莫斯科的大会议

2016年12月17日，在巴基斯坦球赛

2016年12月18日，‪深圳招商会议‬

2017年1月8日，马来西亚第二会议与俱乐部

2017年1月8号，第二家中国俱乐部在宁波开幕

2017年1月15日，中国区云南招商会

2017年1月20日，冬季促销获奖人员合照

2017年4月10日，以太坊飞速发展，全球会员数突破23万会员。

2017年5月21日，全球会员数突破30万，以太币突破价格1000元。以太坊成为继比特币之后，首个千元数字货币。加密数字货币历史已经改写！

2017年5月21日，以太坊贸易全球会员突破427000会员、并且每天倍增！以太坊价格飙升3000元人民币，企业以太坊联盟（EEA）新增86家成员机构！其中包含：德勤（Deloitte）、DTCC、Infosys、三菱UFJ金融集团、加拿大国家银行、美国道富银行、丰田、三星SDS、旧金山证券交易所、华尔街新兴技术中心、华尔街区块链联盟、江苏华信区块链研究院等。完整成员名单可访问：https://entethalliance.org/enterprise-ethereum-alliance-release-05-19-2017.pdf


以太坊团队开发了以太坊贸易，Vitalik Buterin股东之一。以太坊的发展为以太坊贸易奠定了生生不息的基础，以太坊贸易团队向全世界推广普及以太坊，ETC,ETH在以太坊贸易推动下短短几月暴涨数倍


   物以类聚、人以群分；某一群人，一定是有共同的价值观，或共同的目标、爱好等等；这就是共识。简单地说，就是群众的力量！共识达到一定的广泛性和高度，就会形成品牌；品牌的知名度和影响力，也是共识度的折射。品牌代表了共识、价值认知、信用、信任、信心等等。未来是独角兽的天下，也是品牌之争的时代。


整个链圈在泡沫吹起来后也不断走火入魔。 我看到的最有趣的现象是那些真正拥有技术的团队一点都不着急，可能和他们融资顺利有关，反而是不知道哪里冒出来的简历包装的无比牛逼但概念全是拼凑甚至逻辑不自洽的团队

从代码提交的活跃程度来看，以太坊无疑是开发最活跃的区块链。无论是 GitHub 上的提交数量，存储库中星号和分叉的数量，以及开发人员数量，都远超过比特币、Ripple、比特币现金、EOS，以及莱特币等其它所有加密货币。

以太坊是一个开源的区块链底层系统，有点类似区块链版本的安卓，提供 API 与接口让所有人都能在上面快速开发各种去中心化应用程式（Dapp）。尽管目前区块链在速度与效率上还比不上传统互联网，但根据链塔智库统计，截至 2018 年 9 月 30 日，以太坊平台收录 DApp 已来到 940 个，其中游戏类 DApp 共有 352 个，占比达 37.5%，竞猜类 DApp 占 20%，交易市场类占 5%，其他类占 37.5%。


简单来说，以太坊开发社区由外而内、由上层应用项目到底层架构，可以粗略分成三种开发者层次。

 

最外层是是搭建在以太坊底层架构之上的各种上层应用项目开发。这些开发者或许不直接参与底层架构的技术推进，但仍贡献了整个社区生态的繁荣。从红极一时的加密猫（Cryptokitties），到曾经单日吸金上亿元的“资金盘”游戏 Fomo 3D，都是架构在以太坊之上的 DApp。

 

第二层则是来自基金会以外、但同样投入底层架构的外围开发人员。由于以太坊是一个完全开源的生态体系，所以世界各地的开发人员只要有兴趣，都可以用各种形式参与到底层开发工作当中。以太坊的链下扩容解决方案雷电网络（Raiden Network）即是一例。

 

最核心的是由创始人 V 神为首的“以太坊基金会”（The Ethereum Foundation），总部设立在新加坡，目前拥有约 30 余人的研究团队，分散在世界各地，专职投入底层核心架构的研究与开发。其中有许多都是跟 V 神一样的 90 后开发者。

为解决加密货币必须靠工作量证明机制（PoW），也就是挖矿，从而导致大量能源耗费的问题，以太坊社区近年积极研究如何转向权益证明机制（PoS）。而分片技术正是以太坊由 PoW 转向 PoS 机制的关键技术。

 

PoS 机制的一大难点在于如何产生出很好的随机数，以保证攻击者无法有效同时尝试很多随机数来达到攻击的目标。而这部分就必须仰赖由 Justin Drake 主导的可验证延迟函数（VDF）等密码学，以及特制 ASIC（专用芯片）等硬件研究。

 

过去币圈所谈的 ASIC 矿机，主要是针对 PoW 计算，目的是快速计算 PoW，抢得区块生成的优势。而如今在以太坊所谈的 ASIC 则是专门运算 VDF。Justin Drake 的目的就是想要设计出一种 ASIC，让攻击者无法很简单地靠性能超越、靠强大算力来破解其随机数。也就是说，整个网络被攻破的可能性可以降低到某个几乎不需要担心的程度。

 

以太坊另一个重点方向 Casper 的主要开发人员则是 Danny Ryan。Casper 是以太坊从工作量证明（PoW）过度到权益证明（PoS）机制的关键，被期待可以解决节点联合作恶等 PoS 机制的固有缺点，以顺利取代 PoW 机制。


为解决加密货币必须靠工作量证明机制（PoW），也就是挖矿，从而导致大量能源耗费的问题，以太坊社区近年积极研究如何转向权益证明机制（PoS）。而分片技术正是以太坊由 PoW 转向 PoS 机制的关键技术。

 

PoS 机制的一大难点在于如何产生出很好的随机数，以保证攻击者无法有效同时尝试很多随机数来达到攻击的目标。而这部分就必须仰赖由 Justin Drake 主导的可验证延迟函数（VDF）等密码学，以及特制 ASIC（专用芯片）等硬件研究。

 

过去币圈所谈的 ASIC 矿机，主要是针对 PoW 计算，目的是快速计算 PoW，抢得区块生成的优势。而如今在以太坊所谈的 ASIC 则是专门运算 VDF。Justin Drake 的目的就是想要设计出一种 ASIC，让攻击者无法很简单地靠性能超越、靠强大算力来破解其随机数。也就是说，整个网络被攻破的可能性可以降低到某个几乎不需要担心的程度。

 

以太坊另一个重点方向 Casper 的主要开发人员则是 Danny Ryan。Casper 是以太坊从工作量证明（PoW）过度到权益证明（PoS）机制的关键，被期待可以解决节点联合作恶等 PoS 机制的固有缺点，以顺利取代 PoW 机制
![图片](https://user-images.githubusercontent.com/79394963/197922518-0fddc445-9709-40ff-ad69-7c97927b1f61.png)

目前以太坊在全球约有 14,000 多个节点，分布在世界各地。其中多数节点在美国与欧洲，单是美国节点便占了 43％。而亚洲地区则以中国为最多，占全球节点比重达 13％。


事实上，中国的以太坊社区从很早就开始发展，许多早期以太坊核心开发者都来自中国。但过去一段时间在区块链创业潮爆发下，大陆的以太坊早期成员大量流向各式其它项目，反而是台、港的以太坊核心开发社区生态持续越来越见蓬勃。


以台湾来说，成立 2 年多的台北以太坊社群，包含 V 神本人，以及莱特币创始人 Charlie Lee 等许多区块链界大咖，都曾经亲自参与。另外，目前以太坊基金会的全球开发者团队约有 30 多人，而其中就有 4、5 个人是来自台湾。


以太坊的开发工作可以简单分为 4 个流程，依序是研究理论、写成规格、实作雏形，到实作客户端。实际上软件程序的生产当然并没有那么简单，实际运作方式是比较复杂一点，不过在顺序上仍不脱先进行研究、写成规格，接着再做开发与实作。

以太坊基金会除了欢迎外围开发者义务贡献外，为号召更多程序员投入解决难度较大的问题，也设有奖励金。2018 年初迄今，就已经对 52 个项目发出合计高达 1,100 万美元的奖金。


其中，针对解决以太坊扩展性（scalability）与安全性（security）项目得到了最多奖金与项目的支持。以金额来看，有 61.3％的奖金投入了扩展性的项目，16.8％投入安全性项目。以项目数量来看，有 29.1％是扩展性项目，18.8％是安全性项目。


开发奖金申请流程分为几个步骤。第一步是提交项目申请。申请者必须具体呈现出对以太坊生态系的承诺、开发能力、开发焦点与进度规划。同时，也必须呈现出与其它项目的差异化所在。当然，项目必须支持开源。

![图片](https://user-images.githubusercontent.com/79394963/197922464-db093ca7-b50f-47c2-8228-0accfe28c86f.png)













Gavin Wood 在以太坊黄皮书里给出了非常明确的定义，虽然有一些内容肮脏地让人匪夷所思，但整体的结构还是很清楚的，看完黄皮书，你大概就知道以太坊不仅具有相当多的革命性创新，还具有可以不断自我强化的技术壁垒。如果你再看了vitalik的紫皮书，你就会明白人家早在你之前在未来的扩展性上有了非常深入的思考。



我下面简要地跟你们普及一下以太坊的技术亮点，至于那些号称要颠覆以太坊的项目是不是能做到，你们自行判断。



无敌的易用性



以太坊的接口设计谈不上优雅但非常简单，协议理解起来也非常容易，虽然从技术的角度上有很多槽点，但这些并不是为了实现DAPP的开发者最关心的。你想要做一条更好的链，你得先实现：好用的VM、一套支持开发的语言、参数序列化和反序列化脚本、存储数据结构模型、leveldb存储接口以及线路协议等等。



由于头部效应，未来会有大量的工具链是基于以太坊的，这就让公链上的颠覆变得更加困难。切换主链带来的重置成本非常高。



强大的EVM



比市面上现有的通用VM轻便的多，简单好用。没有一大堆的外部依赖。且具有临时存储数据并选择用stack或者memory的方式，而stack和memory的大小都不受限制。



我可以预测未来在EVM之上还会有大量的高级语言工具链将引入更多的如类型，抽象等能力扩展应用的边界，但对于EVM起到的作用，它已经够了。



从UTXO到Accounts的实现



这里先说个别的例子，百度当年由于搜索能力特别强，百度的贴吧用的不是论坛模式，而是关键词索引模式，也就是你进入一个论坛，你看到的一系列帖子是一个搜索的结果而非一个版块。 有时候出了问题时一楼不见了，二三楼都在，所以才有了“一楼喂熊”的说法。



UTXO一度在我眼里是比特币的神作，和我们惯性思维相悖，而是从区块链出发通过寻找所有可被用户签名的交易，去构建用户的账户余额体系。同时正因为UTXO队列的存在，比特币用打包和长短链比对很轻松地实现了一个防止双花的技巧。



以太坊用了账户体系，用一个state的概念简化了实现的难度以及节省空间，这个取舍其实是很难判断的，因为每笔交易要额外配置一个nonce防止重放攻击，另外扩展性和隐私保护也有一些槽点。



但不管怎么说，这个体系艰难地跑了很长时间，直到今天。在我看来，它让轻客户端的实现非常的简单，这对开发者是很有意义的。



Trie的设计，对轻客户端友好



以太坊每个区块头的三个指针代表了三个核心的树：状态、交易、收据。



交易树比较简单，收据是一个RLP编码的数据结构，除了索引变得更加简单，logbloom的使用也让轻客户端使用起来非常方便。



区块头的设计和轻客户端是密切相关的。绝大多数节点并不需要完全同步，但要求访问数据的便利性。



区块内的主要数据结构是MPT，这里面稀疏区域用KV节点。在状态和账户的树里，diverge nodes 深度为64，使用sha3(k)作为key，非常难以DOS攻击。



目前整个状态的访问查询可以变得更快，全节点的全同步也可以变得很快，但这不在我们今天讨论的范围内。



未来的机会



因为紫皮书带来了新的方向，我就不再介绍压缩算法或是uncle区块实现等，紫皮书引入了POS机制，更友好的轻客户端同步实现，计分和测了实现， 分片以及跨分片通信等，以太坊不仅在增长，它也有大量的实际业务可以时刻验证自己的设计，获取反馈，光是这一点，其他的通用公有链是不能吐槽几句以太坊扩展性就以为自己可以搞定的。


假设你参加了一个聚会，这个聚会参与的共有23个人，这23个人里面有两个人生日是同一天的概率是多少呢？



正确答案是约50.7%，是不是和你直觉所感受到的不一样？

 

这就是著名的生日悖论，我们很容易被容易看见的东西所蒙蔽，并陷入一个自己认为逻辑正确实际却掉进坑里的迷局。



为了证明这个概率的真实性，我写了两段程序，第二段是一个循环公式，直接计算365/365 * 364/365 * 363/365 * …… * 343/365，结果跟正确答案一样。第二段是穷举10万组每组23个生日的数据，跑下来重复的结果为49.8%，接近正确答案。 



意犹未尽的我又跑了一段时间，当人数再多一些的时候，撞上生日的概率已经非常接近于1。也就是说一个标准国内中小学班级上有两个人生日相同的概率是非常非常高的。



对于可能的认知偏差，我一贯的做法都像这两段代码一样，先做理论上的分析，再通过实践数据来论证。



也有一些不仅直觉容易出现偏差，当下也论证不了的东西。就像我的第一篇关于比特币的微博互动发生在比特币20元的时候，我对于以太坊的memory hard如此蹩脚展开抨击的那篇文章发生在ETH 0.8美金一枚的时候。那时候不仅直觉告诉你这个数字游戏很可能归零，也没有人能意料或者推演到后来一发不可收拾的局面。



Ruffchain诞生的第一天就饱受争议。甚至这个赛道本身，也是充满了各式各样极端化的解读。我们来不及去解释，也没有必要去解释， 如果我是一个评论家，我可以每天都找出各式各样的信息解读看到的一切并作出一些不负责任的预测。然而我对于Ruffchain的设想并不复杂，我的精力和有限的能力也只容许我做到这些：



1. 做一条好用的公链，它会是一个交易和合约分离的，而不是像ETH那样用合约来实现交易，也不是像BCH那样用一条交易来打包一条合约。



2. 根据接入一些适合的行业客户的业务数据，形成一站式的解决方案。这样任何人未来都可以以绝对低廉的成本使用区块链服务。

 

我曾经多次吐槽过以太坊的技术，但它带来的低成本低门槛的合约，直到现在还一直保持着智能合约头把交椅。



这次的开发整整经历了近两年的时间，无数次的迭代，对潜在的区块大小增长的推演和优化，对p2p网络协议的反复调整（未来还要再做一次大升级），工作量比我预计的大地多，在这个过程中我发现了整个行业比我预想地要早期的多，很多基础技术并没有很好地被沉淀下来，我们到现在都没一个随机读写高性能的分布式数据库，我们也没有足够好用的p2p网络支持未来各式各样的区块链业务，市场上除了几条大主链的技术迭代升级外，都没有像样的可工程化的方案，众多白皮书中的技术创新在当前的基础设施下是完全不可用的。



但这也是一个机会，一旦这些技术成熟，我们可见的应用场景也会丰富起来。就像人工智能最火的时候是1950年代，但直到后来GPU阵列等硬件加速能力起来，再到FPGA到ASIC，我们才有能力将人工智能真正应用到日常的场景中。



关于行业的接入，幸运的是，我们的目标客户给了我们非常多的支持，甘愿当我们的白老鼠，提供了丰富的测试业务数据，并鼓励我们把技术做好，这代表区块链并非伪需求，这些客户需要解决多方操作数据的信任关系，并承认这是他们业务流中间成本极高的部分。



然而这部分又有一些别的挑战：我们需要将一些潜在客户的应用上链并提供技术支持服务，这部分和BAT等公司一样，需要做主动备案，备案的要求和内容非常繁多，比如内容的监管，由于区块链数据是不可篡改的，一旦产生了不符合应用所在地法律法规的内容并被打包，如何回滚，如何清理， 这部分比起技术开发来说，更加消耗精力，也是团队始料未及的工作。



主网上线后会进入一个监管试运营的阶段，该阶段的区块数据在试运营后会全部清空，而其中任何未经过滤的违反各地法律法规的区块信息，将会被节点标记并强制回滚。





1. 新的p2p网络协议，更好的存储、检索上的优化，性能更强，可支持一些对网络要求更高的业务场景。



2. 我们需要社区力量的支持，完善一个丰富的开放技术生态，希望在未来的一年可以拥有更加丰富的应用库，中间件库，业务模块，以及各类优化和安全模块。对此Ruffchain基金会将会提供丰厚的奖励支持。

 

3. 更多的业务合作，应用会带来更多技术上的反馈，以业务落地为基础是主网未来技术演进的主要方向。



3. 合规性依旧是个挑战，一旦涉及到资产数据上链，安全和隐私的工作量必不可少，如果涉及到金融数据，工作量还要大一个量级。



4. 主网冷启动和后续的发展都社区用户的支持，我们诞生于牛市之末，熊市之初，牛市都是“信仰”，熊市都是"骗局"，运营的压力一直很大，未来我会将更多的工作中心继续放在布道和商务拓展上，近期的AMA，节点计划等活动会陆续推出。

叉来完成。在没有一个EVM以及大的状态树的情况下，为了保持BCH本身的中心化同时又能支持合约，omni协议就只能利用现有数据结构中的op-return字段做文章，尽管在BTC主网上有了USDT的实现，但它离合约还很远。



首先，Op-return依然是被包含在交易里的，也就是说一段合约的执行需要一笔实实在在的交易来承载，由于每一笔交易都需要签名，一旦改了字段签名就失效，所以正常的BCH交易里是无法加载外部信息进op-return字段。这样导致会出现大量的新增BCH交易作为载体，这些交易本身可能是没有意义的，网络压力会很大，并且被打包除了支付官方燃料WHC外还需要支付BCH。  



其次，没有EVM的存在，纯文本的账本解释压力是很大的，错了也需要被解释。 一个op-return字段只要不为空，就必须每次都要被外挂系统解释，即便它是不合法的。 如果在外部加一个跳过的逻辑，则又属于一种中心化的干预。



平常写错了代码可以不执行，退回来重做，而op-return的任何输入都是默认合法的，一旦开始支持大量的token，状况非常堪忧。



根据虫洞的发展计划，它的第一步是将omni移植过来，第二阶段要做个去中心化协议，类似0x，第三阶段是支持ERC721这样的非同质化代币需求。而第四阶段是要引用plasma这样添加链外的结算机制。



但在我看来这个路径的设计是很奇怪的。如果顺着我前面的分析来推演应该是这样的：主链能支持的也就是利用一个字段去拓展出一个账本，还最好不要制造大量的交易，所以虫洞一旦要计划支撑dapp的第一天就应该有一个layer 2的体系来解释执行一定量合约，最后创建一笔BCH上的交易来打包提交。WHC的计量单位应该是gas，而这个gas可以通过对网络资源的评估计算出每一个区块所包含的合理的合约执行量（数量趋于稳定）。



正确的顺序应该是： 1. 移植omni。 2. 在一笔交易中实现BCH和token之间的去中心化结算。（这里有个坑，由于eth不是erc20标准的代币，0x这样的协议还需要一个eth代币来辅助，bch也是如此。）3. 建立一个独立的扩展层负责打包WHC合约再集中提交。 4. 等别的新技术起来了，追上去。



给火币公链提建议的时候，第一段就是写其战略定位，也就是动机是什么，为什么要做这个，然后再去订技术和运营上的目标。

BCH网络上支持合约的目的是什么？  BCH本身的宿命又是什么？ 比特币的白皮书讲述的是一个点对点的支付系统，而非一个支持众多分布式应用的超级大账本加操作系统。

虫洞的历史使命不是要干死以太坊，战翻eos。 支付宝也不是炒作系统，支付宝是银行。 



在系统性能方面，CDN在网络性能优化方面具有重要的地位。本来想学习一下P2PCDN的相关原理和技术，没想到P2P本身的学习就花去了较长的时间，P2P与我原来的认知有着较多的不同。

虽然 P2P 系统是最近才显得火爆，但是 P2P 系统的技术先驱已经存在很长时间了。早期的示例包括 NNTP 和 SMTP，以及 Internet 路由系统，它们大多是去中心化的，依赖于参与者的资源贡献。然而，这些系统中的节点是有组织的，协议也不是自组织的。

曾经的那些鼓舞人心的P2P系统是怎样的呢？



1. P2P 的往事如烟
点对点(P2P)计算并不是什么新鲜的技术，乘坐时光机，追溯到“互联网泡沫”前的1999年，3个系统的发布而引发了第一次P2P热潮，它们是：

Napster 音乐共享系统

Freenet 匿名数据存储

SETI@home 志愿者为基础的科学计算项目。

Napster 允许用户通过互联网直接从对方的电脑上下载音乐。由于带宽密集型的音乐下载直接发生在用户的电脑之间，Napster 节约了巨大的运营成本，能够向数百万用户提供免费服务。虽然最终的法律问题决定了Napster 的命运，但合作共享资源的想法启发了许多其他的应用程序。

Freenet旨在将分布式存储与内容分发、抗审查和匿名结合起来。它仍然活着，但背后可能要涉及“暗网”，不便多提。而SETI@home 是全球规模最大、影响范围最广的分布式计算项目。SETI(搜寻地外文明)是一个寻找地球以外智慧生命的科学实验，使用射电望远镜来监听太空中的窄带无线电讯号，因为有些信号是不可能自然产生的，如果能探测到这样的信号就可以证明地外文明的存在。

1999年5月17日，SETI@home开始正式运行，吸引了全球海量志愿者参与。SETI@home项目总部位于加州大学伯克利分校的空间科学实验室，而记录和分析的信号资料来自波多黎各的阿雷西博天文台，那里有曾经世界上最大的单面口径射电望远镜，直径350米，现在这个记录属于我国贵州的FAST天眼工程。去年3月31日SETI@home官方宣布进入休眠期(hibernation)，分布在全球的志愿者计算资源将不再接收新的数据包。项目所需分析的数据已经全部处理完毕，接下来研究人员要全力进行结果的后端分析，并发表项目研究成果。在某种程度上，SETI@home或许是一个最成功的P2P项目。

二十多年过去了，P2P 技术已经远远超出了音乐共享、匿名数据存储和科学计算的范畴，已经在开源社区和行业中得到了越来越广泛的应用，尤其skype的成功，和P2P在IPFS及FIlecoin区块链领域的大放异彩，P2P技术再次受到了极大的研究关注。 



2. 什么是P2P？
P2P 系统到底是什么意思呢？

P2P网络，即对等计算机网络，是一种在对等者（Peer）之间分配任务和工作负载的分布式应用架构，是对等计算模型在应用层形成的一种组网或网络形式。——百度百科

然而， 实际上P2P 没有统一而完整的定义。

2.1 P2P 的特点
一般地，P2P 系统是一个的分布式系统，具有3个典型的特征：去中心化，自组织和多管理域。

2.1.1 高度去中心化
对等节点实现了client/server的功能，系统的大部分状态和任务都在对等节点之间动态分配，几乎没有具有集中状态的专用节点。因此，操作系统所需的大部分计算、带宽和存储都由参与节点提供。

2.1.2 自组织
一旦一个节点被引入到系统中(通过提供参与节点的 IP 地址和一些必要的关键数据) ，维护系统几乎不需要手动配置。

2.1.3 多个管理域
参与的节点不是由单个组织/机构拥有和控制的。一般来说，每个节点由一个自愿加入系统的独立个体拥有和操作。



2.2 P2P 的系统分类
根据中心化组件存在与否，可以对 P2P 系统的体系结构进行大致的分类。

2.2.1 半中心化的 P2P 系统
这样的系统中有一个专用的控制器节点，用于维护节点的集合并控制系统。半中心化的 P2P 系统相对简单，可以通过控制器由单个组织管理。比如，BitTorrent 的早期版本有一个“跟踪器”，这个节点来跟踪一组节点是否上传和下载相同的内容，并定期为节点提供一组可以连接的节点; BOINC 志愿计算平台有一个网站来维护会员资格和分配计算任务; Skype 有一个中心网站来提供登录、账户管理和支付服务。

半中心化的 P2P 系统也可以提供有机的增长和丰富的资源。但是，不一定提供可伸缩性和弹性，因为控制器形成了一个潜在的瓶颈和单点故障。

2.2.2 去中心化的 P2P 系统
在去中心化P2P 系统中，没有影响系统运行的专用节点，没有固有的瓶颈，可以很好地进行规模扩展，对故障、攻击和法律挑战有着潜在的弹性。

在一些去中心化的 P2P 系统中，资源丰富的节点、高可用性和公共可路由的 IP 地址充当超级节点。这些超级节点还有额外的职责，例如充当防火墙后节点的交汇点、存储状态或保持可用内容的索引。超级节点可以提高 P2P 系统的效率，但也可能增加其对节点故障的脆弱性。

图片

3. P2P 的技术优劣
由于这些技术特点的存在，使得P2P 技术有了先天的优势:

3.1 部署门槛低
由于 P2P 系统很少或根本不需要专用的基础设施，因此与CS系统相比，部署 P2P 服务所需的前期投资往往很低。

3.2 有机增长
由于资源由参与节点提供，P2P 系统几乎可以任意增长，而不需要对现有基础设施进行”升级”，例如，用更强大的硬件替换服务器。

3.3 对故障和攻击的适应能力
P2P 系统对故障的适应能力很强，因为对系统运行至关重要的节点很少。为了攻击或关闭 P2P 系统，攻击者必须同时攻击大部分节点。

3.4 资源的丰富性和多样性
流行的 P2P 系统拥有丰富的资源，很少有组织能够单独承担。这些资源具有不同的硬件、软件架构、网络、电力供应、地理位置和管辖权。这种多样性降低了级联故障、攻击甚至审查制度的脆弱性。

事物都有其两面性，P2P 也是如此。例如，P2P 的去中心化能力可以帮助公民避免审查; 同时，它也可能被滥用，来试图躲避执法，进行犯罪活动。P2P系统的可扩展性可用于在全球范围内有效地传播，但也可用于版权内容的非法传播。因此，P2P 技术面临着诸多挑战，引起了对其可管理性、安全性和执法性的关注。此外，P2P 应用正在影响互联网服务提供商所提供的流量，并有可能扰乱当前的互联网经济。


4. P2P 系统是如何工作的？
P2P 系统中最重要的技术是构建一个网络覆盖层，其路由能力能够在高节点流失的情况下很好地工作。针对 P2P 场景，更为具体的问题是应用状态的维护、应用级节点的协调和内容分发。

4.1 覆盖层网络的维护
P2P 系统维护了一个覆盖网络，可以认为是一个有向图G = (N,E)，其中 N 是计算机的集合，E是一组覆盖链路。通过 E 中的链路连接的一对节点知道彼此的 IP 地址，并通过互联网直接进行通信。

在半中心化的 P2P 系统中，新节点通过连接到位于已知域名或 IP 地址的控制器来加入覆盖层网络。因此，覆盖层最初有一个星形的拓扑结构，控制器在中心。在控制器引入的参与者之间可以动态地形成覆盖层链接。

在去中心化的P2P系统中，新加入的节点需要通过外部通道获得已经参与系统的某个节点的网络地址(例如 IP 地址和端口号)。例如，可以从 Web 站点获取这种引导节点的地址，新节点联系引导节点来加入覆盖网络。

4.1.1 非结构化的覆盖层网络
在非结构化的 P2P 系统中，不同节点之间的链路没有约束，因此覆盖图没有任何特定的结构。在一个典型的非结构化 P2P 系统中，一个新加入的节点通过重复执行一个从引导节点开始的随机遍历并请求一个到该遍历终止节点的链接来形成它的初始链接。通过执行更多的随机遍历，节点获得额外的链接。

通常，选择最小的节点度来维护覆盖图中的连通性，维护最大的节点度是为了绑定与维护覆盖链接相关的开销。

4.1.2 结构化的覆盖层网络
在结构化的覆盖层网络中，每个节点在一个数字空间中有唯一的标识符，标识符使它们在该空间中均匀分布。覆盖层网络图有一个特定的结构：节点的标识符决定了它在该拓扑结构中的位置，并限制了它的覆盖链接集。

分配节点时也使用了密钥。密钥空间在节点间进行划分，每个密钥通过一个简单的函数准确地映射到当前的某个覆盖层节点之一。例如，一个密钥可以被映射到其标识符是密钥空间中最接近的逆时针方向节点。在这种技术中，密钥空间被认为是循环的。

覆盖层网络的结构化是为了提高基于密钥路由的转发效率。基于密钥的转发方案实现了KBR (n0，k)，即给定一个起始节点 n0和一个密钥 k，KBR 生成一条路径，即一系列覆盖节点，它们的终点是密钥k 所代表的节点。一般来说，它们在每个节点所需的路由状态数量和传递消息所需的转发节点数量之间取得了平衡。典型的实现需要每个节点的状态量和若干个转发跃点，二者在网络的大小上都是对数关系。

由此可见，在半中心化的 P2P 系统中，控制器有利于覆盖层的形成。在其他 P2P 系统中，覆盖层网络的维护是完全去中心化的。与非结构化覆盖网络相比，结构化覆盖网络需要投入更多的资源来维护特定的图结构。作为回报，结构化覆盖能够有效地执行基于密钥的转发方法。

非结构化覆盖和结构化覆盖之间的选择取决于基于密钥的转发方法对应用的有用程度，也取决于覆盖成员的更新频率。基于密钥的转送方法可以可靠而有效地定位唯一标识的数据项并维护成员节点之间的生成树。然而，在高流失环境中维护一个结构化的覆盖需要相关的成本，如果应用程序不需要基于密钥的转发方法提供的功能，就要避免这些成本。

当然，一些 P2P 系统同时使用了结构化和非结构化覆盖，例如 控制器采用结构化的覆盖，而内容分发可以采用非结构化的覆盖。


4.2 分布式的网络状态
大多数 P2P 系统维护一些特定于应用的分布式网络状态。一般地，认为网络状态是具有唯一键的对象集合。分布式网络状态的维护，就是这些对象的存储和定位机制。

4.2.1 半中心化系统中的网络状态
在半中心化的 P2P 系统中，状态对象通常存储在插入对象的节点，以及随后下载对象的任何节点。控制器节点维护关于系统中存在哪些对象、它们的键、名称和其他属性以及当前存储这些对象的节点信息。查询一个给定的关键字，或者一组与对象名称或属性匹配的关键字，被定向到控制器，控制器通过一组节点进行响应，从这些节点可以下载对应的状态对象。

4.2.2 非结构化系统中的网络状态
与半中心化的系统一样，内容通常存储在将内容引入系统的节点上，并在其他下载器上进行复制。为了方便查找内容，一些系统将插入对象的副本(或指针)放在其他节点上，例如，沿着覆盖图中随机遍历的路径。

为了定位对象，查询节点通常会通过覆盖层网络发送请求消息。查询可以通过键、元数据或关键字指定所需的对象。接收查询并具有匹配对象(或指向匹配对象的指针)的节点响应查询节点。在这种情况下，节点 i 将一个对象插入到系统中并保存其唯一的副本，但是沿着以节点 r 结尾的随机遍历在所有节点上插入指向该对象的指针。当节点 s 尝试定位对象时，它会发送大量的查询，首先到达距离为1个hop的所有节点，然后到达距离为2hop的所有节点。在最后一步中，查询到达节点 r，它返回 i 的地址。

通常，洪泛的范围仅限于用所需的消息数量召回系统中存在的对象被找到的概率。一种替代洪泛的方法是查询节点沿着覆盖层进行随机遍历发送请求消息。

4.2.3 结构化覆盖网络中的状态
在结构化覆盖层网络中，分布式状态使用分布式散列表(DHT)来维护。DHT 具有与传统哈希表相同的 put/get 接口。通过一个简单的函数将插入的键/值对分布在结构化覆盖层网络的节点之间。

给定了这个副本放置策略，DHT 的 put 和 get 操作可以直接使用 KBR 原语实现。为了插入(放置)一个键/值对，我们使用 KBR 原语来确定密钥 k 的负责节点，并将该键值对存储在该节点上，然后该节点将其传播到 k 的副本集合中。负责的节点可以响应提取请求或将其转发到副本集中的一个节点。

当 DHT 波动时，密钥到节点的映射发生变化，必须在节点之间移动键值对。为了最小化所需的网络通信，大数据结构通常不会直接插入到 DHT 中; 相反，在密钥对应的value中插入一个间接指针，它指向实际存储值的节点。

由此可见，非结构化的覆盖层网络在定位广泛复制的对象方面非常有效，而基于 KBR 技术可以可靠和有效地定位系统中存在的任何对象，不管它是否稀疏。换句话说，非结构化覆盖网网络善于找到普通存在的东西，而结构化覆盖网络善于大海捞针。非结构化网络支持任意的基于关键字的查询，而基于KBR的系统直接支持基于关键字的查询。


4.3 分布式协调
通常，P2P 应用中的一组节点必须在没有集中控制的情况下协调它们的操作。例如，复制特定对象的节点集必须相互通知对象的更新。再例如，对接收特定的流内容感兴趣的节点而言，可能希望在当前接收该信道的节点中找到附近并具有可用的上游网络带宽的节点。

一般地，有两个不同的方法来解决这个问题：

自复制技术，其中信息通过系统进行类似病毒的传播

基于树的技术，其中分布树形成传播信息。

这里，只需关注去中心化的P2P系统即可，因为在半中心化的系统中，控制器节点可以完成协调。

4.3.1 非结构化覆盖网络中的协调
在非结构化覆盖网络中，协调通常依赖于自复制技术。在这些协议中，信息传播的方式类似于感染在人群中传播的方式: 产生信息的节点将信息发送给覆盖层的邻居节点，邻居节点将信息再发送给它的邻居节点，以此类推。这种传播方法非常简单和有效，但信息传播的速度与管理费用之间存在着权衡。此外，如果一个给定的信息片段只对节点子集感兴趣，并且这些节点广泛分散在覆盖层网络中，那么这些信息最终被不必要地传递给所有节点。

协调一组节点之间动作的一种更有效方法是在节点之间形成一个生成树。生成树嵌入到覆盖层的网络图中，使用分布式算法完成生成树。然后，可以使用该树向所有成员发送多播消息，或计算组内状态变量的摘要(例如总和、平均值、最小值或最大值)。然而，这种增加的协调效率必须与在非结构覆盖网络中维护生成树的开销相平衡。

4.3.2 结构化覆盖网络中的协调
在结构化的覆盖网络中，使用 KBR 原语可以非常有效地形成和维护覆盖节点群中的生成树，使树成为覆盖节点中首选的协调方法。要加入生成树，节点使用 KBR 路由到与组关联的唯一密钥。来自所有组成员的路径的结果联合形成一个生成树，根在负责组的密钥节点上。然后，使用这个 KBR 树聚合和传播与组相关的状态，并实现组播和选播。

因为一个连接消息一旦被树截获就会终止，所以组成员关系的维护是去中心化的，也就是说，一个节点的到达或离开只由树中节点的父节点和子节点记录。因此，这种技术可以扩展到大量的群组，以及大型高动态的群组。

由此可见，通常用于协调非结构化覆盖层网络的的自复制技术简单而且对覆盖层的混乱具有鲁棒性，但是它们可能不会扩展到大型的覆盖层或大量的群组对象，而且信息往往传播缓慢。生成树可以提高协调效率，但在非结构化覆盖中维护生成树会增加成本。维护结构化覆盖层的额外开销与覆盖层成员总数的波动成正比。一旦支付了这些开销，KBR 树就能够在覆盖图中潜在的大量、大型和动态子群之间实现高效和快速的协调。


4.4 内容发布
P2P 系统中的另一个常见任务是向一组感兴趣的节点分发批量数据或流内容。P2P 内容分发技术可以分为两种：

基于树的技术，是通过结构化覆盖层或嵌入非结构化覆盖层形成固定的分发树

群集协议，是对于路由内容没有固定树的概念，通常形成非结构化覆盖层

关于分发树的相关技术比较常见，可以重点看一下群集协议——swarm protocol。

在群集协议中，内容被划分为一系列的块，每个块对所有覆盖节点进行单独的多播，使不同的块沿不同的路径分布。一个群集协议的基本操作很简单: 每一个群集间隔(例如，一秒钟) ，覆盖层的邻居交换信息，指示他们有哪些内容块可用。在流内容分发中，通常只有最近发布的块是有趣的。每个节点交叉从其邻居那里收到的可用性信息，然后从拥有它的邻居那里请求一个它尚未拥有的块。

重要的是，块在对等点之间得到很好的分配，以确保邻近的对等点可以交换块，并且当一些对等点离开系统时，块仍然可用。为了实现这样的分布，系统可以随机选择下载块和请求邻居的块。在一种可能的策略中，一个节点选择下载其覆盖邻居所持有的所有块中最稀有的块。


5. P2P 的典型应用
虽然最早的 P2P 系统主要是文件共享的应用，但目前 P2P 技术的应用更加多样化，包括数据、软件、媒体内容的分发，以及互联网电话和科学计算。此外，越来越多的商业服务和产品依赖于 P2P 技术。

5.1 文件的分发与共享
比较流行一点的 P2P 文件共享是eDonkey和BitTorrent，如果没有听说过，只能说明自己太年轻了。这两种类型的系统都可以被看作是 Napster 的继承者。在 Napster 中，用户与其他参与者共享他们磁盘文件的子集，这些参与者可以在文件名中搜索关键字。然后，通过共享查询结果的对等实体，用户将直接下载查询结果中的任何文件。在BitTorrent 中，为了减少大文件的下载时间，BitTorrent 设计了大量的用户可以快速有效地下载大容量数据。BitTorrent 不包括搜索组件，用户下载不同的内容时彼此并不知情，因为它们形成了单独的网络。该协议被广泛用于数据、软件或媒体内容的传播。

5.2 流媒体
流媒体分发和 IPTV是一种日益流行的 P2P 应用。与文件共享一样，基本的思想同样是利用客户端的带宽，以降低带宽成本。流媒体分发比下载大容量数据有更严格的时间要求，因为数据必须在播放期限之前交付才有用，示例系统包括 PPLive17和 Cool Streaming等。

5.3 电话通信
P2P 技术的另一个主要用途是进行音频和视频通话，这正是Skype 应用取得成功的原因。利用参与节点的资源为用户提供无缝的视听连接，而不管他们当前的位置或互联网连接类型。对等接点帮助那些没有公共路由 IP 地址的用户建立连接，从而解决防火墙和网络地址转换引起的连接问题，而不需要集中的基础设施来处理和转发呼叫。

5.4 志愿计算
第四个重要的应用是志愿计算。在这些系统中，用户将他们的空闲 CPU 周期用于科学计算，通常是在天体物理学、生物学或气候学等领域。这种类型的第一个系统就是 SETI@home。志愿者安装一个屏幕保护程序，在用户不使用电脑的时候运行 P2P 应用程序。该应用程序从 SETI@home 服务器下载射电望远镜收集的观测数据的块。然后应用程序分析这些数据，搜索可能的无线传输，并将结果发送回服务器。SETI@home 和类似项目的成功导致了 BOINC 平台的开发，该平台已被用于开发许多的共享 P2P 系统。


5.5 区块链的基石
区块链的核心是去中心化，这和P2P网络的观念不谋而合。在区块链应用中，比特币使用的是gossip, 以太坊使用的是Kademlia DHT。gossip是一种非结构化的p2p协议，基本上是随机连上一些节点就可以了，网络拓扑会呈现更随机的形状，比特币中的参数是每个节点最多主动连8个节点，最多接受117个的外来连接。Kademlia DHT是一种结构化的p2p技术，这也是根据文件分享应用的需求而来的。完美的网络结构当然是最好按照物理距离来，每个节点连接和它物理距离最近的节点。但使用物理距离比较困难，Kademlia算法使用节点id之间的异或操作来当作节点之间的距离。Kademlia网络中查找节点内容的通信复杂度是对数级别，路由表缓存效率更高，网络扩展性更好。

从某种意义上，区块链可以看做是P2P技术的一次重生。区块链实现了数字货币的功能，顺便解决了激励问题。

5.6 其他应用
P2P内容分发网络(P2PCDN)，获得了相对广泛的应用。在这些系统中，一组合作的用户组成了一个网络缓存和域名服务网络，当用户访问 Web 内容时，这些服务器复制 Web 内容，从而减少了源服务器的负载。

为 P2P 应用程序开发的技术也被纳入到其他类型的系统中。例如，Dynamo (是一个存储，亚马逊内部使用它的许多服务和应用程序)使用了分布式散列表(DHT) 。尽管这些系统由单一组织控制，因此不严格满足P2P 系统的定义，但它们是基于 P2P 技术的。


6. P2P 的那些挑战
P2P 系统的许多潜力来自于独立于专用基础设施和集中控制的特性。然而，这些特性也使 P2P 系统面临一些独特挑战。

6.1 控制成员资格
大多数 P2P 系统具有开放或松散的成员关系。由于缺乏强用户身份，攻击者可以通过创建许多不同的身份来填充 P2P 系统中的节点。一旦他控制了大量的“虚拟”对等点，攻击者就可以击败针对节点故障或不当行为的多种防御措施。例如，攻击者如果希望抑制与 DHT 中某个密钥 k 相关的值，可以向系统中添加虚拟节点，直到他控制了存储该值副本的所有节点。然后，当密钥 k 的 get 操作发出时，这些节点可以否认键/值对的存在。

解决这种攻击的最初建议需要工作量证明(例如，解决加密谜题或下载大文件) ，然后新的节点才能加入覆盖。虽然这些方法限制了攻击者获得身份的速度，但它们也使合法用户更难加入。此外，有足够资源或访问僵尸网络的攻击者仍然可以发起这样的攻击。

另一种解决方案需要经过认证的身份，其中一个可信中心为对等身份和相应的现实世界实体之间的对应关系提供担保。认证身份的缺点是，受信任的授权机构和必要的登记过程在某些应用程序中可能的不切实际或不适用的。

6.2 数据保护
P2P 系统健壮性的另一个方面是存储在系统中或由对等点下载的数据的可用性、持久性、完整性和真实性。不同类型的 P2P 系统设计了不同的机制来解决这些问题。

6.2.1 完整性和真实性
对于 DHT，通常使用自证明命名对象来验证数据完整性。DHT 利用了这样一个事实，即它们在选择存储在 DHT 中的值的密钥时具有灵活性。通过在 put 操作期间设置 key = hash (value) ，下载程序可以通过对 get 操作的结果应用密码哈希函数来验证检索到的数据是否正确，并将其与原始密钥进行比较。存储可变数据的系统和允许用户为插入内容选择任意名称的系统可以使用加密签名来保护数据的完整性和真实性。但是，这样的系统需要一个基础设施来管理密钥。

不能保护插入数据完整性的系统往往充斥着标签不正确或损坏的内容。解决内容污染问题的一个可能的方法是由对等节点对数据的真实性进行投票。

6.2.2 可用性和持久性
一个挑战是如何确保存储在 P2P 系统中数据的可用性和持久性。即使在没有攻击的情况下，确保可用性也会因为频繁更新而变得困难。要使数据对象可用，至少有一个存储副本的节点必须始终处于联机状态。为了确保某个对象在不断变更的情况下仍然可用，系统必须不断地将副本移动到活动节点，这可能需要大量的网络带宽。可扩展存储、高可用性和抗流失能力是一个实用的 P2P 存储系统的不可能三角。

另一个挑战是 P2P 存储系统的长期成员资格(即定期在线的节点集)必须不减少，以确保存储数据的持久性。否则，由于其余成员之间可用的存储空间可能低于存储所有数据所需的空间，系统可能会永久丢失数据。

6.3 激励措施
人们期望 P2P 系统的参与者为共同利益贡献资源。然而，如果用户可以免费使用这项服务，他们就不一定有贡献的动机。这些用户可能希望节省自己的磁盘空间、带宽和计算周期，或者他们可能不希望在共享系统中贡献任何内容。这种用户在许多 P2P 系统中都非常普遍。那些人的存在减少了 P2P 系统的可用资源，并可能恶化该系统能够向用户提供的服务质量。

为了解决这个问题，在 P2P 系统的设计中加入了奖励计划。例如，一个用户必须上传同一个文件的另一部分，否则就要冒着与该用户断开连接的风险，才能从对方那里下载文件。这为用户共享他们的上传带宽提供了动力，因为不上传数据的话，对方的下载性能会很差。这些机制都试图将服务的质量与节点的贡献联系起来。

6.4 管理 P2P 系统
这是一个悬而未决的问题，P2P 系统是否比其他分布式系统更容易管理呢？

一方面，P2P 系统适应各种各样的工作负载和资源可用性条件，能够自动从大多数节点故障中恢复，并且用户可以独立地管理自己的硬件。因此，与基于服务器的解决方案相比，P2P 系统的日常运维似乎较少。另一方面，P2P 系统可能会经历难以管理的大范围停服，然而，要解决这个问题还需要更多的研究和实践。


7. P2P与互联网服务供应商的纠葛
互联网服务提供商见证了 P2P 应用的成功，而且心情复杂。一方面，P2P 推动了对网络带宽的需求。另一方面，P2P 流量模式挑战了互联网服务提供商在设计网络和为服务定价时所做的某些假设。

互联网是一个由独立网络提供商组成的有等级的集团。本地互联网服务供应商通常连接到区域互联网服务供应商，而区域互联网服务供应商又连接到(跨)国家主干网供应商。处于同一层级的互联网服务提供商(即所谓的对等互联网服务提供商)也可以直接交换流量，主干网供应商之间是完全互联的。通常情况下，对等网络服务提供商之间并不直接交换流量，但是用户需要为他们发送给服务提供商的流量付费。

这种定价模式起源于client-server应用主导互联网流量的时代。商业服务器运营商为所使用的带宽向互联网服务提供商支付费用，而互联网服务提供商则向各自的供应商支付费用。然而，对于 P2P 内容分发的应用，家庭P2P 节点可以相互上传内容。除非 P2P 节点碰巧连接到同一个 ISP 或两个直接相互对等的 ISP，否则上传节点的 ISP 必须将数据转发给自己的提供商。因此，一些互联网服务提供商已开始约束网络流量，甚至阻塞P2P的流量。

这些问题必须得到解决， P2P 应用才能蓬勃发展，同时确保互联网服务提供商的利润。一个很有前途的技术方法是将 P2P 应用中的对等点选择偏向于连接到同一互联网服务提供商或互相对等的互联网服务提供商节点。另一个解决方案是互联网服务提供商改变他们的定价模型。

从长远来看，互联网服务提供商可能会直接或间接地受益于 P2P 系统带来的创新和新服务的涌现。此外，互联网服务提供商可以通过为P2P的成功服务提供基础设施支持，从而找到新的收入来源。


8. 结束语
作为一种破坏性创新，P2P 为互联网、工业和社会创造了巨大的机遇和挑战。P2P 技术最重要的承诺在于它能够显著降低创新的障碍。立于专用的基础设施和集中的控制是一柄双刃剑，因为它创造了新的挑战，必须通过技术、商业和法律手段来应对。

当前的现实是，P2P成为了新思想和新服务的试验场，具有特别的价值。那些最终被证明是受欢迎的、合法的、商业上可行的服务，然后可能会转化为更基于基础设施的商业服务。在那里，P2P思想可以与传统的集中式方法相结合，构建高度可扩展和可靠的系统。


# 以太坊为五个主要部分：



“ 以太坊 101 ”基础篇

“ 以太坊 201 ”深入探讨更为复杂的概念

（以太坊 301）加密语境中关于身份认定部分

（以太坊 401）去中心化金融部分

（以太坊 501）关于以太坊的未来部分，最后这一部分尤其探讨向 PoS (权益证明机制) 的过渡（如果现在这些与你无关，则不要过于忧虑）。



在每一部分，我解释了很多复杂的专业术语，编制了许多实用的图表，以通俗的语言阐释以太坊中最为重要的概念性主题。并且，我还在指南的末尾附上了额外资料，供大家继续深耕。



在了解以太坊时，你可以针对性地运用指南的不同部分进行快速阅读和检查，或将指南作为探索未来的一个灵感点，或作为一个链接分享给最近对加密领域感兴趣的朋友。



举例来说，可以按 Ctrl+F 键查找“ Uniswap ”更多地了解去中心化交易所。或者，还可以检索“ wallet ”（钱包）学习更多有关非托管钱包的安全知识。



在 Vitalik Buterin（以太坊联合创始人）的一篇热门博客帖子中，他写道，



“有时候，差别极小的过度简化正是我们了解世界所需要的东西。”



通过将这些复杂的话题浓缩为极简的内容，我希望这则指南可以帮助所有人了解以太坊世界。



以太坊101 - 基础篇



在认识以太坊之前，我们需要了解它的基础概念。



在这个部分，我将阐释什么是区块链，区块如何添加到链上，以太坊如何像世界计算机一般运作，以及智能合约如何运行。



区块链- 区块链是指特定网络中一系列独立计算机处理和维护的所有交易的公开记录本。比起用中心化的方式管理这些交易数据库（就如 Amazon 或 Facebook 控制自己数据的方式），区块链上不存在单个数据所有者，使之去中心化。在这个网络中的计算机遵循着特定的规范和机制，以保存所有交易的记录。



这些规范让计算机能够同意网络中发生的所有（交易）行为，或就其达成共识：计算机 A 是否转出资金给计算机 B ，计算机 B 是否发送这些资金给计算机 C，以及什么时候呢？上周发生了什么事呢？六个月前发生了些什么？



网络中的计算机是独立的，因此，计算机 D 和 E（和 F 和 G ......）可能不认识计算机 A、B 或 C。区块链的一系列规则意味着，单个计算机无须独自验证其他计算机提供的数据的准确性，就能对区块链历史上发生的交易达成一致。



换句话说，计算机之间不用信任彼此就可以达成共识。在网络中的计算机之间，这种去信任共识机制具有举足轻重的重要性。



区块链数量十分庞大，每一条链遵循着自行设置的规范达成共识。以太坊区块链致力于为给不同领域中酷炫的、新颖的应用提供基础设施服务与设计空间，比如游戏、艺术、金融和社交媒体类的应用。



共识机制 - 当区块链上的所有计算机都同意发生在网络中的事实，这就是“ 达成共识 ”。单个计算机之间根据区块链的规则达成共识，并且每一次将新交易打包至链上，所有计算机都需要经历达成共识的全过程。



一旦这些计算机达成共识，交易区块则被打包到区块链上，成为网络历史记录中的一部分。



大致的意思是，假设计算机对每次新交易添加至链上的行为无异议，那就相当于同意了区块链的整个历史记录，因为他们不得不参与其中的每一环。



共识是一个支撑整个区块链世界的重要概念。如何在不信任网络中任何参与者的情况下，验证上面发生的交易，这是一个非常难以解决的人类问题，而区块链是这一问题的最优解。不同规范（或是“ 共识机制 ”）可以促使个人计算机在区块链中达成共识。下面介绍两种主要共识机制：



工作量证明（PoW）- 在工作量证明机制中，计算机之间以竞赛的方式解决复杂的数学问题。网络会给第一台解决问题的计算机提供经济奖励，这激励着计算机背后的人不断更新并运行节点（换言之，确保网络一直处理交易）。



也许你曾听过，这种竞相解决计算密集型数学问题的过程就叫“ 挖矿 ”。基本上，经验证为合法的交易，可以安全地添加到区块链上。这也是比特币区块链以及当前以太坊区块链在实施的规则。



工作量证明机制也有它的缺点，主要是



1）最终，最强大的（和最昂贵的）计算机能够更快地解决问题，因此，富者衡富；

2）在计算机上解决高难度的数学问题需要消耗很多精力，这已经成为整个区块链最为人诟病的一点。



权益证明机制（PoS）- 相对于耗费大量算力来达成共识（如 PoW ），权益证明机制则是利用惩罚的风险（和一些经济激励）约束/激励参与者。



在权益证明机制中，参与者筹备资金（技术角度而言，他们“ 质押 ”自己的资金），并换取进入随机选拔程序的资格。被随机选中的计算机需要验证下一批即将到来的交易。当随机选中的计算机正确地处理交易（在权益证明机制的限制范围内），可以获得奖励。



如果被网络随机选中的参与者违反了权益证明机制的规定，那么这个参与者质押的资产就会减少（或“ 被罚没 ”）。



PoS 区块链不会同时请求网络中的所有计算机破解那些数学难题，而是通过随机选取计算机进行交易验证。略过繁重的计算过程可以减轻 PoW 机制出现的两大主要问题。这也是以太坊在规划 2022 年部署下一代区块链时，打算启用这套共识机制的部分原因。



节点 - 为了以太坊区块链的运作，网络中的参与者需要运行特定的软件，协助他们与区块链进行交互。我倾向于认为，每个节点作为独立计算机运行着以太坊软件。



同样地，节点（网络中的参与者）越多就越去中心化，但有时，维护所有节点有些麻烦，因此，不同的节点针对不同的目的：



全节点 - 全节点用来储存完整的区块链数据，帮助区块进行验证并打包到链上。这类节点还为过去的交易提供有效性证明。



轻节点 - 轻节点的功能在设计上相对少于全节点。比起储存完整的区块链数据，轻节点仅仅储存较少量过去交易的证明。这类节点让更多人参与到网络中，因为它们存储更少的数据，运行起来更加经济。



归档节点 - 归档节点是以太坊世界的程序库/维基百科词典。它们储存全节点所有的数据，甚至更多。分析工具和钱包提供商也许会利用归档节点来拉取很久之前的信息。



客户端 - 这是以太坊的软件，使得计算机（节点）能够同以太坊网络进行交互。单个节点可以选择他们想用的客户端软件，但多用一些不同类型的客户端对于去中心化至关重要，以免其中某个客户端出现 bug 或者问题。



现在有执行客户端和共识客户端两种类型，但这不在指南介绍的范围内。



现如今，链上有很多可用的客户端，最近以太坊社区争取让最大的一些节点运行机构多样化其运行节点的客户端。



重要的是，任何想要参与运行以太坊网络的用户，都可以创建他们自己的客户端，这意味着用户不必信赖第三方实体为其验证区块链。



状态 - 以太坊区块链的状态指的是在任何特定时间点区块链上的账户余额情况。一旦有新的事物产生（比如处理一个新的交易区块），那么状态则会更新并精确地反映区块链在打包新交易后的状况。



以太坊的状态保存不同账户及其余额的信息。换言之，一旦区块链验证新的交易，状态也会随之更新，利用刚添加的新交易信息反映出新的账户余额。



侧栏 - 如何将区块打包到区块链上？



一个用户可能想用以太坊区块链发送一些资金给另一个用户。一旦发起方用户这边发起了交易，这笔交易就要在接收方用户收到这笔钱之前，被打包至交易链上。



当这样一笔交易打包到以太坊区块链上，各个节点需要在交易打包上链并变成其一部分历史之前，完成整个达成共识的过程。



在下图中，它讨论的是上述的简单交易，就是一个用户发送资金给另一位用户。这笔交易被打包成区块，等待节点一同达成共识后将它添加至链上。



![图片](https://user-images.githubusercontent.com/79394963/198796130-2b074cf9-39e9-4d55-8728-c8b7d65594a3.png)


![图片](https://user-images.githubusercontent.com/79394963/198796016-5a15466d-235e-4eb6-acfc-dc619f8d0550.png)

来源: Understanding Ethereum



事实上，区块链只是所有用户对于发生在网络中的历史交易达成共识的方式，而区块链状态是已实时更新过新交易的账户余额。


![图片](https://user-images.githubusercontent.com/79394963/198795888-f618f463-ddde-4e14-8cc5-3cc286f3c0c7.png)

图片
来源: Understanding the Ethereum Yellow Paper



智能合约 - 在一定程度上，智能合约类似于物理世界中使用的传统合约的电子版。在传统合约中（例如雇佣合同或者公寓租赁），两个及以上的合约方建立一套条款，再通过律师和司法系统执行合约中的条款。



而在智能合约中，两个及以上的用户也是创建一套规则，却不是通过司法体系执行合约，而是由程序代码编写成智能合约，发送到区块链（或者部署在区块链上）。智能合约会根据已编好的代码自动运行，而不需要律师执行。



上述的侧栏部分叙述了区块打包上链的过程。智能合约是经由区块内的交易部署到链上的代码。未来的交易可以“ 调用 ”或与智能合约交互。



举个简单的例子，A 用户希望和 B 用户就比特币在未来两年内的价值打赌。A用户认为比特币在 2032 年 1 月 1 日时会超过100,000美元，而B用户则认为比特币会低于这个价格。



那么，两位用户可以建立一个智能合约，在合约里放置彼此的资金，再约定一条简单的规则：如果比特币在 2032 年 1 月 1 日超过了 100,000 美元，智能合约则释放这些资金给 A 用户，反之，智能合约将资金打给 B 用户。这个交易过程十分简单、直接且去信任。



智能合约允许任何人以去信任的方式在世界计算机上部署代码，并且，也使得任何人去信任式地验证代码的内容（只要他们可以读懂代码！）



最终，智能合约技术的存在已为一波涌现的去中心化应用浪潮带来巨大的机遇，而没有区块链技术，这些就无法成为现实。



比特币和以太坊最大的区别是，以太坊催生了一波智能合约计算平台的浪潮，这些平台是可以编写智能合约代码并直接部署到链上的区块链。



以太坊基金会研究员 John Stark 写了一部关于智能合约的文章，如果你愿意更加深入了解这个概念，我建议你阅读这篇文章。



以太币（ETH）- 以太币是支持以太坊区块链的原生货币。在工作量证明机制中，（挖矿）奖励通过以太币支付给解决数学难题的计算机。并且，参与者在权益证明机制中质押的资金也是用以太币 (需质押 32 ETH )。



以太币是加密货币的名字，以太坊是网络的名字。



以太坊虚拟机（EVM）- 以太坊虚拟机这个名字是指“ 虚拟的 ”计算机，它由所有参与以太坊网络的独立小型计算机组成。这样单个的大型计算机并非实际上处于某个位置的“ 物理层面的 ”计算机，而是尤如一台大型计算机（全球性的）一般工作。



以太坊区块链的状态就活跃在这台计算机上，并且，当下一个区块打包至链上时，它负责执行状态更新的规范。如果以太坊网络中的用户想将智能合约代码纳入自己的交易中，那么这个代码便会在 EVM 上运行。



侧栏 - 以太坊虚拟机如何运作？



尽管对于新手来说，可能没必要了解 EVM 运行的复杂性，但它是以太坊区块链的重要组成部分，还能帮助读者大致了解去中心化如何规模运作。



如下图，尽管图片有些复杂，但画得不错。一起按照步骤来看：

![图片](https://user-images.githubusercontent.com/79394963/198795772-1d9c1f3a-e910-46da-b47a-fe7595bb5e35.png)


图片
来源: Ethereum EVM Illustrated



 我们首先从以太坊区块链在特定时间点的状态开始。这左边的方框称作“ 世界状态σ t ”

一笔交易被打包到链上，例如从一个钱包转移以太币到另一个钱包，在图表顶端上的方框，就是“信息调用交易”。

在交易发生之前的以太坊状态（再次提示，左边的方框）加上新交易（顶上的方框）的输入数据，都在 EVM 上运行。在这里，EVM 更新区块链的状态。

一旦 EVM 更新了状态，新的状态“ World state σ t+1 ”会被储存起来。



代币 - 通常，代币指区块链上的资产。代币可以代表许多不同类型的资产。



举个例子，一般认为代币是可以当成货币的资产，或者是在具体决策过程中给持有者提供投票权的资产 (治理代币)，又或者完全可以作为其他东西。代币是加密世界中代表着不同种类资产的价值的原子单位。



同质化代币(fungible token) - 这个术语“ fungible ”指的是可以相互转换的一些商品或是物品，即可替换性。这不是一个加密原生术语，一般的货币指的是同质化货币。



例如，我口袋里的 1 美元可以换成你口袋里的 1 美元，并且这两个 1 美元都可以用来买 1 美元的东西，它们是等价的。当可替代性应用于加密概念中，它指是否可以与其同一集合中的其他加密资产进行互换。我的以太币和你的以太币可以互换。           



非同质化代币（NFTs）- 非同质化代币指的是所有因其独一无二的存在而不可互换的数字资产。



虽然 NFT 主要是因为数字艺术和数字藏品出圈的，但它不止于这种表现形式，它可以是任何独一无二的数字资产。



数字艺术和数字藏品恰好是 NFT 最早的用例之一，而已经引起了广泛公众的共鸣。这种代币引起了许多人对加密界的兴趣，但我认为诸如无聊猿和 NBATopShot 此类 NFT 项目的兴起导致广大公众低估了在以太坊区块链这样的可信结算层上部署独一无二的数字资产所带来的其他方面的效用。



从概念上看， NFT 还可以应用于许多数字收藏品以外的其他用例。如果一种产品或者服务需要能够验证某种特定数字资产的所有权和其稀缺性的有效性，那么公共区块链上的 NFT 就派上用场了。



例如，音乐会场地可能会用 NFT 替代门票，或者视频游戏的设计师可以将那些难以在游戏中获得的资产转为 NFT ，由此用户之间可以转让或交易。



这个概念还能玩出新花样：一些资产可以既是同质化的，又是非同质化的，这取决于同它们进行比较的集合。例如，如果我持有一个 19 世纪的 1 美元老币，并将它作为收藏品放置于玻璃罐中。这很明显，这 1 美元（非同质化的！）和被揉作一团后塞在口袋的美元新钞截然不同。



不过，如果我将玻璃罐里的 1 美元掏出来去星巴克消费，他们（可能）愿意收下它。这是因为，从某种程度上看，它跟其他一美元纸币是可互换的，尽管从其他角度而言，它们完全不是一回事。

![图片](https://user-images.githubusercontent.com/79394963/198795663-c7ee65c0-1b75-448e-9ef8-dbf98432d602.png)


图片
来源: Graphical Guide to Understanding Uniswap



以太坊201 - 进一步深入了解



在这一部分，我将阐述gas成本高昂的原因，可组合性如何运作，以及用户如何与创建在以太坊上的应用交互。



燃料 (Gas) - 与以太坊区块链的每次交互都会消耗成本 (gas)，而这个成本取决于以太坊虚拟机运行那段特定代码需要消耗多少算力。



由于区块链上的每个区块的空间只能容纳固定数量的交易，而 gas 的概念可以帮助以太坊分配稀缺的区块空间资源。



越是复杂的交易可能需要支付越多的gas才能完成。比如，从一个钱包发送以太币到另一个也许只需要在虚拟机上运行几行代码，因此，它需要的 gas 少于算力大的交互所需的 gas ，如在去中心化交易所兑换一些代币（阅读下文的去中心化金融部分了解更多）。



你可以把 gas 看作类似于中心化的信用卡公司收取服务的手续费。



例如自 20 世纪 50 年代创建、运作且维护到现在的 Visa ，会向所有使用 Visa 网络的交易收取固定的 3% 费用。



相对而言，以太坊的“手续费”并不固定，它基于交易时网络的供需情况而定。Gas 费用于支付参与以太坊区块链运作的计算机（请阅读下文了解更多）。



Gas 以 ETH 计价，并且用户可以选择支付更多的 gas（通过给计算机支付小费的方式）以加速交易时间，提高交易打包到下一区块的几率。



Gwei - 在技术上 Gas 的价格表示为 wei ，是 ETH 最小的增量单位。1 wei 等于0.000000000000000001 ETH（10(18) wei，也就是用 5 个逗号才能表示 1 ETH），1  gwei 等于1,000,000,000 wei，所以比较 gas 价格时，用 gwei 兑 ETH 的计价方式更为方便。



用户已经习惯了以 gwei 为单位来表示 gas 价格。比如 0.0001 ETH是 1 gwei，这个 gas 费用很低。用户可以使用 Gas.Watch 留意实时的 gas 价格。Gas 会随着打包进区块链的交易需求上下波动。



它应该是发音为 gwey，但我听过有人读 goo-ee。所以，我不太敢向别人问它的读音。



侧栏 - 为什么需要gas，它如何应用？



负责验证区块链交易的计算机需要在经济上给予激励。如果不发放这些激励，将难以说服他们运维计算机和区块链，而要是链上没有充足的计算机进行运行，就将导致区块链变得过度中心化，仅由几个用户控制。



如上所述，支付给网络参与者的 gas 会根据打包进区块链的交易需求而波动。

![图片](https://user-images.githubusercontent.com/79394963/198795588-42ed1ca8-e437-4b9a-92c8-efdcbc0d0f70.png)


图片
来源: Understanding Ethereum



Solidity - Solidity 是一种编程语言，用户可以用它在以太坊区块链中编写智能合约以及创建去中心化应用。



重要的是，Solidity 是图灵完备的编程语言，这基本意味着“ 任何你可以编写成代码的东西都可以用 Solidity 写 ”。这说明，开发者能够使用 Solidity 在以太坊上开发大量的酷炫玩意。



可组合性 - 由于智能合约作为开源代码部署在以太坊上，所以，任何人都可以基于这些智能合约构建（或者“ 分叉 ”代码并自行改变），这表明以太坊 (以及其他类似区块链) 上的应用是可组合的。



可以将可组合性看作是区块链的 API 。尽管按理说早几代前开发者就能够基于其他技术基础设施创建应用，但加密可组合性对比其他领域的不同主要表现在：它所有底层协议都是去中心化的。



换言之，开发者无需担忧会有某个中心化实体，掌控全部的底层数据并突然改变平台的规则，或是限制开发者的访问， 比如 2018 年基于推特 API 构建应用的开发者们遇到的情况那样。



侧栏 - 可组合性的案例有哪些？在实际中如何应用？



可组合性指的是开发者可以利用已经构建和部署在公链上的其他应用创建新的应用。



例如，Compound 作为一个 DeFi 应用，如高能储蓄账户一样能让用户通过存款赚取利润。假设一个项目（例如 Argent 加密钱包）的开发者希望将 Compound 嵌入他们构建的应用中，那么他们无需重建系统就可以轻松地集成 Compound 。这就是可组合性。

![图片](https://user-images.githubusercontent.com/79394963/198795464-d58b683d-dbbc-47f2-bd5c-4d86ed4ea767.png)


图片
来源: Understanding Ethereum



以太坊改进提案（EIP）- 鉴于如以太坊这类区块链在本质上是公开的、去中心化和开源的，其开发者社区修改协议的方式与中心化实体做决策的方式相去甚远。现代开源社区（比如 Linux 和 Python 的活跃社区）和以太坊的开发过程更加相似。



以太坊社区已经制定了一套流程以概述社区成员该如何向以太坊协议提出改进建议。这些流程包括提供进行讨论的公共论坛和鼓励社区参与开源，这对于以太坊区块链来说尤为重要，因为它是去中心化的区块链且依赖于全球分布的社区对其进行监督和改进。



提案可以与区块链遵循的核心规则相关 (比如何时达成共识)，也可以就以太坊核心构建部件提议一个标准化版本如非同质化代币或者钱包（下文会展开描述）。当用户利用以太坊的可组合性并基于某些已标准化的规范来构建一个应用时，显而易见代码将按预期运行。



以太坊注释请求（ERC）- ERC 是 EIP 的一种类别，具体来说，ERC 是描述“ 应用级别的标准和协定 ”的一种 EIP 。



这类 EIP 值得在这提一提，因为它是以太坊上最重要且最具知名度的一些使用案例的合约标准的模板。开发者在以太坊上构建时可以使用这些合约标准以节约时间和精力，而不用从头开始。一些广为人知的 ERC 如下：



ERC - 20 ：这是同质化代币的一种代币标准。

ERC - 721 ：这是非同质化代币的一种代币标准。

ERC - 1155  ：这是优化了部分 ERC - 20 和 ERC - 721 的代币标准，一般应用于碎片化非同质化代币。



侧栏 - 为何要分解（或使其可替代）非同质化代币？



尽管碎片化 NFT 这个概念本身听起来像悖论，但这也有几个不同的用例。



最好的解读方式是，一些艺术品价格高昂（比如 Beeple 的 NFT 以 6900 万美元的价格售出或蒙娜丽莎这副名画），普通人很难买得起。碎片化一个昂贵的 NFT，使得消费者有机会持有（价值连城、非同质化）代币的一小部分。



图片
来源: Algorand



值得注意的是，大多数分解后的 NFT 碎片之间具有可替代性，因此，某个用户持有的蒙娜丽莎面部碎片不会和手部碎片或是背景碎片相斥（即碎片之间是等价的）。



这些不同部位的碎片实际上并不是可替代的（比起脸部碎片，我更乐意花更少的钱购买背景碎片）而现实中，用户只会持有整个艺术品的一片小小的可替代碎片。



碎片化 NFT 不止是钱的问题。NFT 代表着独一无二的数字资产，所以 NFT 碎片化还隐含着所有权、身份和社区的概念。



测试网 - 测试网是区块链的副本，它使开发者得以尽情开发，并测试代码在“主网”区块链上将是何种运行情况。



当开发者在区块链上部署了智能合约后，尽管有些智能合约已经不再应用，但只要区块链一直活跃，这些代码都是可见的。



由于存在这种永久性以及智能合约有可能与大额资金交互，开发者会希望通过在测试网测试以确保代码会按预期运行。



在以太坊案例中，有一堆的测试网（比如 Rinkby 、 Ropsten 和 Kovan ）可供开发者在不用冒险动用真实资产的情况下，测试自己的代码。测试网是加密软件开发者的开发实践环境。



水龙头 - 水龙头会分发“ 虚假的 ” ETH 给开发者，所以他们能用这些测试币在测试网测试智能合约。



开发者需要 ETH 部署智能合约并与之进行交互，但与主网的 ETH 不同，测试网的测试币不具有实际的经济价值。水龙头是开发者获取 ETH 测试币的简便渠道。



设想你是一名开发者，准备在以太坊上部署智能合约。假设你手头上的智能合约将处理一些资金，可能类似于一个去中心化的交易所（在下文的去中心化金融部分有探讨）。



首先，你想在测试网上测试智能合约。以确保代码的运行达到预期。你将需要一些测试网的 ETH 来运行智能合约。



然而，要谨记测试网只是以太坊区块链的副本，所以测试网上面的 ETH 本质上是“ 虚假的 ”，因此，这些代币不能兑换成主网链的 ETH 。



如果读者想用以太币测试合约并观察它的实际运行，那么水龙头可以方便用户获取 ETH ，并在测试网上尽情使用/挥霍。



预言机 - 根据需要，预言机可以用来连接区块链和外部系统。在某些时候，可以创建在以太坊上的应用，希望与非以太坊网络所保护的外部数据流进行交互。一些数据不得不从链下获取，就如今天的天气或者篮球比赛的分数。



因此，预言机是通向“ 现实世界 ”的接口。



为了农作物的保险起见，预言机可用于查询弗洛里达州靠近橙子种植地的天气，或是用于验证去中心化体育博彩应用的记分。预言机具有潜在的信任隐患（因为构成区块链的计算机网络无法真的验证弗洛里达的天气如何），但是对于这些需要预言机的应用来说，有良好的方案可以解决这一隐患。



预言机提供商 (如 Chainlink ) 构建了某种系统以试图确保其预言机不易受攻击 (但是单个预言机仍然是区块链上易受攻击的弱点)。



读者可以设想一下：为预言机系统 (由多个预言机组成) 建立一种共识机制，尽管其中存在易攻击点 (因为链下数据总是可能会以某种方式被操纵)，但是仍然需要 9/16 个预言机对预言机网络的信息达成共识。或者类似的机制。



内存池 - 当一笔交易已被用户提交，但是还未被验证和打包上链，这种待处理的交易会被发送到一个等待区域，叫做内存池。



在处理交易之前，网络中的计算机节点会验证交易的有效性。举例来说，账户在发送交易时，可能会花费超过账户内的有效资金，或是可能出现私钥与发起方钱包（更多请看下文的钱包和身份认证的部分）的公钥不匹配的情况。当网络中的计算机在验证这些潜在隐患时，这些待处理的交易就在内存池中等待。



在技术上而言，网络中的每个参与者都有自己的内存池，但为了让入门级别的读者更好理解，把内存池想象成所有区块链交易的等待区域是可以接受的。



通常，交易在内存池中等待几秒钟到几分钟不等，这取决于需求量（下文进一步讨论可扩展性）。



以太坊上待处理的交易可以在数据供应器上看到，比如 Etherscan 。



侧栏 - 用户和应用如何与以太坊交互？



用户几乎都是通过如 Chrome 等浏览器使用网页应用。这些网页应用使用特定的库（如 web3.js 或者 ethers.js ）建成，这些库使得网页应用可以直接同区块链节点实现交互。

![图片](https://user-images.githubusercontent.com/79394963/198795191-fbe01054-4b53-4889-a3c0-f4473e356bd4.png)


图片
来源: Understanding Ethereum



开发者建立的应用，通过节点运行客户端软件的方式与以太坊进行交互。在下面的示例中，运行的客户端是 Geth ，它是一个用来与以太坊区块链交互的命令行界面。



也有像 Infura 这样“ 节点即服务 ”的供应商，它让开发者得以便捷地与服务供应商控制的节点进行交互，这和开发者如何利用 AWS 访问服务器空间的过程是类似的。接下来，这些节点可以在以太坊上与智能合约和单个账户余额产生交互。



这和当下其他软件产品的“ 后端 ” VS. “ 前端 ”大不相同。在左下图表中，我们可以看到一个用户如何连接传统的网页应用。



在这个图的旁边，是一个基于以太坊的应用的架构例子。两者极其类似！区别就是，以太坊作为一个后端基础设施服务于加密应用，这使得它具有全球化、无需许可和抗审核的特性。

![图片](https://user-images.githubusercontent.com/79394963/198795066-66546754-122c-4709-9746-5faf9afa4efa.png)


图片
来源: The Architecture of a Web3.0 Application



以太坊301 - 钱包和身份



根据设计，区块链使得用户能够自我保管资产，但钱包的作用不仅是给了用户自我托管的权利，它还是用户在加密世界的自我呈现。



在这一部分，我将介绍 DAO 和身份的关系，以及用户如何保证钱包安全问题。



钱包 - 将你的资产存在加密钱包中，就好比将现金存在物理钱包里。但是这些加密钱包还储存着代表你和你的行为的信息，例如你交互过的应用以及用该钱包做过的交易。



需要记住的是，根据设计，区块链交易是公开透明的，由此，当你使用钱包在以太坊上做些什么的时候，你的钱包管理着关于这些交易的可追溯、公开的数据。



这些可追溯数据强调了 web3  中“ 持有自己的数据 ”的理念——你的资产、交易历史、与去中心化应用交互的数据会随着你的钱包移动。而且，与物理钱包相区别的是，许多加密用户会使用多个用途不同的加密钱包。



在这里，还需要了解其他的定义才能完整地解释钱包的概念：



公钥 - 这是一行长代码，代表钱包的对外地址。公钥好比你的家庭地址；这个地址是独一无二，不是秘密（公共记录等）。而这个地址对应着一个家庭（或在这个案例中，地址对应着你的一个账户）。



你可能会与想给你寄信或礼物的朋友分享你的地址，但就算有人在当地政府的财产记录中看到你的家庭地址，那也没什么。如果有人看到你的公钥，那也是没问题的。



私钥 - 在另一方面，私钥是钱包的密码，所以不能让别人知道你的私钥。私钥会对应特定钱包的公钥，因此，如果有人得到了私钥，他们可以完全访问钱包。



私钥就像家里的钥匙，你并不介意有人随机知道了你家的地址，但是如果他们有你家的钥匙，那你必然惴惴不安。



再次重申 —— 任何人得到了私钥都可以接入对应的钱包，不要将私钥告诉任何人，也不要储存在别人可以找到的地方。



侧栏-公钥和私钥的原理是？



公钥和私钥背后的机制是非常重要的基础知识。基本上，公钥和私钥是用于加密和验证身份的一种方法，叫做私钥密码学。



谨记公钥是面向外部公开的。当用户向其朋友的钱包发起交易时（使用朋友的公钥），就相当于给交易上锁，只有当用户的朋友确实持有接收方钱包的私钥时，才能把锁解开。尽管交易是可见的（因为它存在公链上），但没有特定私钥（私钥对应的持有资产的钱包）的情况下无法“ 解锁 ”这些资产。



不管你是以太坊上搭建项目的开发者或者只是用户，一定要了解公钥和私钥的区别，这很重要。误用（或者“ 放错 ”）公私钥可能造成严重的资金后果，并且，这和忘记中心化网站上的密码不同，应用开发者无法帮助用户恢复密钥。



随着更多用户创建加密钱包并在区块链上交易，这种交易模式将会更为标准化。同时，注意学习曲线以及帮助向其他用户解释也尤为重要。


![图片](https://user-images.githubusercontent.com/79394963/198794847-8c4e5c65-e9fd-443b-a308-1a6fb1bd7c51.png)

图片
来源: How to Generate Public and Private Keys



助记词 - 一组助记词（通常是 12 到 24 个随机的词）是钱包在紧急情况下最终的钱包恢复工具。它需要像私钥一样被同等保护起来，因为丢失助记词或者将它保存在会被发现的地方，就意味着钱包的一切都暴露了。



用户一定要采取合适的方式保存助记词，保证其安全性和机密性。



钱包应用的开发者无法访问助记词，所以，如果读者丢失了自己的密钥和助记词，那么你的钱包就不能再恢复。如果仅仅丢失了私钥，那还可以用助记词来恢复钱包。



托管钱包 - 这类钱包由托管方（任何负责管理钱包资金的中心化实体）负责管理，比如一个常规的 Coinbase 账户就是托管的。这些托管者负责管理钱包（因此，如果用户使用了一个托管钱包，就不必保管自己私钥）中的基本资产，为提供用户更为中心化、更顺畅的用户体验。



这种用户体验通常不包括加密原生的身份认证机制，例如，一位用户可以使用 Google 邮箱地址和密码登录 Coinbase 的账户。



托管钱包是一种开启加密之旅的好方式，同时也是兑换现金资产为加密货币的实用方法。另一方面，鉴于这些托管者都由中心化机构持有和管理，所以也带来了去中心化旨在解决的一些问题，比如数据所有权、信息流控制以及潜在的监管要求。



加密界有句关于托管钱包流行语——“ 无钥即无币 ”。



即便是 Coinbase 的 CEO Brian Armstrong 曾经也提过非托管钱包的重要性，因为托管钱包的提供商会有受到政府监管的风险。对那些倾向于以一种完全去中心化的方式管理自己的资产和交易的用户来说，非托管钱包是更好的选择。



非托管钱包 - 这类钱包的管理者只是......你！软件供应商（如 MetaMask,  Argent 和 Rainbow 等）提供用户访问自己钱包的软件，但主要的是，钱包资产存放在链上而不是钱包提供商那里。



因此，如果 MetaMask 钱包发生了些什么导致无法访问，那么用户可以跳转到 Rainbow 钱包，导入他们的钱包（不用得到 MetaMask 的允许）并通过 Rainbow 操作自己的资产。



还有一种非托管硬件钱包，它的私钥直接保存在物理设备中（通常是看起来像 USB 的小金属物件）。



非托管钱包的使用伴随着管理公钥、私钥和助记词的负担，但这种钱包给予用户以自治权（直接持有资产）和访问以太坊世界的唯一身份。



以太坊应用允许用户“ 使用以太坊登录 ”(Sign in with Ethereum, SIWE)，即“ 使用自己的非托管钱包登录 ”。由此，非托管钱包代表了用户的身份，这些钱包扩展了加密界的设计空间，比如关于身份、凭证和所有权的新思维方式。



社会恢复钱包 - 这是由一些非托管钱包提供商支持的一种钱包恢复策略。



这种钱包不需要助记词（有用户丢失过助记词），用户可以委任其社交网络中的其他人，验证钱包是否是否对应于它应该对应的人。通过社交恢复钱包，用户可以基于其社交圈的信任网络作为其非托管钱包的后盾，同时仍然保留非托管钱包的自我托管/去中心化/单点登录的优势。



Argent是社会恢复钱包的一个用例。



侧栏-用户如何注意钱包的使用安全？



我不打算在这一栏目用图表，因把全部有关钱包安全的必要信息放进单个图表并不现实。在加密界中，钱包的安全性至关重要，值得我们耗费一些时间探索资金管理的最佳操作。



@Punk6529 发布了一篇很棒的推特长文，涵盖了安全使用钱包需要注意的所有信息。



Vitalik 就此写过大幅的篇章论述社会社交恢复钱包的重要性（点击此处阅读中文版）。而这里是来自硬件钱包供应商 Ledger 关于钱包安全的更多信息。



这里是 @Punk6529 长推文中的一些亮点，不过我强烈建议读者自行上推特阅读这篇推文：



“与公钥不同，永远不要将私钥透露给任何人。如果有人获取了你的私钥，那就玩完了。”



“地址/公钥：你的邮箱地址（可以共享）

私钥：收件箱的密码（永不共享）

钱包：保存私钥

助记词：私钥恢复系统（永不共享）

密码 (可选项)：创建新钱包的额外密码（永不丢失）



安全性和弹性是相悖的目标：将私钥打印在宣传单的行为极具弹性，但你的 NFT 将会不翼而飞 (私钥泄露了)。你可以通过摧毁私钥的方式轻松解决安全性问题，而后果是，你本人也无法访问自己的 NFT 。平衡安全性和弹性这两个目标是门艺术。



以太坊域名服务（ENS）-以太坊域名服务是为以太坊区块链而生的开源域名系统，某种程度上类似于传统网站的域名提供商。



ENS 将以太坊上的地址映射为人类可读的名字，因此我才能使用譬如“ brunny.eth ”作为我的地址，而不是这一长串的公钥：0xF67cAEbBbE7b630d137d2901637C02899ED3211b。



读者可以在自己的加密钱包（托管的或者非托管的）里直接尝试一下：创建一笔发送少量 ETH 的小额交易，不要用我的公钥，而是把“ brunny.eth ”作为接受者。这个服务会匹配“ brunny.eth ”和对应的钱包地址。



总的来说，作为公共物品，ENS 域名对以太坊生态系统中的身份而言十分重要，因而它们值得有自己版本的域名系统。



去中心化自治组织（DAOs）- DAO 是加密原生的组织形式。它可以是基于加密原生规则进行自我管理与组织的公司、非营利机构、社会团体或是其他任何类型的组织。



这里的加密原生规则是指类似于社区所有权、透明性和去中心化等概念，而值得注意的是，去中心化有一个光谱，而不是非开即关的两种极端。



不似传统公司在实体创建和领导组织架构方面的中心化持有和管理，DAO 则为无中心实体下决策的加密原生项目和商业的经营而设计架构，并致力于争取项目的社区所有权。



许多 DAO 的另一个愿景是完全去中心化和民主化的实现。也就是，DAO 的各种决策由主要参与者以民主的方式票选得出。



DAO 不仅能针对链上的应用级别产品的变动进行投票，还能发挥奖励和激励系统参与者的作用。



一部分 DAO 确实十分接近自治的程度，某种意义上，自动执行的智能合约代码运行着 DAO 的许多函数。



这方面的一个例子就是 DeFi 中的 DAO，这种 DAO 的核心价值定位是，对于 DeFi 中服务于某些目的智能合约的去中心化维护。大多数 DAO 向着去中心化的方向逐步发展，这其中的大部分更类似于与银行账户的多人聊天，而不是真正意义上的自治化组织。



DAO 实际上是各种事物的社会副产品，包括无需许可区块链、非托管钱包、身份认证工具（如 ENS 等）以及生态参与者的共享意愿。



DAO 值得用专门的一部分展开描述（甚至是用整篇指南！），但我个人观点是，大家在加密界中参加的 DAO 正是重新定义数字原生身份的关键，所以在本章节中与“ 身份 ”一起谈 DAO 最说得通。



以太坊401 - 去中心化金融



毋庸置疑，DeFi 是目前以太坊最为成功的用例，超过1000亿美元的资产锁定在以太坊的 DeFi 协议当中。



DeFi 领域还擅于使用一些令人困惑的术语。在这个小节，我将从广义角度界定 DeFi ，深入探讨这些令人困惑的术语，阐述 Uniswap 作为一个去中心化交易所如何在以太坊上运作。



去中心化金融（DeFi）- 去中心化金融指的是任何的不存在中心把关人且完全在区块链上运行的金融应用、交易所和系统。



如今，各式各样的区块链上活跃着数以百计（如果还未达到成千上万的程度）的 DeFi 项目，从去中心化交易所到借贷协议，再到期权和期货合约，应用范围很广。



DeFi 应用的首要目标在于重新思考：在没有中央银行掌控权力的世界体系中，如何通过去中心化的形式实现旧式银行系统提供的金融服务。



有案例给出了答案，读者可以试想一下在股票市场买进股票份额的情景。当 Sally 通过中介（Robinhood、 Charles Schwab 和 Vanguard 等）购买了一股特斯拉股票，这一股会辗转多个中介之手后Sally才能拿到。一般而言，当系统正常运行，这种辗转多个不同中介的行为不会被一般大众发现。但有时会发生糟糕的情况（例如，2008 年全球金融危机或是2021年的 Gametop 股票事件），导致系统崩盘（如出现负油价和交易被取消的情况）。



系统崩盘后，人们希望寻找这场混乱的罪魁祸首。可当他们开始掘地三尺的时候，却发现传统金融市场远没有他们所想的那样透明。



去中心化交易所（DEXs）- 它是首个主要的 DeFi 构建块。区块链激活了一种新型交易所，它无须经过不透明的中介环节和半官方机构，就能直接和智能合约进行交易。



还是举 Sally 购买特斯拉股票作为例子，她不再需要通过中介经纪公司（例如 Charles Schwab ）买入股票，这种中介会和做市商（比如 Citadel ）进行交易，两者都受到于美国清算所（如 DTCC ）施加的约束。而是和 Uniswap 智能合约做交易！智能合约的代码都是透明公开的，因此，她可以看到资金流动的过程，不会被非透明的中介蒙蔽双眼。



这些去中心化交易所运用区块链技术和经济激励，基本上为任意两种货币搭建了市场（比如 BTC 和 ETH ，或者美元和欧元等）。以下我将说明，作为占据市场份额最多的 DEX ，Uniswap  如何进行运作。



为了解这些去中心化交易所的运作方式，我们需要先界定一些额外的术语：



流动性提供者（LPs）- 在上面的 Sally 案例中，它所描述的不透明中介在传统金融系统中确实起到了有效作用：为系统提供流动性。而在传统的金融体系中， Sally 可以随时卖掉自己的股票，几乎任何时间或至少在常规的交易时间内都可以，因为中介便是雇来为 Sally 和其他股民提供流动性的人。



那么，去中心化交易所协议中的智能合约哪里来资产给它进行交易？答案是流动性提供者。DEX 给予个体通过提供流动性而获利的机会，当有用户与智能合约交易资产时，系统会给流动性提供者返利一小部分由交易产生的手续费。



对 LP 来说，最为知名的是 Uniswap 的模式，他们需要在智能合约中存款两种具有相同价值的代币对。再度重申， LP 把存款放进智能合约中，以获取一部分交易手续费。LP 可以将作为流动性存放进去的代币随时提取出来，但这样的话，他们显然无法获得未来交易费用上涨的分红。



自动做市商（AMMs）- 这是 DEX 的一种类别。自动做市商是指运用算法设置价格的智能合约。在此， Uniswap 的恒定乘积公式 ( x*y=k ) 最有知名度，然而这超出了这篇指南的范围。AMM 只是一种无需人为设置价格的公式或机制。



稳定币 - 稳定币是现实货币的数字化代表，它们代表着与其挂钩的货币的价值，只不过仅作为数字货币在区块链上流通。



DeFi 使得用户能够使用加密资产大展拳脚，却难以使用户和投资者在固定的价格范畴内管理自己的资产，这是由于加密资产的价格并不稳定。在去信任和去中心化的区块链上，稳定币作为一种波动较小的资产存在，同时还作为对比加密资产的参考价格。



通常来说，稳定币与美元挂钩，但也有其他的稳定币。不管是中心化还是去中心化的稳定币，每一种都有自己的机制，以维持它们与其锚定的货币在价格上的1:1挂钩关系。诚然，加密货币正在颠覆全球金融系统，然而主要的全球货币（如美元、欧元和日元等）作为参考价格依旧有效。



总锁仓价值（TVL）- TVL 是指锁定在特定平台的智能合约中的总额价值。TVL 概念也能应用在 DEX 智能合约以外的语境，因为除交易所以外的其他应用也可能会有流动性提供机制（比如借贷平台）。Uniswap 的总锁价值达几十亿美元，而 2022 年初以太坊上的各种应用加起来 TVL 超过了 1000 亿美元。



侧栏-Uniswap怎么运作？



首先，先谈谈用户体验。当用户想用 Uniswap（或其他交易所）兑换代币时，该用户只需在一个简易的前端界面进行操作即可，这个界面是 Uniswap 基于更加复杂的智能合约构建的。



如下图所示，用户可以把 ETH（或其他代币）兑换成其他资产，犹如使用自动贩卖机。用户可以连接钱包并将任意一种代币换成其他代币。非常简单！


* ![图片](https://user-images.githubusercontent.com/79394963/198794321-15f6cc5f-3efd-452d-9e82-d79f6f4be778.png)

图片
来源: Understanding Ethereum



然而，幕后到底发生了什么？一起看下图中的蓝色方框。这是 Uniswap 的智能合约，是流动性提供者存放其代币的地方（例子中用代币 A 和代币 B ）。

蓝色方框的左边描述了 LP 和质押池的关系；LP 存进两种资产，作为交换，他们会收到质押池代币，这种代币相当于流动性提供者可以赎回他们的质押资产的一个凭证。质押池代币可以随时赎回 LP 最初质押在智能合约的资产（在这里，交易者要警惕接下来提到的“ 无常损失 ”。）



上图中的另一端是用户。用户在无需接触质押池 LP 的情况下，进入界面并在质押池中将一种代币兑为另一种。并且，用户会支付一小笔手续费，它会均等地分给质押池中的所有 LP 。


* ![图片](https://user-images.githubusercontent.com/79394963/198794129-e00dba0f-81c9-4619-a4ec-63df090db79b.png)

图片
来源: Uniswap documentation



这种机制很酷。我在职业生涯的早期便开始学习金融知识，所以，当我了解到去中心化交易所时，它比比特币的“ 数字黄金 ”和以太坊的“ 世界计算机 ”隐喻更能使我兴趣盎然。



如果没有公链这种去信任基建的存在，那么 Uniswap 只会是黄粱一梦。还有什么是我们今天不敢妄想而明天却成为主流的？



截至2022年初，Uniswap 的月交易量约为 600 亿美元。



接下来提及的术语（以及文本中介绍性定义之外的内容）也许需要读者自行深入探索了。然而，它们也可能是新用户刚踏入以太坊圈子，就会接触到的第一批术语概念，因此，我坚信它们会极大地影响刚进圈的新用户，使他们困惑不已。所以，他们可以多看看文末的更多资料。



流动性挖矿 (Yield Farming) - 如名所示，流动性挖矿是指通过为 DeFi 应用提供流动资金的方式“ 收割 ”收益的行为。这些应用提供诱人的奖励作为使用的回报。如果有朋友向你透露其在 DeFi 的年收益率达到 100,000%，那他们说的就是流动性挖矿。



许多 DeFi 应用需要大笔资金注入平台（流动性，如前所述），作为体现其应用价值的关键功能，无论是什么功能（如交易资产、借贷等）。



这些 DeFi 应用只有两条路能走：筹募 10 亿美元并由应用提供流动性，或者给予流动性提供者以可观的奖励，并使这些流动性挖矿者成为平台的流动性提供者。



等一下？这些可观的奖励从何而来？



好吧，这些应用正在将这些高额奖励大肆宣传为新型激励机制，但现实是，这些奖励通常只是（昂贵的）客户购置成本。也就是说，这些应用的代币在某种程度上代表了应用的价值，而他们通过应用（客户购置成本）给用户分配奖励。这些奖励是原生代币与其他代币类型的混合产物。



因此，流动性挖矿指的是寻找这种收益并为最有机会获利的应用注入资金的实践，它几乎可以视作 DeFi 应用上的一种天使投资形式。



质押 - 这个术语用得五花八门，但实际上，质押仅是指在一段时间内锁住资产并从锁仓中获利。



一般，这个概念在中心化金融领域应用，用户质押代币以换取奖励，但是质押也能运用在其他领域中。许多 DeFi 协议利用质押方式控制其协议原生代币的流动供给，好比中央银行试图管控货币供给。激励投资者短期锁定自己的代币以期经济报酬，这听起来就像债券。



无常损失 (Impermanence Loss) - 这个概念指的是在供给两种以上代币的流动性时，流动性提供者需要承担的潜在风险。



在上文 Uniswap 的例子中，流动性提供者存入两种等值的代币到 Uniswap 上，并获得质押池代币。当 LP 想要提回资金时，质押池代币可以用于赎回自己的两种代币。



这里存在的细微差别是，LP 存款的两种代币都有各自的价格（还有价格波动）。当 LP 想用质押池代币赎回两种代币时，两者的价格可能已经是相去甚远：可能其中一种代币价格下跌了 5%，而另一种则上涨了 10%。



代币之间的价格差距也许意味着 LP 最好应当只持有一种的代币，而不要持有从交易费获益的质押池代币。重要的是，无常损失被贴上“ 非永久的 ”标签，是因为在LP 真正赎回质押池代币之前，这种损失只是“ 账面损失 ”。



也就是说，如果 LP 不选择赎回代币，而是继续提供流动性直到两种代币的价格相互靠拢，那么无常损失就消失了。



关于不同类型质押池的 DEX、LP 以及无常损失的优质初级读物可以在这里找到。Daily DeFi 上的无常损失计算机演示了几个例子。



Layer 2和权益证明机制



2022 年被俗称为以太坊的“ L2之年 ”，万众瞩目的权益证明机制的过渡预计在夏季进行。这个部分将深入讨论区块链的“ 三角悖论 ”、以太坊的未来以及 rollup 的运作原理。



区块链三角悖论 - 每一条区块链都涉及三种概念之间的权衡：去中心化、可扩展性以及安全性。一般的共识是（ 2022 年早期），以太坊在去中心化和安全性上做得较好，但在可扩展性上稍逊一筹（ gas 费用好高！呃啊啊啊啊啊！）。



希望在近期会有一些改进计划可以解决以太坊的区块链三角悖论。下面叙述了这三个方面的考量，对于理解三者的平衡对单条区块链的影响而言十分重要。



去中心化 - 比特币白皮书准确地解释了去中心化概念（我自己加粗强调了）：“ 只需要一个基于加密学证明而非信任的电子支付系统，允许任何两个意愿方在无需信任第三方的情况下，直接与彼此进行交易。”



区块链扮演了基础设施层的角色，使得全世界的用户可以使用自己计算机与彼此互动，而不用经过中介环节。



区块链的去中心化就好比一个光谱；如果区块链可以被少数用户关停，或者网络的参与成本过高（ gas 费用或配置计算机参与网络的成本），那么区块链则会向中心化的一端倾斜。中心化程度越高，权力垄断和剥削的风险也越高。



安全性 - 安全性是指基础链被外界攻击或控制的难度。有效的经验法则是 51% 的大多数原则；如果有人能够控制特定链上 51% 的处理交易的计算机，那他们也许可以非法入侵并损害网络的安全性。

这里有更深层的技术考量，但 51% 的占比帮助用户厘清安全性、去中心化和可扩展性之间的权衡关系。为特定区块链打包交易的独立计算机越多，表明其去中心化和安全性程度越高（更多计算机 = 有人控制 51% 的网络节点的概率很低）。



然而，网络中的独立计算机越多，也意味着每台计算机需要同更大的计算机网络进行交流，从而导致运行速度下降......



可扩展性 - ......网络运行速度下降意味着我们需要找到提高可扩展性的方案。当区块链上的交易需求变多时，网络也会随之变得异常拥堵。例如，以太坊也曾有过 gas 费疯涨的时期，尤其是网络需求爆满的时候。这些需求致使交易打包上链的成本水涨船高，同时造成网络拥堵、网络运行速度下降。



零知识证明 - 这个概念并非具体的扩容方案，但它是展开探讨扩容方案之前所要阐明的一个重要概念。零知识证明是一种无需获取特定信息就能验证事物有效性的加密学方法。



比如，假设我是一名 Craigslit 的买家，正打算从网络中的任意用户手里购买一台电视。这时，有人私信告诉我，他们手上有我正在找的电视，而他们的资料是匿名的。



作为一名买家，我希望在与卖家碰面之前，能确保他们真的有电视。但是卖家却不想将他们的个人信息（驾照、居家地址、室内的图片）泄露给网络中的随机用户。最重要的是，卖家也想要知道我是不是一个真人！但双方都不想分享个人信息。



通过零知识证明，我可以向卖家证明我是一个真实的人，在不告诉他们我是谁的前提下验证身份。另一方面，卖家也能证明他们确实拥有一台电视并且是合法的卖家，同样不用泄露任何敏感的个人信息。



这其中包含着错综复杂的加密学基元，因此，上文只是非常简概的介绍。大多情况下，零知识证明能够解决加密界中的安全性、可扩展性和隐私挑战问题。



Layer2 扩容方案 - 用户非常希望可以在以太坊上大展拳脚，因为它是世界上最为去中心化且最为资深的智能合约计算平台。以太坊已经吸引了分布最广的开发者网络，进行基于区块链的应用创建。但这些创建活动带来的后果是，打包交易到以太坊区块链的需求有时会造成 gas 价格过高，这也意味着以太坊用起来既慢又贵。



区块链的三角悖论暗示着，任何优化过安全性和去中心化程度的区块链，将在可扩展性上做出让步。由于去中心化和安全性对区块链的愿景承诺具有重要推动作用，所以可扩展性就成了最难解决的部分。以太坊将赌注压在了一大波改进浪潮上，希望由此解决可扩展性问题。



其中一种改进是，从用户先与以太坊区块链本身（即“ Layer1 ”）互动，改为与 Layer2 扩容方案互动。从根本上，这表明大部分以太坊主网上的交易和应用会转移到 Layer2 ，它继承了以太坊的安全性和去中心化，但却比以太坊本身的吞吐量高几个数量级。以太坊 Layer1 将会专门负责共识问题，而它的 Layer2 则会负责执行交易和代码。



Rollups - Rollup 会在其独立的区块链中处理一批交易。在自己的链上执行这些交易后，Rollup将所有的交易压缩成一个小型的信息数据包。这些小数据包会被“ 发送 ”到以太坊的Layer1，这表示Rollup 在继承了 Layer1 安全性的同时扩大了可以处理的交易数量 (因为信息被压缩了)。

这些小得多的交易信息包里包含着一些证明 (证明这些交易是基于以太坊的规则下处理的)。


* ![图片](https://user-images.githubusercontent.com/79394963/198793924-f04c33e5-32ed-4a8e-a75b-0754075976cc.png)

图片
来源: Understanding Rollup Economics



这听起来似乎是在去中心化上做出了妥协。但是 Rollup 一个关键的点在于以太坊可以只对证明进行验证，而不是对每一笔交易进行证明的工作，这节省了指数级别的工作量（因此让以太坊更加可扩展！）。



由于以太坊拥有决定 Rollup 交易是否可以发布上链的最终确定权，所以，在不向中心化妥协的情况下，所有的 Rollup 交易仍然由以太坊提供安全保障。



以下是各种类型的 Rollup 。主要的区别在于它们向以太坊证明交易有效性的方法。



Optimistic Rollup - 这种类型的 Rollup 会将交易证明的记录保存下来，在以太坊请求具体证明时，它才会向以太坊出示这些证明。



Optimistic Rollup 不会向以太坊主网证明每笔交易的有效性，而是在必要的时候提供证明，这促使可扩展性问题得到缓解。



ZK Rollup - 这一类Rollup 不会展示交易内的所有细节，而是利用零知识加密学的方式验证交易的有效性。上面已经解释过零知识证明了，而重点在于这些 Rollup 只展示更小的零知识证明而不是整个交易过程，由此节约了许多的区块空间。



分片 - 分片是指将区块链分割成小分片以减少拥堵的过程。分片促使以太坊更加容易访问。本质上，节点只需要存储他们所连接的特定分片的数据，而不是整个以太坊区块链的数据，这也让以太坊更加可扩展。



分片是以太坊区块链改进计划的一部分，将在The Merge之后发挥举足轻重的作用。



信标链 - 信标链是以太坊从 PoW 到 PoS 过渡的基础。现在，信标链和以太坊区块链并行运行，并且信标链引进了质押机制，这是向 PoS 过渡的前提。



很快，信标链会和现在的以太坊区块链合并，正式引入 PoS 共识作为以太坊区块链的共识机制，标志着以太坊未来的重要转折点。



The Merge - 以 The Merge 这个术语可以恰到好处地结束这篇指南。在接下来的几个月，以太坊主网和信标链将进行合并，这是区块链行业有史以来最为广受瞩目的事件。



仅在几个月后，以太坊的 PoW 时代就将迎来它的落幕，而这种共识机制转换的反响可能是异常轰动的。如果因为某些原因，The Merge 失败了，那么它必将引起整个加密界的轩然大波。但如果合并成功，这意味着我们离以太坊成为全球结算层这一天更接近了。



到这就结束啦！这是一篇入门以太坊的简易指南。



在深入了解特定的区块链特征之前，我们首先了解了区块链是什么以及区块链为何如此重要。



接着，我们探讨了一些构建在以太坊区块链上的拔尖应用；钱包、DeFi、DAOs、NFTs 。



之后，我们用以太坊的未来探讨来结束这篇指南，它主要探讨了权益证明共识机制的变迁，以及描绘了以太坊希望如何解决区块链的三角悖论。



所有这些定义都是复杂话题的简化版本，但我还是希望这篇指南可以激发读者们深入探索以太坊世界的欲望。在下文，我为那些希望进一步学习的读者收集了一些资料。如果你们希望向我提出问题或是给予反馈，来推特上给我留言吧！



 总体资料



➤ What is Ethereum? | ethereum.org 结合涵盖一些前沿话题的资料链接来学习这个话题

（https://ethereum.org/en/what-is-ethereum/）



➤ ETHHub - 这个社区保存着覆盖各式各样的以太坊话题的资源

（https://docs.ethhub.io/）



➤ Ethereum Foundation Youtube Channel - 以太坊会谈和社区开发者电话会议

（https://www.youtube.com/channel/UCNOfzGXD_C9YMYmnefmPH0g）



➤ Devcon archive - 每年Devcon会议的所有视频和谈话的存档资料

（https://archive.devcon.org/archive/）



➤ Scott Sunarto’s Working in Web3 Handbook - 包含许多话题的手册

（https://web3.smsunarto.com/）



➤ Blockchain@Berkeley Courses - 免费的加密货币在线课程

（https://blockchain.berkeley.edu/courses/）



➤ Finematics - 解释以太坊上许多话题的视频，如web 3, defi

（https://www.youtube.com/channel/UCh1ob28ceGdqohUnR7vBACA）



➤ Fellowship of Ethereum Magicians - 为加密货币社区提供一席之地的论坛，任何人都可以参加、创建话题以及主要探讨以太坊生态昔日的EIPs和技术难题。

（https://ethereum-magicians.org/）



➤ Ethereum Wiki - 囊括各种以太坊相关话题的以太坊维基百科。

（https://eth.wiki）







➤ Week in Ethereum News

（https://weekinethereumnews.com/）

➤ Paradigm Research

（https://www.paradigm.xyz/writing）

➤ The Defiant

（https://newsletter.thedefiant.io/）

➤ Bankless

（https://newsletter.banklesshq.com/）

➤ The Daily Gwei

（https://thedailygwei.substack.com/）

➤ The Block

（https://www.theblockcrypto.com/）

➤ Decrypt

（https://decrypt.co/）

➤ Dark Star

（https://darkstar.mirror.xyz/）

➤ Messari Research Hub

（https://messari.io/research）

➤ a16z Crypto Canon

（https://a16z.com/2018/02/10/crypto-readings-resources/）

➤ Linda Xie’s Beginner Guides

（https://linda.mirror.xyz/）

➤ Tim Beiko’s AllCoreDevs Updates

（https://tim.mirror.xyz/）

➤ Ben Edgington’s What’s New in Eth2 blog

（https://hackmd.io/@benjaminion/eth2_news/https%3A%2F%2Fhackmd.io%2F%40benjaminion%2Fwnie2_220520）

➤ Polynya – Medium

（https://polynya.medium.com/）

➤ Ethereum: The Infinite Garden (feature documentary film in production)

（https://optimist.co/films/ethereum-the-infinite-garden/）

➤ Gaby's Web3 Reading List



Podcasts




➤ Into The Bytecode

（https://open.spotify.com/show/5yEjxV7wEYwW6MiiIzzM5P?si=d555f82a9edf4298&nd=1）

➤ Bankless

（https://open.spotify.com/show/41TNnXSv5ExcQSzEGLlGhy?si=099c0a6ffaf148b9&nd=1）

➤ The Daily Gwei

（https://open.spotify.com/show/0BzTvU6TsW7uvPMpZAsf3X?si=3b4783dbc1f64bc7&nd=1）

➤ Into The Ether

（https://open.spotify.com/show/2CNyWXgKVxTqTlmLhc8A5m?si=f1aeb716d2bf4622&nd=1）

➤ a16z

（https://open.spotify.com/show/1cJrrfGY1SKBIRn5noKSAf?si=aa1b57afcf81460c&nd=1）

➤ Into The Ether

（https://podcast.ethhub.io/）

➤ Unchained

（https://open.spotify.com/show/1cJrrfGY1SKBIRn5noKSAf?si=aa1b57afcf81460c&nd=1）

➤ Epicenter

（https://epicenter.tv/）

➤ ZK Podcast

（https://zeroknowledge.fm）

➤ Uncommon Core

（https://uncommoncore.co/）

➤ Redefined Life

（https://open.spotify.com/show/5SSFcKNlaBPeqQbrNYV9It？si=uYbKljRLQ6mdzGMK9_2ihA&utm_source=copy-link&nd=1）



书籍




➤ The Infinite Machine

（https://www.goodreads.com/book/show/50175330-the-infinite-machine）

➤ Out of the Ether

（https://www.goodreads.com/book/show/55360267-out-of-the-ether）

➤ Mastering Ethereum (free online)

（https://github.com/ethereumbook/ethereumbook/blob/develop/book.asciidoc）

➤ Finite and Infinite Games

（https://www.goodreads.com/en/book/show/189989.Finite_and_Infinite_Games）



这篇指南的链接




➤ Graphical Guide to Understanding Uniswap

（https://docs.ethhub.io/guides/graphical-guide-for-understanding-uniswap/）

➤ Ethereum EVM Illustrated

（https://takenobu-hs.github.io/downloads/ethereum_evm_illustrated.pdf）

➤ Understanding the Ethereum Yellow Paper

（https://medium.com/coinmonks/understanding-the-ethereum-yellow-paper-f280800df590）

➤ Understanding Ethereum

（https://allan-gulley.medium.com/understanding-ethereum-819c2096b613）

➤ Punk6529 tweet thread

（https://twitter.com/punk6529/status/1461742366696652809?s=27）

➤ Understanding Rollup Economics

（https://barnabe.substack.com/p/understanding-rollup-economics-from?s=r）

➤ The Architecture of a Web3.0 Application

（https://www.preethikasireddy.com/post/the-architecture-of-a-web-3-0-application）






* 原文链接：https://mirror.xyz/brunny.eth/upIPESej7MjO2rFijwQyx8NBel845fIPV9J5G0Vn4cE






 

 

 














# 05 区块链的理论视角



区块链的发展离不开经济、社会等方面的帮助，在经济学方面，2015年10月，《经济学人》杂志封面用“信任的机器”和有可能改变经济运行的方式，表达了在区块链的条件下，信任可以不再依赖于血缘关系、社会关系和组织关系，也不再依赖于第三方监督和司法体系的威慑，而是依赖于机器算法，解决了假冒伪劣、中小企业贷款融资难、银行风控难、部门监管难等问题，为打造便捷高效、公平竞争、稳定透明的营商环境提供动力，为推进供给侧结构性改革、实现各行业供需有效对接提供服务，为加快新旧动能接续转换、推动经济高质量发展提供支撑。



在社会学方面，在数字经济时代，人类的经济社会活动已经开始由现实的物理世界向网络空间的数字世界迁徙，随之而来的是隐私侵犯、数据泄露、信息篡改等问题频繁发生。而区块链的去中心化、不可篡改、可追溯等特点，正好保护了数字世界里的网络诚信、隐私自主、价值激励、安全运行等，为网络环境下的社会发展提供了保护机制。



在哲学方面，生产力和生产关系历来是讨论的重点问题。区块链作为一种以去中心化方式集体维护可信数据库的技术，可以保证数据安全、解决信息孤岛、提升工作效率，提高生产力。同时，区块链作为一个可信任的交换网络，实现个人、机器的数据确权，使人们在生产中的地位和相互关系处于平等地位，个人具有数据产权，享受数据收益、分红等权益，改变生产关系的模式。


在区块链行业，随机数虽小，但一刻也不容忽视。



去年 EOS 菠菜类游戏 Eosbet 就曾因随机数攻击损失了高达 18 万个 EOS，EOSDice、FFgame、FairDice 等也深受其害。此外，以太坊在由工作量证明（PoW）转向权益证明（PoS）过程中的安全性保障，也与随机数问题息息相关，比如防止 PoS 验证节点利用随机数进行作恶等。事实上，以太坊 2.0 的安全性确实是业内人一直关注的话题。

以太坊为此做了巨大的努力。近日，以太坊基金会联合 Interchain 基金会、协议实验室（Protocol Labs）、Synopsys 等，在亚马逊云服务（AWS）的帮助下发起了一个求解 VDF（可验证延迟函数） 的 FPGA 编程竟赛（详见文末），赏金高达 10 万美元（约合 70.64 万人民币），旨在解决随机数“不随机”的问题。谜题如下：

由给定的 1024-bit 输入 x，尽可能快地计算出 VDF ' h=x^(2^t) mod N '。


VDF 是什么？与区块链有何关系？简单来讲，VDF 是一种抗并行计算的谜题函数，其中一个用处就是保证‘很高安全性的随机产生’，并且其他节点可以以很低的成本去验证这个随机数的正确性。尽管破解这一难题并非易事，不过一旦解决，必将会对以太坊乃至整个区块链生态产生积极的影响。或多或少，这个谜题在一定程度上影响着以太坊 2.0 的未来。

区块链与随机数


“随机数，是专门的随机试验的结果。”这是百度百科对随机数下的定义。但就是这个小小的随机数，事实却证明，它对区块链的安全性至关重要，甚至可以直接决定一个项目的生死。


真正的随机数只存在于物理世界中，比如掷骰子的结果。但从目前来看，区块链世界没有真正的随机数。长期以来，密码学家一直在研究生成一个真正的随机数，但即使在一台单独的计算机上也很难实现，区块链网络中随机数的生成则难上加难。随机数是区块链游戏的灵魂，但很多区块链游戏因随机数漏洞面临着生死的危机。



去年，“随机数”的概念一度因 EOS 游戏类 DApp 屡屡被黑而火了起来。菠菜类游戏 Eosbet、FFgame 和 EOSDice 就是三个实际的惨例。

2018 年 9 月 12 日，菠菜类游戏 Eosbet 遭受随机数攻击，损失约 42000 个EOS。Eosbet 游戏在开奖时使用了 EOS 中一个名为 ref_block_num 的随机数因子，但在游戏开奖时合约中还是读取了老区块中的值，因此导致随机数被预知，进而被攻击。

仅仅过了一个月，Eosbet 便再次遭受随机数攻击，损失高达近 14 万个 EOS。尽管 Eosbet 开发者在修改了上一次的问题后引入了一个新的参数，将用户余额作为随机数因子，但攻击者却利用这一点模拟了完全一样的 DApp 代码，然后不停修改余额去尝试解开开奖逻辑，直到碰撞出开奖结果，进而成功实施了攻击。


无独有偶，2018 年 11 月 4 日，同为菠菜类游戏的 EOSDice 也遭受随机数攻击，损失近 2500 个 EOS。攻击者获取正确的随机数种子，通过伪随机算法计算出了游戏结果，然后根据结果下注，保证了百分百的胜率。

一周后，攻击者再次攻击了 EOSDice，此次损失近 4900 个 EOS。攻击者在知道伪随机算法和种子来源的情况下，通过改变种子的数值让伪随机算法计算出自己下注的游戏结果，从而保证了百分百的胜率。

如果选出一个史上最倒霉的 DApp，FFgame（一款 EOS 竞猜类游戏）无疑是一个很合适的选择。2018 年 11 月 8 日，FFgame 游戏在尚未正式运营时就遭受了随机数攻击，损失 1331 个 EOS。攻击者通过部署攻击合约并在合约中使用与 FFgame 相同的算法计算随机数，随后立即在 inline_action 中使用随机数攻击合约，导致中奖结果被“预测”，从而达到了超高中奖率。

此类事件数不胜数，可以说随机数的一小步，就是区块链安全的一大步。
 2.0


不只 EOS 饱受随机数问题的困扰，以太坊同样也不例外。

如今以太坊正大步向前，迈向以太坊 2.0 阶段，这其中一个必经的过程就是由 PoW 转向 PoS，但 PoS 并没有想象中的那样安全，会存在验证节点作恶的行为。因为在 PoS 系统中，网络上的任何节点都可以是验证者，但只有一定数量的正式验证者，同时这些验证者是随机选择的。一旦随机，就存在作恶的可能。

以太坊 Go-Ethereum 核心开发者戎佳磊（Gary Rong）向 CoinDesk 中文 表示：

“以太坊 2.0 提出了分片技术（Sharding）的概念，原先所有的交易都需要被整个网络的节点验证，节点越多，网络就越安全。但在这种模式下，整个网络的节点所能够处理交易的数量是固定的。Sharding 的理念是，让网络节点的一个子集去验证一个分片的交易。这样随着节点数目的增加，整个网络可以水平扩展。但这也就意味着原先一笔交易需要 N 个节点处理，现在是 N/L（L 是 shard 的数目）个，安全性是下降的。”

此外，Gary 还表示，“为解决这个三难问题，其中一种思路就是让 N 个节点随机划分到 L 个 shard（分片） 中。假设整个网络最基本的安全假设是网络中至少超过 1/2 节点是诚实节点，那么一个 shard 中被随机分配的节点数目超过一定数量，例如 P，那么这个 shard 中恶意节点超过 1/2 的概率就会小于 1/2^(x)（可以根据概率论进行计算）。但其中最关键的一步就是要保证验证者（validator）的随机是“真正随机”，而现在的很多随机方法都易受控制（比如矿工）。”

也正是为了致力于解决这一作恶的问题，以太坊基金会才联合了 Interchain 基金会、协议实验室（Protocol Labs）、Synopsys 等，在亚马逊云服务（AWS）的帮助下，发起的求解 VDF 的 FPGA 编程比赛，目的就是想解决这一问题。


VDF 的计算很大程度上是串行的，所以给定一个函数，求解函数的值需要至少经过一定的时间。

对此，区块链资深开发者郑旗表示，“这种函数用于区块链技术中，有很多好处，主要是提升区块链的安全性，比如用于随机数的生成，攻击者知道随机数的结果必须经过很长时间，想要再回去作恶修改随机数输入的可能性很低，这就保证了区块链中随机数生成的安全性。”

针对 VDF 对以太坊的影响，Gary 表示，“VDF 其中一个用处就是保证‘很高安全性的随机产生’，并且其他节点可以以很低的成本去验证这个随机数的正确性。有了 VDF，以太坊的验证者就会以‘高安全性的随机方式’被分配到 shard 上，也就一定程度上实现了‘shard 之间共享网络安全’的目标，降低了验证者作恶的可能性。”

此外，Gary 还谈到了本次 FPGA 编程比赛设置的初衷，“VDF 期望把计算目标跟计算时间 T 较为严格地绑定在一起，所以现在大家想要找到一个数学模型，找到一个能够符合上述要求的计算公式。目前较为认可的方案是基于阶数未知的阿贝尔群（Abelian Group），这是高阶数学的东西，'h = x ^（2 ^ t）mod N' 只是其中一个 VDF 的候选公式。所以这次 FPGA 编程比赛的目的是希望有人能够最大程度地去做优化。”



“一旦这一难题得以解决，必将对以太坊、EOS 等公链生态产生积极的影响。可以从两方面来解释：从基础链方面讲，可以提速、降低能耗、增加安全性；从 DAPP 方面讲，目前不论是以太坊还是 EOS 都没有真正的随机数（EOS 上的菠菜类游戏深受其害就是实证），VDF 可以较好、较安全地解决此类问题。”志顶科技技术总监吴忠信说。

CyberMiles 首席科学家 Michael Yuan 对此表示了认可，“VDF 算法使得用‘假随机数发生器’也能产生安全的随机数，而且是用去中心化的方法，不需要超级节点，未来会赋能更多新的应用。比如菠菜类游戏，必须有安全的随机数。现在菠菜类游戏，尤其是 EOS 区块链上的菠菜类游戏经常受攻击，就是随机数可以被猜中。以太坊 2.0 的分片与各种奖励机制，也是要求做恶的人不能很简单地猜出随机数。”

区块链资深开发者郑旗认为，“此次以太坊基金会等组织悬赏重金面向全社会征集 VDF 函数的最快 FPGA 解决方案，其实是想从侧面证明 VDF 函数的安全性。理论上 VDF 函数求解由于其对并行计算的抵抗，所以它计算结果和时间因素是有关系的。通过设计 FPGA，求解该谜题的最快解，理论上找不到低于预设时间数量级的解。这场比赛的最终结果可以佐证 VDF 函数的安全性。因此，将这样一个安全的技术应用于区块链技术，就可以解决区块链中的随机数生成攻击、Nothing-at-stake 攻击等问题，会对区块链的发展会产生非常深远的影响。”

“但这种数学问题都很难，因为连有没有解都不知道。”Michael Yuan 补充道。


什么是合并？



更多信息可以在网站 ethmerge.com 中查看，所以这一部分我不会花太大篇幅



合并后，以太坊将由 PoS 共识而不是 PoW 提供安全保障。



合并后不是 “Eth 2.0”，没有 ETH 2.0 这一说法了，这是个过时的词汇。



如果你现在正持有 ETH，那么你什么都不用做。合并后你还是持有着一样多的 ETH，不会有 "ETH2 代币" 这样的东西，不需要迁移任何东西等等。所有东西都保持不变，只有底层的共识机制改变了。



之所以叫做 “合并” 是因为该升级会将信标链 (共识层) 和目前的链 (执行层) 合并起来，并废弃执行层 PoW 的部分。



“共识” 只是一个花哨的词，它确保对交易进行排序并且从经济上保证该排序不会改变。PoW 和 PoS 通过不同的手段实现共识：

➤ PoW：“扰乱区块排序的成本太高了，按照规则参与更加有利可图。”

➤ PoS：“扰乱区块排序的成本太高了，因为如果我这样做，我会损失所有质押的资产。”



因为只有共识机制发生改变，所以 PoS 本身将不会大幅地降低 gas 费。



为什么要合并？



维护安全将需要更低的成本，因为需要消耗更少的能源来实现共识了。

➤ PoW：需要矿工能够至少覆盖所有硬件和能源使用的成本，否则没人会挖矿。这就需要大量的发行量，并迅速出售以换取法币来支付账单。

➤ PoS：只需给质押者一些收益，让人们愿意存入资产而不是直接投资到其他地方。除了一台普通的电脑和稳定的网络连接之外，没有昂贵的账单需要支付，所以收益率只需反映所涉及的机会成本和风险。



更加可持续：



➤ 一条区块链的安全性基本上与它的币价成正比。这对 PoW 和 PoS 来说都是如此：前者 (更有价值的代币奖励 = 遵循规则的理由更充分 = 更多矿工 = 更难破坏共识)；后者 (更有价值的质押代币 = 更加遵循规则以避免损失质押代币)。



➤ 新发行的代币本质上是将价值从所有持币者手中夺走并重新分配给某些人。在其他条件相同的情况下，将代币转换成法币可以从网络中提取价值。



这将会为许多扩容解决方案做铺垫，有数据分片、无状态、轻客户端以及更多



通过分开执行层和共识层之间的负责内容，能够帮助减少代码更新的一些复杂性。



支持环保和安抚玩家当然是一个很好的附带作用，但并非切换到 PoS 的主要原因。因为这主要由外部因素影响，而以太坊作为一个协议并没有太多控制权 (如能源生产的来源、GPU 供应链等等)。



什么时候合并？



正式的日期还没有公布。只是开发者们和社区谨慎而乐观地表示希望在六月进行合并，原因参考文章《以太坊合并将于 2022 年 6 月发生的五个信号》。

测试仍然在进行，在开发者们完全有信心保证不会出差错之前，是不会进行合并的。

我个人不会寄希望于在 6 月实现合并，但我肯定这会在夏天实现，除非在测试过程中出现了非常严重的错误 (例如，一个关键的错误需要数周的时间来修复，规范本身如果出现漏洞需要数月的时间来修复和重新实现)。

难度炸弹设置在六月爆炸，所以那时将进行一次硬分叉升级，无论是否合并。

我建议大家收藏 wenmerge.com 这个网站，以快速查看每个测试网合并的最新状态，以估计主网合并情况。



别傻了，他们会像以前一样推迟的。早几年前就承诺要合并了，但现在还没推出



首先一些无用的废话：正式的合并日期还没宣布，并且从来都没有宣布过。截止日期从来没有定过，何来推迟一说？



而引用 “以太坊将于 2018 年切换为 PoS” 的这句话源于一种极端乐观的态度，不但低估了 PoS 安全设计的复杂性，还低估了从 PoW 向 PoS 安全过渡的复杂性。当时所做的工作相当于部分完成了 Casper FFG 的规范，一种混合 PoW-PoS 的机制，最终被废除了。但现在有很多不一样的设计。这些新的设计在当时都不适用，但现在却适用。



➤ 经过多年的研究、对可能的攻击载体进行了分析、不断地完善后，写出了完整的协议规范

➤ 客户端实现全部已完成，现在就剩下测试了

➤ 所有人的工作都围绕着合并进行，除了合并之外，基本没有其他工作正进行。合并所需要做的必要准备步骤都已完成。并不是说 “他们已经完成了像 EIP-1559 这样的复杂工作，所以现在可以把更多注意力放在合并上”，而是说 “所有的注意力都会集中在合并上”。不可能出现这样的情况：合并 “再次被推迟”，开发者又开始另外的工作。在合并完成之前，没有其他事情可以做。

➤ 自 2020 年 12 月以来，PoS 实际上就一直以信标链的形式运行着。这意味着以太坊的 PoS 已经以产品的形式测试运行超过了一年，目前信标链上的质押资产超过 1000 万 ETH。只是现在的 PoS 还没有为执行层生产区块。



一旦质押的 ETH 资产能解锁了，价格就崩了



当然了，许多质押者最终都想要获利，尤其是那些在 32 个 ETH 仅价值 1 万美元时就锁定质押的人来说。但还是有很多需要考虑的其他方面：



合并不会解锁任何 ETH。提款将在合并后的第一次硬分叉中进行，可能是 6-8 个月后。这几个月将不会有 PoW 的代币增发 (约增发 1.3 万 ETH/天) 被抛售，也暂时不会有 PoS 的代币增发在市面流通。



就像质押 ETH 需要排队一样，提款也要排队退出的。假设到时出现大规模的抛售情况，每个人都在这条队列中，退出速率限制在 1125 名验证者/天。所以并不存在 “打开水闸” 的时刻。所有质押者解锁完毕需要一年多的时间。一年的时间里，每天约有 3.8 万 ETH 重新流入市场 (或者...大约是日均交易量的 1%)。



合并后，验证者也将开始接受费用奖励，据估计，收益率会翻倍。(合并后的 ETH 发行量以及质押收益率估算)。现在有成千上万的人正在排队加入质押。他们既然接受 5% 的年化收益率，我不认为等到年化收益率变成 10% 时他们会放弃继续质押。



到目前为止，质押所涉及的最大风险就是合并。一些灾难性的事件可能会发生。然而，尽管有这些风险，尽管解锁 ETH 的日期还不确定，但人们已经质押且锁定他们的 ETH 超过一年了。有多少人/机构正在一旁观察着，等到这种风险消失了再加入质押大队？



还有不要忘了，质押者退出意味着更少的验证者，也就是说没有退出的验证者会有更高的收益率。同样，对于那些以前没有参与过质押的人来说，更有动力加入质押了。



但是，当然，这是加密货币，并且它作为加密货币的属性是不会变的。合并会带来一些让人兴奋且不稳定的可能性，或者可能会有利好消息出尽的下跌，谁知道呢。我不会假装我能预测未来，但在我看来，可能会有更多 ETH 加入质押，而不是退出。



如果 PoS 那么好，为什么以太坊不从一开始就用它？



PoW 容易概念化和实现，PoS 则比较难。尤其是在 2014 年的时候，它主要是一个仍在研究的理论概念，有一些区块链实现了某些版本。



在考虑实现 PoS 之前，从研究的角度来说，还需要克服几个基本的问题。



并没有一个通用的 PoS 方案。每一条 PoS 区块链都有自己的 PoS 规范，并且各方面都有优点和缺点。所以很多人说 “其他区块链做到了，为什么以太坊不能做同样的事情”，这没那么简单。



从 PoW 链开始有一个好处，那就是让任何人可以无需许可地挖矿。这样使得以太坊的代币分配方式会比那些从一开始就是 PoS 的链要好得多 (它们还得决定如何分配初始代币，而分配方式真的没法实现无需许可)。



与上述有关：没错，以太坊还是有预挖/预售的，但是经过多年的挖矿和多轮牛熊周期使得 ETH 在不断易手，预挖的代币现在已经稀释到总供应量的一半了，排名前一万的 ETH 持有者持有量占比接近前一万的 BTC 持有者持有量占比。因此，在 2022 年，当以太坊作为一种流动性极高且易于购买的资产时，这并没什么大不了。



这真的是一个诡计，毁掉了矿工多年来的努力



自发布以来，PoS 一直都是以太坊最终的目标，每个矿工都知道总有一天会结束。这里不存在骗局或是不公平的情况。



经济因素胜过任何形式的矿工对于区块链的忠诚度。你可以把区块链看作是一家公司，而矿工是雇员。 



➤ 矿工/雇员所提供的服务 (即提供安全的共识) 已经以区块奖励的形式获得了报酬。工资由雇主 (区块链) 支出，通过稀释持有者现在手上代币的价值获得 (见上文 "为什么要合并？")。



➤ 矿工一般会找提供最高奖励的链，如果另一个可由 GPU 挖出的代币给了更多的奖励，他们中的大多数会立刻抛弃以太坊。



➤ 同样地，如果质押者能以更低的价格完成其提供的服务，以太坊也会支付更少的费用。



这并不完全是排他性的。矿工也可以是代币的持有者区块以及区块链的使用者。没有什么能阻止他们持有他们获得的奖励并参与质押。



如果你没有消耗现实世界的能源来进行挖矿，代币就失去了其固有价值



我不太同意这种说法。反复计算哈希值，直到你找到一个符合任意要求的哈希值，这没有什么神奇之处。我的意思是，假设有一条 PoW 区块链，其中工作是通过解决数独谜题来完成的；而这样运作也完全一样：在 NP-完整问题中，很难计算出其中一边的值，但一旦找到某边的值，就很容易验证。这并不意味着解数独本身就能为世界带来价值。提高某种代币的的挖矿难度并不会神奇地让每个人都变得更富有，它只是让挖矿的利润降低 —— 当然，除非需求也上升，但到目前为止，这在加密货币世界中还不是一个太大问题。



我认为某个代币的价值最终来自于供应和需求，而需求来自于区块空间的价值。人们需要 ETH 来购买区块空间，无论 ETH 是由矿工还是由质押者产生的。当然，矿工越多，安全性/去中心化程度就越高，在正反馈循环中进一步提高了区块空间的价值主张。但这种反馈循环也存在于 PoS 的以太坊中，而且它们也超级酷!



PoS 就是一份为完全中心化准备的食谱



它基本上与 PoW 一样，但略有不同。“更好” 或 “更坏” 真的取决于你的看法。在我看来，PoW 实际上只是实现 PoS 的附加步骤。



以太坊作为一个社区高度重视去中心化，对于任何潜在的中心化矢量，研究团队都会想办法减轻。即便代价是牺牲其他重要的东西，如可扩展性 (比如，将 gas limit 限制在比较低的水平，以便更多的节点可以参与到去中心化的网络中，即使这会导致网络拥堵和交易费用高)。



目前确实存在一些缺点，去中心化是一个频谱和过程，我们还没有达到这个目标。现在我们还依赖于许多中心化的东西，而从长远来看这些都需要逐渐被取代。也就是说，这些中心化的阻碍都不代表网络存在的风险，实际上，针对 “由于 X，这个网络是中心化的” 的说法，在 Vitalik 最新发布的路线图中都会有相应的解决方法。我个人认为想出一堆方案来解决 X 问题，比直接放弃去中心化并说 “由于 X 问题，我们无法实现去中心化” 更令人兴奋。



* ![图片](https://user-images.githubusercontent.com/79394963/198819897-a58c9b19-d2e0-492d-8023-bbecdb04d6f8.png)

以太坊协议开发路线图



关于以太坊的 PoS 设计，有一些有趣的东西经常被忽视：二次方惩罚。单个验证者节点宕机、出问题或直接攻击网络并不会受到很严重的惩罚。而如果一千个验证者同时这样做则会受到更严重的惩罚。



➤ 也就是说，如果你是一个运营着数千个验证者节点的大型机构，为了你自己的利益着想，你最好将它们分散开来，避免使用云托管，并使用不同的客户端等等。当然，资产还是集中化的，但至少故障点是分散的，这有利于网络的整体健康状况。



➤ 一些大型的挖矿实体依赖于某个中心位置以摊销成本，当局可以根据能源使用情况监测到具体位置，并且可以关停它们。在全世界范围内转移挖矿设备是很难的，但是质押仅依赖于私钥/公钥和消费级的计算机。



PoS 实际上是让 "有钱的更有钱"



是的。不幸的是，我们生活在一个财富极度不平等的世界。区块链并不能解决这个问题。



这对 PoW 来说也是如此。谁有钱就可以购买更多的矿机，赚更多的钱。除了挖矿，投资回报率也会受规模经济效应影响：集中化的挖矿业有大笔资金以一定的折扣率购买硬件，并搬到电费便宜的地方运作。个人矿工在现实中根本无法与其竞争。而在 PoS 中，无论他们的质押金额是 10 美元还是 1000 万美元，每个人都能按比例获得相同的收益率。



"这些大型挖矿业可能是中心化的没错，但他们没有理由攻击网络，因为他们在基础设施上投了数百万美元......”。所以你的意思是，你对大型中心化运营者的存在没有意见，只要他们在网络中占有某种程度大的份额吗？



这是你存款的被动利息？凭空印钞票？这不就像中央银行增发法币一样吗



你得延伸来说才能得出这样的观点，但我已经看到人们这样做了(笑)。这些观点通常从 “PoS 并不是什么新鲜事” 开始。



验证者还是有在进行一些 “工作” 的：创建区块和验证其他区块。只是这些工作完全由实际有用的工作组成 (区块链需要达成共识)，而不是一遍又一遍地计算哈希值，直到其中一个满足任意的要求。



这并不是真的 “凭空印出的免费钱”，质押资产中仍然涉及成本，只是与能源账单相比，它们更抽象、更不直观而已。



➤ 机会成本 —— 如果另一项投资能给你带来更高的收益率，为什么还要质押？

➤ 流动性差 —— 从你存款的那一刻起，你的资金就被锁定了，排队等待你的验证者激活，然后当你提款时，又要排队才能提出。

➤ 固有风险 —— 质押仍然是一个相当新的东西，过程中可能会出问题。可能会出现一个关键错误，网络可能会受到攻击，你的质押硬件可能会损坏等等。

➤ 波动性 —— 毕竟它仍然是一种不稳定的资产，如果你是那种以本国法币计价的投资者，那么当资产一夜之间可能下跌 30%，而收益率可能只有 5% 时，这并没有很吸引人 (不过，一旦资产翻倍了，5% 的收益率是非常不错的，将 100% 的收益变成 110%)。

➤ 维护成本 —— 你仍然需要维护你的验证者节点并保证其安全性，确保 100% 的正常运行时间，更新软件，等等。



这里有个有趣的地方：质押者越多，个人获得的质押奖励就越低。这基本上意味着，上文所罗列的所有成本将由市场本身来定价。原因很简单：如果质押收益率太低，获得的奖励不够维护成本，那么人们就会退出质押并投资于其他地方。质押的人少了，收益率重新回升。同样，如果收益率太高，也会吸引更多的资本加入，收益率又降落下来。



至于通胀情况：假设市场整体来说，理想收益率是 5%，其中 3% 来自代币增发。这样算下来，每年大约有3000 万枚 ETH 质押、增发 90 万 ETH。在总供应量为 1.2 亿枚 ETH 的情况下，通货膨胀率为 0.75%。只要 gas 费至少有 23 gwei，通胀率就低于 EIP159 的带来的 ETH 销毁率。(这点我再强调也不为过：以太坊很快就会成为一种有收益的通缩资产)



“算数不错，但没有供应上限，而且他们总是改变货币政策”

➤ 多年来，目标一直是 "在确保网络安全下，实现最低可行发行量"，相比于设定一个任意的供应上限，以太坊优先考虑网络的安全性。

➤ 至于货币政策的改变，没有一个更新是提高通胀率的。从第一天起，低通胀率 (尤其是通缩) 就是社区的目标。

➤ 一旦 EIP-1559 的销毁率与发行率相匹配，就会出现一个作为有效供应上限的平衡点 —— 再次由市场力量对以太坊区块空间估值来决定。



所以，不存在一个 “以太坊中央银行” 这样的东西任意调整通胀/通缩率并向亲信印钱。市场本身决定通胀/通缩情况，没有一个实体可以像中央银行控制法定货币的通货膨胀率那样控制它。



巨鲸拥有足够多的资金控制和改变规则，并罚没诚实的验证者



不存在这样的风险，以太坊没有任何形式的链上治理，就是因为这个。协议的更新是社区共同努力的结果 (Layer 0)，你不需要质押任何资产来报告一些不好的注意并参与这个过程。



这方面完全与 PoW 一样：即便你拥有 99% 的算力，你也不能在没有私钥的情况下进行无效的交易，窃取他人的资产或者改变协议规则。除了重组区块之外，无法真的做什么。1% 的诚实节点将拒绝任何不遵守规则的区块，那么作恶者就会在一条无效/无用的链上挖矿。PoS 共识下也是如此，现在只是把“算力/挖矿”换成“质押权重/质押” (不同的是，重组区块的作恶者被发现了会被罚没掉所有质押资产，然而区块链不能完全摧毁挖矿的设备)。



简单地说，链上涉及到大量的 ETH。目前已超过 1000 万 ETH，而且是在合并之前。按照目前的价格，大约是300 亿美元。“质押的 ETH 数量” 和 “ETH 的价值” 预计都会上升，所以攻击变得越来越不可能，因为发起一次攻击的经济成本太高。而且如果攻击者来自以太坊之外，首先要获得这么多 ETH 是很荒谬的 (你在哪里买到 1000 万枚 ETH 来达到 51% 的质押占比？又或者 2000 万？）



32 枚 ETH 太多了，一般人没那么多钱



我同意这是一个很大的问题。这里有一些降低质押门槛的提议 (更好的签名聚合或设定活跃验证者上限和轮值机制)，但它们目前的优先级别似乎并不高，更重要的是确保基础层可以很安全。



之所以需要那么高的 ETH 质押数量，是因为这个数值需要刚好满足一个技术点。简而言之，需要低到一个点让大家可以参与，并有足够的验证者来保证区块链的安全；但又要足够高，以免有太多的验证者，使区块链的开销过大。并且每个验证者节点的质押数量相同，这样每个验证者在分布式随机过程中决定谁生产区块时拥有完全相同的权重，减少了很多复杂性。



从技术角度来看，得出 32 个 ETH 这个门槛涉及大量的数学计算，当时 32 个 ETH 价值约 7000 美元。早期于 2017 年的数学推算甚至建议最低超过 1000 ETH。



值得庆幸的是，就像 PoW 中矿池，PoS 也有质押池以允许质押小数额的 ETH。这并不一定与 “不是你的私钥，不是你的代币” 的口号相悖，这要感谢像 RocketPool、Secret Shared Validators "秘密共享验证者" (尚未推出) 这样的方案，它们利用智能合约来实现无需许可、去中心化和非托管。而且由于上面提到的二次方惩罚，我相信从长远来看，去中心化质押会由于中心化质押方案。我推荐 大家阅读 superphiz 的质押指南以获取更多信息。如果你重视去中心化，通过交易所参与质押是非常糟糕的。



与上文相关，我们最好将 Rocket Pool 这样的方案看作是基础质押的一种更高层次的抽象，而不只是一个 “质押池”。我在这里写了更多相关细节，供感兴趣的人参考。



PoS 还未被证明是否行得通，但我们知道 PoW 是有效的



这论点实际上完全合理，显然我们没法真的反驳这个说法。只有时间会告诉我们。我只是认为，在以太坊正在切换为 PoS，并且一直以来都决定切换的背景下，这个论点是不相关的。如果你不相信它，就不要参与/投资它。我个人相信一个长期可持续的 PoS 以太坊。



这些都是我们人生中伟大的加密货币实验的一部分。要么它只是昙花一现，并且最终以失败告终以至于最后无人知晓，这将是一个遗憾；又或者我们将成功地创造出能够长存于人类文明的强大网络。为了实现这一目标，优先考虑去中心化是关键。我主要在比特币和以太坊中看到去中心化这种东西，尽管它们的理念大不相同。这就是为什么长期来说，我很乐意地看到这两者最终会如何发展。

原文链接：https://www.reddit.com/r/ethereum/comments/tijcq1/stuff_rethereum_should_know_proof_of_stake_edition/














06

区块链产业链


区块链产业链可从上、中、下游三层展开。

区块链产业链上游为区块链底层技术和基础设施层，其中包括基矿机、芯片等硬件企业，以及基础协议、底层基础平台等企业和研究机构及高校。区块链底层技术和基础设施代表的是能够提供区块链最底层的协议代码和基础硬件设施，是保障区块链应用落地的关键所在，有了优良的底层技术和基础设施，才能保证区块链的算力、存储实现高度运行的效果，才能保障用网络编程、分布式算法、加密签名、数据存储等技术构建网络环境健康发展。


区块链产业链中游聚焦于区块链通用应用及技术扩展平台，包括智能合约、BaaS、信息安全、数据服务、解决方案等方面。通用应用和技术扩展层主要是利用区块链的分布式技术、密码学技术、共识算法技术、智能合约技术等，同时也可以融合大数据、人工智能、云计算等信息技术，为区块链产品提供更加明确的研究方向，以便达到区块链产品更加实用、方便的使用效果。

区块链产业链下游聚焦于行业应用，根据用户（个人、企业、政府）需求定制各种不同种类的区块链行业应用，主要面向金融、物联网、医疗、供应链、能源、法律、农业等行业。区块链垂直行业应用层是为了实现在信息全球化和数字经济盛行发展的时代，以互联网技术为基础的跨境支付、供应链金融、存证、溯源、版权保护等场景的实现，改变传统商业模式，实现新时代下的实体经济赋能。

* ![图片](https://user-images.githubusercontent.com/79394963/197334588-85e67b75-258c-405b-b3cd-29b91168d1a2.png)


* ![图片](https://user-images.githubusercontent.com/79394963/197334607-866c1eba-9b29-4761-8aff-6e0a0b44de30.png)

* ![图片](https://user-images.githubusercontent.com/79394963/197334626-83276f94-73f9-4208-8135-cbba45580a3a.png)

* ![图片](https://user-images.githubusercontent.com/79394963/197334642-7f7e0f12-0145-4a41-9990-47fb40e0172c.png)

* ![图片](https://user-images.githubusercontent.com/79394963/197334648-deff19ef-f00d-42f8-9ff0-a9babfcf3b5d.png)

* ![图片](https://user-images.githubusercontent.com/79394963/197334659-a9450cbc-b965-4caa-b37c-723a81d45ab8.png)

* ![图片](https://user-images.githubusercontent.com/79394963/197334669-cba802cd-bafa-4803-9906-92215cf1b89c.png)

* ![图片](https://user-images.githubusercontent.com/79394963/197334684-5215e878-6c58-43f7-8fc9-888bb85ee7a8.png)

2016、2019、2021是三大关键时间点

2014年行业开始发展：Facebook、微软、索尼、三星、HTC 等大厂入局，2015-2016年市场热度达到阶段性高点；

2016-2018年进入低谷期：2016年，VR/AR行业的火热昙花一 现归于泡沫，主要系技术发展仍处于初级沉浸阶段；

2019年跨越低谷开始复苏：随着VR/AR技术持续进步、5G部 署，Oculus Quest、Valve Index等发售，尤其是Facebook 推出的Oculus Quest带来体验的大幅提升。

全球销量第一的 Oculus Quest 2 意义重大

性能提升：2020年10月，Facebook推出Oculus Quest 2，相较于2019年的 Oculus Quest 1，Oculus Quest 2 不仅是一款例行升级的产品，而是围绕视觉 方面的全面升级，有以下几点升级引发了重点关注：配备更强的高通XR2芯片、6GB内存，规格一跃成为最强阵营；屏幕由OLED改为LCD，分辨率、刷新率更高，透镜有所变化。

VR/AR产业的硬件、软件、内容、应用均会重构

回望2016、2019、2021年这三大关键时间点，尤其是Oculus Quest 2 的发布及其在2021年的销量大幅增长，带动整个互联网生态圈进入 新的硬件时代——VR/AR+元宇宙。下一代计算平台的产业轮动周期已然开启，新硬件主义的研究思路下，2021年及以后，VR/AR产业的硬件、软件、内容、应用等均会面临重 构（后续分析会参照手机这一新硬件的崛起）。

2021年VR全球出货量1000+万台

2021年将成为VR/AR“产业规模化元年”：11月17日，高通CEO在2021年投资者日上表示，Meta旗下的Oculus Quest 2销量已达到1000 万台。不仅对于Meta来说，对于整个VR行业生态来说，这1000万销量奇点的里程碑意义重大，1000万用户是“生态系统爆炸式繁荣”之前的 关键门槛。

Facebook改名Meta是穿云箭，彻底引爆元宇宙

前有Roblox上市，后海内外巨头跑步入场（微软、英伟达、高通、字节跳动、网易、百度……）。紧随 Facebook其后，11月2日微软在Ignite大会上正式宣布进军元宇宙。Meta、微软率先从C端、B端两大不同领域切入元宇宙，为下一代互联网 的重量级玩家。

智能手机时代，关键数据：1亿台、千元机

两大关键数据节点：2007年全球智能手机出货量突破1亿台：根据IDC，全球智能手机出货量于2007年突破1亿达到1.25亿台。2012年高性价比千元机出现（小米等）：高端机iPhone价格偏高，高于普通消费者的平均消费水平。因此，2012年前后，以小米、华 为荣耀为代表的高性价比千元手机的出现带动了国内智能终端的普及，移动内容&应用生态开始爆发，全球手机出货量在2012-2014年 的增速保持25%以上。

2023-2024年：千军万马来相见！

相较于移动互联网时代，元宇宙时代的各个参与方有着较高的技术储备度、市场敏锐度：入局方更多：元宇宙并不是单一技术的成果，而是多种尖端技术的融合，入局方不 仅有互联网巨头，更多维度的竞争者均已入局，包括终端硬件商、运营商、内容方 等（如国内四大电信运营商在元宇宙方向上的布局相较以前激进）

2022年：进入分歧期

从热度高涨到真正产品成熟落地的这段时间——即2022年，我们预计将进入分歧期。分歧期只是外界对元宇宙的看法，中长期来看， 元宇宙作为新的计算平台，是确定性的方向，有格局、眼光、定力、使命感的团队，愈是分歧期，愈逆势投入。分歧期终结束，迎来景 气上行期。

2、分歧期重“质”，淬炼真金的“三昧真火”
元宇宙与游戏的两大本质区别

本质区别一：六大特征中的自主性差异

自主性VS提前设定。目前市场上绝大部分游戏的NPC与剧情都是由游戏开发商提前设定好、制作好的，用户并不能左右主线剧情；而元宇 宙将用户从体验者转变为内容生产者，用户拥有非常高的自主性。元宇宙将虚拟世界与玩家社区结合成为了一个真正的小型社会，用户的 行为都将对社区的发展产生影响 。此外，元宇宙赋予了用户“币权”，传统游戏的经济系统是封闭的，游戏资产仅限于游戏内流通，且资 产不真正属于用户自己。本质上的游戏身份、游戏资产是否存在，不是由用户做主，而是由中心化的运营平台拥有。但元宇宙是“去中心 化”的，元宇宙中用户所生产的、所拥有的资产真正属于用户自己。

本质区别二：VR游戏现阶段单人体验的属性是元宇宙内容的四个发展阶段之一

回顾游戏这一内容形态的升级路径，从早期的单机游戏到联网游戏、3D游戏、多人实时在线对战或交互，去推演元宇宙中的内容形态的演变：

第一阶段——单机体验式的内容：加入沉浸式属性，如互联网时代的游戏升级为沉浸式的VR游戏，但目前市场上大部分VR游戏为单人体 验模式的，可类比早期的游戏机或单机游戏；

第二阶段——小范围的交互内容：加入社交的属性，可实现小范围的交互，但现阶段的通信网络、技术还不能承载太多人进行实时互动， 如在技术发展的初级阶段，单机游戏的可玩性与多人互动的社交性要做一定的取舍；

第三阶段——大规模多人涌现式体验：技术发展到一定阶段可以承载越来越多人的实时在线，但互动性仍不够，只能做小范围的互动或 简单的交互；

第四阶段——多人实时在线、可交互的元宇宙：终极的元宇宙内容，除了可达到实时高刷的沉浸式体验画面效果、可承载同一空间内的 多人实时在线外，而且可以实现复杂的交互，这需要海量算力、算法支持。

中美各有优势盘，中国的当下优势与中期希冀

短期来看：

美国：在硬件入口、后端基建、底层架构三个方向优势最大。美国对元宇宙的关注点集中于基础设施与功能性平台，其核心竞争力主要体 现在硬件入口及操作系统、后端基建、底层架构等方面，同时在人工智能方向也具有较强的竞争力；从应用层面来看，美国不仅局限于游 戏、娱乐等面向C端消费者的场景，在工业设计等面向B端的场景上也有所延伸，从而驱动工业生产应用的效率提升。

中国：在内容与场景、协同方领域具备优势。中国最大的潜力在于用户基数与社交基因优势，基于该优势的中国式内容与场景创新的想象 力非法大，如在移动互联网时代，中国在变现流通环节表现出强大的主观能动性，如极致内容变现形态的直播带货的快速发展；且元宇宙 中内容变数最大，因此我们认为中国在内容与场景、协同方领域仍能领跑。（报告来源：未来智库）

元宇宙中内容变数最大

我们认为元宇宙一定会带来全新的内容，新内容分为两个维度，一是形态的迭代，二是创意驱动。

形态的迭代：从PC互联网到4G、再到5G，从文本到图片、音频、长视频、直播、短视频等，历次基础设施迭代都带来内容形态的变化。元宇宙有望革新观众与内容的交互形式，以及极大程度地丰富内容展现形式，如影游结合，甚至是增加了交互等其他功能。我们认为未 来元宇宙的杀手级内容将集齐四大特征：沉浸式、交互性、更多维度的感官体验、经济体系。

创意驱动：相比于影游等，元宇宙内容面临更大的技术难题，需要更高的研发投入，制作更复杂的元宇宙内容对制作方的全方位要求更 高。因此，我们认为元宇宙时代的新内容一开始创作时就应该以创意为导向，而非流量思维。

中长期看，AI与后端基建将孕育出大黑马

互联网时代，国内To B企业发展相对困难，但正发生深刻变化。在元宇宙的不同发展阶段，中美的资源禀赋与发力方向将会发生变化。中国目 前在底层技术上仍处于跟随与追赶的态势，但是得益于强大的基建能力及人口规模优势，后续有望在5G等后端基建、人工智能、内容与场景方 面爆发出巨大的增长潜力。

Roblox：简化版本的元宇宙世界雏形

Roblox是首个将元宇宙概念写入招股说明书的公司，并提出平台通向元宇宙的8大关键特征：身份、朋友、沉浸感、随地、多样性、低延时、 经济以及文明。而Roblox平台的主要特征与我们给出的元宇宙关键特征部分相对应：社交性、开放性、丰富的内容生态、完备的经济系统。

按照我们划分的元宇宙研究框架的六大组件，Roblox落座于内容与场景这一板块，同时平台也为创作者提供了简易的工具与技术，即由客户 端Client 、创作平台Studio 、云架构Cloud三大组件构成生态闭环。

Roblox平台生态的特殊性在于：平台的开放性极大地促进了UGC内容的繁荣，吸引开发者与玩家越来越多的涌入，促进社区氛围越来越浓厚， 同时虚拟与现实互通的经济系统又极大地促进了生态的活跃性与创造者的积极性，以此形成正反馈循环。

Epic Games：游戏引擎+内容平台

Epic元宇宙愿景的核心是改变人们在互联网上的社交方式。《堡垒之夜》超越了游戏的范畴，承载了越来越多的社交与娱乐功能，如演唱会、 发布会、论坛等。Epic同样非常关注创作者生态，虚幻引擎、Epic Games Store、Epic Online Services致力于优化创作者环境与经济。按照我们划分的元宇宙研究框架的六大组件，Epic Games在内容与场景（《堡垒之夜》）、底层架构（虚幻引擎）两大方向上均着力布局。

硬件入口：引领GPU持续迭代发展，为硬件提供算力支撑

持续迭代GPU架构，从Tesla到Ampere、从GTX到RTX性能稳步提升

伟达的GPU架构历经多次变革，基本保持两年一迭代，从最初的Tesla（2008），到现在的Ampere（2020）。从Turing开始，英伟达 GPU启用了全新的品牌名，从GTX变更为RTX，Turing是近12年来GPU架构变化最大的一次，原因在于RTX通过专用的RT Core核心实现 了游戏中可用的实时光线追踪渲染。目前最新一代的Ampere建立在 RTX的强大功能之上，进一步显著提高其渲染、图形、AI与计算工作 负载的性能。

底层架构：Omniverse，软、硬件技术的集大成者

何为Omniverse，其制作逻辑是什么？Omniverse是一款强大的实时协作模拟平台。NVIDIA Omniverse最早于2019年正式提出，最初是一 款基于NVIDIA RTX GPU与皮克斯USD（通用场景描述，Universal Scene Description）的实时图形与仿真模拟平台，推出目的是优化工程 与设计行业工作流程，以实现高效分工与协同。2020年，Omniverse Open Beta公测版本上线，目前已有约5万用户进行了下载，其中中国 市场有接近1万名用户。

以通信技术起家，抢占智能手机芯片阵地

特别在高端旗舰手机上，高通骁龙是绝对的芯片之王。从2020年手机出货量来看，联发科超越高通骁龙成为智能手机芯片领域的霸主，但是 从结构来看，高通骁龙在高端旗舰机型上具有绝对的优势。根据安兔兔2021年1月评测数据来看，10款旗舰手机中，仅华为旗舰手机搭载自有 麒麟芯片，此外的8款手机均配置高通骁龙800系列，其中高通骁龙888系列在跑分上是明显高于麒麟芯片的。

高通XR芯片：已被广泛应用于主流VR/AR设备

高通自2015年开始布局XR芯片，发展至今已具备支撑硬件设备的强大性能。高通自2015年开始布局XR芯片，早期应用到VR/AR设备的芯片 是高通基于手机骁龙800系列芯片对VR/AR设备作相应优化。2018年5月，高通推出VR专用芯片骁龙XR1，其性能与骁龙手机芯片660相近。2019年12月，高通发布基于骁龙865衍生的XR2，集成了高通的5G、人工智能及XR技术。

底层架构：伏羲通宝可实现跨游戏、跨服务器流通

伏羲通宝是基于区块链智能合约生成的创新性游戏内物品，伏羲通宝具有可以分布式存储于不同游戏中的特点，首次可以打破同一游戏不同服 务器间的隔阂，甚至可以打通不同游戏世界间的壁垒。伏羲通宝作为一个不可篡改、不可伪造的游戏道具，可以作为一般等价物用于在不同服 务器与游戏之间进行游戏虚拟资产流通的介质。这是游戏世界虚拟资产产权史上一次具体跨越意义的确权，从此游戏玩家们在游戏世界中的虚 拟资产可以得到真正意义上的终极保值。

微信QQ社交地位稳固，并以社交为核心布局内容生态

微信+QQ接近全覆盖，并探索新型社交布局细分领域。内容与场景的板块，腾讯在社交、游戏、娱乐内容等领域的优势地位稳固。其中微信、 QQ是腾讯核心的用户流量护城河，据腾讯控股财报，截至2020年底，微信用户规模为12.51亿，QQ用户规模为6.17亿。在保持熟人社交头部 优势的同时，腾讯也通过深耕垂直领域推出新型社交产品，塑造更完整的社交产品矩阵，如社区社交型产品Q次元、Soul，短视频社交型产品 猫呼、微信视频号等。

Amazon：引领云计算行业发展，聚焦底层技术开发

亚马逊是云计算行业的开创者，引领技术发展方向。亚马逊2006年在AWS（Amazon Web Services）上增加云计算服务，此后不断投入资 源发展云计算业务，公司每年举办re:Invent全球大会发布年度新产品，在相当程度上引领了云计算行业的发展，比如2013年发布实时流式数 据服务Amazon Kinesis，为移动互联网时代的数据分析奠定基础；2014年发布业界首个无代码函数计算服务Amazon Lambda，成为业内发 展的主流方向；2018年发布Amazon Outposts，将云能力延伸到本地，成为亚马逊云科技重塑混合云的关键一环。

云计算：中国TOP1服务商，在底层基建上具有先发优势

阿里云是全球第三、中国第一的云服务商。基于营收规模计算，2020年阿里云全球市场份额为7.6%，仅次于亚马逊AWS（46.8%）、微软 Azure（14.2%），是全球第三大共有云服务商；在中国市场，2020年阿里云在公有云Iaas市场中的份额为38.5%，远高于腾讯云（12.7%）、 华为云（11.1%），是行业内第一的云服务商，且领先优势较为明显。

人工智能：AI+云计算，元宇宙底层架构重要参与方

2017年在Google O/I大会上，谷歌提出公司战略将由Mobile First转变为AI First，发展至今，谷歌在AI研发人员、学术论文数量等都处于行 业领先水平，根据沙利文评估，谷歌在综合AI的技术实力与落地能力两个维度都在科技巨头中处于行业前列，具有非常强大的AI综合实力。2016年AlphaGo打败围棋选手李世石，推动人工智能受到市场广泛关注，是人工智能发展历程中重要的里程碑事件，而AlphaGo的背后就是 谷歌旗下DeepMind的开发团队。

3、蓄积的力量将何在？2022年里见真章
新硬件主义

移动互联网发展到2017年时，红利开始见顶，且被大规模使用的手机这一硬件并未发生根本性变化，即当前智能手机+互联网陷入了内卷化 的负向循环，不同形态的内容，其分发、商业化的逻辑走向高度一致，在内容载体、用户体验、传播、场景、交互等方面都进入瓶颈期；当前 的互联网已经不能称之为先进生产力，互联网的内容形态对用户的吸引力明显下挫。

新硬件远不止VR、AR、MR

XR为元宇宙第一入口，但不是唯一入口。人的感官体验不止有视觉与听觉，还包括触嗅 味觉，甚至是意念等，所有能够增强我们感官体验的硬件都能成为入口。因此长期来看， 元宇宙的硬件入口预计会非常多样化，除XR之外，也有智能耳机、触觉手套、体感服、 脑机接口、隐形眼镜、外骨骼等，所有这些硬件的共性是能增强用户的沉浸感，带来更 多维度的体验、交互。

Meta与Apple的下一代硬件之争，外围仍有变数

Meta VS Apple 代表了元宇宙的硬件入口之争，是通往虚拟（VR）、还是注重现实（AR）？

前述我们强调了元宇宙时代硬件的重要性，Meta早已布局硬件入口且非常激进，希望打破Apple等硬件厂商的制约，搭建起自己的软硬件 一体生态，尽早占据制高点。目前来看Meta主要专注于VR方向，12月9日，Meta母公司Meta Platforms将人工智能团队合并至开发AR与 VR的Reality Labs部门，虽然AR眼镜正在研发中（在Connect 2021大会中，提到AR眼镜 Project Nazare），但推出时日还未确定。

相较于Meta专注于VR方向，Apple则更加注重AR方向的探索，AR技术让人们可以在真实世界中的环境下看到数字效果。Apple相关XR产 品分为几个阶段，预计2022年推出MR头盔式产品；2024年推出轻量化AR眼镜。

虚拟数字人：分发与流通环节的新战场

元宇宙发展趋势下，虚拟数字人将是不可或缺的因素。虚拟数字人这一概念不是这两年才有，也不是随着元宇宙的概念出现而出现，而是可以 追溯到20世纪80年代。虚拟数字人并非依托元宇宙而产生，但2021年元宇宙的火爆一定程度上带动了虚拟人热潮。在元宇宙六大投资版图中， 我们特别强调了人工智能的作用，在于其将在元宇宙的建设中发挥重要的生产要素作用。未来的元宇宙世界中，将会是人类化身与人工智能体 共存，我们认为现阶段的虚拟数字人是人工智能体的初级形态。

NFT为数字资产释放流动性

区块链是元宇宙建设过程中最核心的技术之一，为元宇宙提供了一套经济运行规则。基于区块链而存在的NFT，其本质是虚拟资产的“证券 化”——为虚拟数字资产提供了一套确权与流通机制，流动性的大幅提升将带来价值重估、灵敏的价格反应机制。

首先，NFT为虚拟物品提供了确权、溯源的机制。基于区块链技术，每个NFT都映射着特定区块链上的唯一序列号，不可篡改、不可分 割，也不能互相替代。在这一技术前提下，用户将真正且永久地拥有这份数字内容的所有权。

其次，NFT赋予了数字资产流动性。NFT是一种有价的代币，可以将数字资产代币化，代币化提高了流动性。未来随着知识产权作为NFT 记录到区块链上，数以万亿计的数字内容将转移到二级市场上可供交易，这将释放出巨大的交易价值，带来价值重估、灵敏的价格反应 机制。

NFT带来灵敏的价格反应机制

随着NFT表示的数字资产越来越多，但其真正价值的大小与流动性市场的价格反应机制相关，流动性也是相对的：1）参考过去的交易数据， 较高的交易数量某种程度上代表较高的流动性；2）某些交易量小的市场，虽然流动性低，但是其中个别作品极具稀缺性，比如知名艺术家推 出的作品，也可以被认为是一个非常独特和具备吸引力的流动性市场。（报告来源：未来智库）

国内外NFT市场潜力正加速释放

2021年NFT的出圈一定程度上带动了元宇宙概念的普及

2021年3月11日，来自昵称“Beeple”的美国艺术家迈克·温克尔曼（Mike Winkelman）的NFT作品《每一天：前5000天》 （Everydays: the First 5000 Days）以约6900万美元的天价成交；8月27日，NBA球星斯蒂芬·库里（Stephen Curry）以18万美元购买 BAYC（Bored Ape Yacht Club）的NFT作品；以及Axie Infinity的火爆——一款基于以太坊的NFT游戏。以上事件推动了NFT的出圈， 市场关注度大幅提升，这种加密领域的最新热潮正在改变人们在数字领域买卖商品的方式与流通频次。

底层架构：2022年的望眼欲穿

硬件先行之外，硬件与内容是相辅相成、相互促进的发展逻辑，而元宇宙内容的生成离不开底层架构发挥作用，底层架构在元宇宙发展的初级 阶段是至关重要的因素。除了区块链为元宇宙提供经济体系之外，底层架构当下常见的工具为游戏引擎，降低创作者进入元宇宙的门槛，让大家都能顺畅的参与到元宇 宙的建设中来；游戏引擎再往上会有用于数字孪生、数字原生、虚实共融的平台与架构。

合围的力量：AI、后端基建

元宇宙离不开新型数字基础实施的完善。根据前述的六大板块的产业轮动顺序，首先，在元宇宙的XR终端硬件方面，目前已经迎来 了规模化的拐点，类比苹果产业链，围绕XR产业链的中国企业已经深度参与其中，比如在光学器件、传感器领域；其次，在规模化 拐点之后，随着元宇宙生态内容的丰富，将带来数据量级的爆发，数据洪流必须要更强大的后端基建支撑，同时人工智能的重要性 将越来越凸显。

元宇宙将带来一场“新基建”

构建元宇宙以“硬技术”为基础，元宇宙所必需的后端基建，包括5G通讯网 络、算力与算法等。

5G通讯：元宇宙对网络带宽提出了更高的要求。5G是对现有移动通信 系统的全面革新，是人工智能、云计算等新技术在未来大展拳脚的基础， 将为元宇宙提供高速、低延时的数据传输通道。

算力：元宇宙将持续带来巨量的计算需求。5G时代将带来数据的爆炸 式增长，对算力规模、算力能力等需求大幅提升，算力的进步又反向支 撑了应用的创新，推动技术的升级换代、算法的创新速度。

算法：边缘计算与云计算实现高效分配算力。算法的重要性在：1）元 宇宙时代的数据量级极大，硬件入口为了能够处理数字化的场景，需要 非常强大的数据运算能力的支撑；2）以VR为代表的硬件也需要追求沉 浸感，这潜在要求设备的轻便化，也限制了其所能承载的最大运算能力。面对以上矛盾的情况，边缘计算与云计算可以作为一种解决方案，将数 据传至于云端，从而释放硬件端的算力，使其变得更加轻薄。







# 2020 年全球企业区块链支出规模达到 40 亿美金，相较 19 年接近翻倍。对比企业在 IT


领域的总支出，区块链行业的渗透率已增加到 1%，仍有很高发展空间。从技术成熟曲线来看，区块链技术已经快要走出低谷期。同时，我们提出了包含公司热度、研究热度和网络热度 3 个板块 16 个指标的“区块链应用热力模型”，可以发现“区块链+金融”、“区块链+支付”和 “区块链+数据服务”是 2020 年的 TOP 3 热门区块链应用领域。


产业区块链同样稳步发展，形成了四大趋势。（1）配合“新基建”发展，区块链融合其他新技术开始发力；（2）政务、供应链、金融、数据等板块成为热门赛道落地加速；（3）一体机、底层网络设施（如 BSN，星火链网，长安链等）、区块链芯片等配套设施不断涌现，联盟链快速发展；（4）资产上链萌芽发展，数字证券可能是全球资产上链的领头羊。

* ![图片](https://user-images.githubusercontent.com/79394963/197336083-86231540-7f37-4dd8-bd65-89ca5f2b4896.png)

* ![图片](https://user-images.githubusercontent.com/79394963/197336097-71f89497-1a11-4699-8b30-3395e3f0e387.png)

* ![图片](https://user-images.githubusercontent.com/79394963/197336105-51f5abc3-a5b8-4387-bb1b-0c1cd156274e.png)

* ![图片](https://user-images.githubusercontent.com/79394963/197336124-b3994c47-28b4-4392-83ad-75bae9e658aa.png)

* ![图片](https://user-images.githubusercontent.com/79394963/197336159-0cf73aae-5110-4feb-a952-285bde3716f7.png)

# 书籍
1. 比特币：一个虚幻而真实的金融世界

李钧、长铗 著

本书从介绍比特币的概念出发，全面、系统地阐述了比特币的起源、发展、技术原理、生态圈等关键问题，还大胆畅想了比特币的现实应用、未来前景。

2. 区块链：从数字货币到信用社会

长铗、韩锋等 著

本书从历史与背景、发展现状、基础原理与技术、应用生态、存在的问题与挑战等方面论述了区块链是怎样立起来的，为什么人人都在谈论区块链，区块链的秘密在哪里、进阶区块链（第二代区块链技术）是什么，区块链怎么玩，怎样从信息互联网走向价值互联网，如何用法规约束和监管区块链，区块链走向何处、争议与挑战，并通过经济、金融、货币、法律、科技哲学等角度来加以分析区块链在各个方面遇到的问题和需要解决的困难。

3. 区块链：定义未来金融与经济新格局

张健 著

本书由区块链技术专家，国内领先的区块链数据查询网站 http://Qukuai.com 创始人，火币技术副总裁，火币数字货币与区块链研究中心负责人张健创作，清华大学五道口金融学院常务副院长、《清华金融评论》主编廖理推荐。

4. 区块链 技术驱动金融：数字货币与智能合约技术

[美] 阿尔文德·纳拉亚南、约什·贝努 等 著

本书从数字货币及智能合约技术层面，解读了区块链技术在金融领域的运用。

“如果你正在寻找一本在技术层面解释比特币是如何运作的，并且你有一定计算机科学和编程的基本知识，这本书应该很适合你。”

5. 区块链：重塑经济与世界

徐明星、刘勇等 著

本书由中国超大的区块链技术公司 OKCoin 和中关村互联网金融研究院，联合业界第一线成员和金融界专家学者，从源头、技术原理、应用案例、趋势、政策等方面全方位地详细解读这项革命性的金融科技成果，为读者带来这个领域全新的洞见。

6. 区块链革命：比特币底层技术如何改变货币、商业和世界

[加] 唐塔普斯科特、 亚力克斯·塔普斯科特 著

本书是 “数字经济之父” 继畅销书《维基经济学》之后又一力作，受到多国政治界、学术界和工商界翘楚人物的推崇。本书全景式描绘互联网前沿技术─区块链技术，将如何彻底改变互联网及银行业、证券业、保险业、会计税收、法律服务业、文化创意业、物流业、医药卫生业、电力业、和制造业等行业；前瞻性阐述这种技术可以做什么，以及我们如何利用好它。

7. 区块链技术指南

邹均、张海宁等 著

区块链专家联袂推荐，资深区块链践行者联合撰写，从技术层面全面揭示区块链技术秘密。涵盖基础概念、架构、底层算法、应用开发、典型的区块链解决方案、常见问题等读者*为关心的技术与应用。

8. 区块链将如何重新定义世界

唐文剑、吕雯等 著

本书作为率先出版的原创性区块链启蒙读物，博采众长，汇集了众多专家学者对于区块链的观点，结合大量实例，由浅入深、通俗易懂的向读者介绍了区块链的由来与发展、区块链背后的经济思想、区块链的技术原理与特征、区块链的应用前景以及对区块链的展望与畅想，大家走近了解并读懂区块链的世界。

9. 区块链社会：解码区块链全球应用与投资案例

龚鸣 著

本书以深入浅出的方式和翔实的数据介绍了区块链这一新兴技术在全球各个行业的各种应用，以及对于未来社会产生的影响。并介绍了区块链技术的基本原理、共识机制以及发展脉络，也深入解析了区块链中智能合约的基本原理，以及目前存在的问题和在未来可能发展的方向。

10. 商业区块链：开启加密经济新时代

[美] 威廉·穆贾雅 著

本书旨在探讨区块链技术的各种可能应用的小书，不仅仅限于书中标题所显示的商业领域，作者认为区块链还可以用于解决经济、实业、政府与社会等更加广阔的领域，医疗、供应链、物联网、安全认证、能源交易、电动汽车与充电站、社交以及人工智能等领域都有它的身影。在作者看来，区块链将会积极挑战现状，与互联网经济类似，它最终会形成一种新型的加密经济。

11. 图说区块链

徐明星、田颖 著

本书以生动、形象的语言，以漫画、故事的方式，全面揭示了区块链的基本原理、应用及发展前景，告诉读者区块链是什么，区块链有哪些应用价值，让读者通过一本书读懂区块链。

12. 埃森哲《展望》：区块链+

埃森哲中国 著

本书围绕区块链这一主题，探讨了区块链技术在提升企业运营效率、简化企业基础流程等方面的优势，金融企业在区块链技术方面的领先经验可用于其他行业和企业，区块链技术在中国的美好应用前景同样值得期待。




# 币圈参与者
币圈武林，门派相斗，你是哪种门徒？有人的地方就有江湖，币圈亦如此。币圈的凶险，圈外人难以体会。前有山寨空气币  后有资金盘骗局 左有狗庄做庄收割 右有小交易所套路带单。尔虞我诈，十面埋伏。一个圈外韭菜听够了江湖中传闻的造富神话，怀着纯洁的区块链信仰进入币圈，仿佛这里遍地黄金，唾手可得。孰不知等待他的是一把又一把锋利的镰刀。
大多数人开始了解币圈往往是在新闻上，“虚拟货币比特币突破10000美元，7年暴涨2500万倍”，“大学生靠炒作数字货币3月实现财富自由”
多么美好的标题，无处不透露着一股“近我者富”的画卷气息，散发着无穷无尽的魅力在召唤人们靠近。随着时间的推移，币圈也自然而然的产生了各类门派，用其无懈可击的“唯我正确论”不断吸引门徒加入，不断发展壮大。
犹如武林各大门派，各领风骚。

资金盘派
这几天跑路的资金盘大大小小已不小于几十个，大的如PLUS钱包、波场超级社区（和波场币毫无关联），金额高达几百亿价值的数字货币，可想而知有多少无辜的韭菜被霍霍。哪怕是大部分人都已知道崩盘的项目，还有慕名而来的无知韭菜不断的询问如何加入，小的盘口听到大盘跑路纷纷卷铺盖走人，美其名曰服务器升级、主网升级。

区块记录显示，每一分每一秒，都还有币在不断的转入 PlusToken 的钱包..动态收益、静态收益、团队分红、推广佣金，这些字眼都是资金盘的热词，不仅如此，资金盘还善于伪装自己暴利的理由，“我们是量化搬砖、还有交易所收益、矿机挖矿、基金会收益，完全能支撑利息的支出”
在看到前期参与者的高额收入后，源源不断的后者参与进了这个游戏，并喜欢自我洗脑“嗯，到时候有危险的时候我就跑，小心为上。”
但你永远不知道你是不是最后一棒，而且也不会认为自己会是最后一棒。

山寨币派
这类门派在币圈中占有相当大的一部分，其中又分成2类人，一类是大妈、中年人为主的新韭菜，他们被拉入各种“XXX百倍币创世社区”，整天接受着群主的广告轰炸，以为这就是炒币，看到价格才0.0000001。
想着“现在这么便宜，增值空间肯定巨大，我要拥抱区块链，拥抱数字货币，不跟上时代就被时代淘汰！我不要它涨到几万美元一个，只要1块一个我就发了，买买买！”
另一类人就是币圈中的老韭菜，他们对主流币种一天几个点的涨跌似乎没有太大兴趣，热衷于所谓的消息面炒币。
听说哪个庄家要拉盘了，听说这个币种上市的时候要爆拉300%，我跟这个项目方认识，他们说让我拿着，过段时间能出的时候喊我，这波稳！这个模式币不错 ，各个媒体都在炒它，肯定涨。
然而结果并没有大家想象的美好，有些人操作了十个币种，可能盈利的只有一两个。我有一个朋友自己本身也在币圈的项目方工作，她的领导会经常推荐一些所谓的靠谱内幕币给她，但很多币不是上线破发就是上币遥遥无期。几十万的本金早就腰斩。可想而知大多数的外围的山寨币玩家处境几何。能赚钱的只有庄家和及少数幸运儿。


佛系信仰派
也就是囤币的一类人，但买的大多都是主流币或者比特币，很少持有山寨币。中心思想就是：这币我要拿到牛市，买了就不去看，当做没这回事，等到哪天出新闻了，我再去看。还有的定投分支派，不管涨跌，每周我固定投1000块，涨跌我都投。既能平均价格，又能减少亏损，各种数据计算，历史回测，傻瓜式操作，盈利十万变百万。

但事实真的这么靠谱吗？
首先定投就是一个从股指基金中产生的投资方式，他的前提是受国家严格监管的股市，想要风险过高国家也不允许，所以定投是一个相对稳健型的基金理财方式，但是币圈不同，目前币圈没有任何的监管，也未受到任何的法律保护，也就是说我们所持有的信仰可能一夜之间归零。
很多人会反对说比特币不会消失，肯定会存在，我们认为比特币消失的概率会很小，但并不代表其价格能一直在牛熊之中涨跌，假设有一天，币圈的共识被另一个币种所取代，你的定投只不过是一种慈善。
正如苹果取代诺基亚手机，时代淘汰你，头都不会回。还有另外一个看不到的风险，那就是大部分的人只看到了定投看似稳定又简单的操作方式，却总没预判到自己的买入时机是否正确。
如果入场的时候是牛市的末尾，那么你很可能在一个漫长的熊市中越跌越买，而90%以上的人都无法承受这个亏损导致割肉。那些知名的定投人士，哪个不是15 甚至16年就开始买入了，他们的价格（1-2千人民币的比特币）你买的到吗？
17年高峰跟风定投的那波人，多少人割肉离场。
定投的意义：在牛市的时候让你减少收益，也会在熊市的时候减少亏损。
但并不是说这个方法不可行，这需要几个前提条件：

* 判断行情，熊市末尾开始定投

* 自己有长期坚持爱好的习惯如：跑步、健身

* 闲置资金参与

但话又说回来，你都能判断是熊市末尾了，不能多买一点吗....而囤币最大的风险在于你没有能力判断下跌是回调还是牛市的终结。白白拿过一个牛熊。看到过浮盈100%的账户数字，然后在亏损10个点左右暗暗离了场。


技术交易派

这类人往往是从股市和期货市场转型而来，有丰富的交易经验，他们并没有什么区块链信仰，他们清楚的知道这只是一个交易市场，也不会过多关注市场的消息，相信任何的消息都会体现在盘面上。他们关注的对象也仅限于主流币种。均线、macd、rsi、形态学吸筹派发区间在他心中早已有固定的参考，买入卖出时机也已成但这类门派真正领悟的人并不多，似乎武功只掌握在少数人手中，是不传秘术，大多人只会三脚猫功夫，整天挨揍，是一个神秘的门派。

凡精通者大多都深藏于武林，做一个隐居侠士，但私下都有圈子，也只和同门派者互相联系。而这也是币圈黑盒所推崇的币圈生存指南，因为你只有不断的让自己变强，用科学的交易方法去支撑你的买入或者卖出，而不是盲目的追涨杀跌，也不需要去听其他人的分析，只需自己做出判断。心中有底交易不慌，所有的动态都在你的预判之中，运筹帷幄。
在此送大家2本武功秘籍

* 《币圈神奇趋势线》
（ 《交易，一根均线足矣》


还有一些小门派，无提及必要并未列出。相传于江湖也相见于江湖。你是哪个门派？你想加入哪个门派？或者你对其他门派有任何补充欢迎留言讨论，想进交流群的朋友也可以联系助理。



# 币圈人员
币圈曾经有过买什么都能成百倍翻盘的时候，而现在就不同了，只有看清楚逻辑的人才有机会，如果什么都没有就盲目进入，你肯定是被割的韭菜。有没有发现，现在一些币圈朋友坐在一起，都很少聊炒币了。大伙偶尔一聚，基本都只能相互吐槽币圈近期热议的焦点，缓解各自的焦虑。一面看着身边入场早的人在什么都不懂的情况下财务自由了，一面又看着自己精心挑选的币狂跌，或团队后期直接没有下文，这基本就是币圈底层人群的现状。


币圈由六类人组成，下面根据食物链排列这六类

*  一.交易所

*  二.矿机产商

* 4三.大佬或基金
 
* 四.代币发行项目方

* 五.媒体

* 六.个体投资人（也被称为韭菜）

 实际上很多项目背后真正的老板都是第三类，个别半路入场的也是基本无法摆脱寻找大佬站台。相比之下这六类人群中，矿机产商赚的钱是比较干净的。而除了底层的韭菜外其他群体多多少少都会涉及一些合谋割韭菜。

 下面来了解一下币圈忽悠四部曲

 一.定制区块链项目。二，找人代写白皮书。三，大佬来站台，与媒体合作包装。四，给大佬和媒体一定的代币进行捆绑。


看似很老套的忽悠模式，但是韭菜并没有识别能力所以屡试不爽。如果说ICO阶段导致被割韭菜可以认为是韭菜智商被压制，那么交易所不对项目进行识别就疯狂上空气币，合伙割韭菜就有点说不过去了。不论交易所用什么模式上币，至少目前为止依然围绕着给交易所多少报酬，或者购买多少数额指定平台币作为上币前提。这就助长了空气币项目方是无忌惮的割韭菜行为，项目方在付完保护费后千方百计的把精力放在如何从投资者手里收回来，花心思做项目的就少之又少。不过现在市场也没什么韭菜了，出现了不少项目方被交易所给割韭菜的现象。

 
自从李笑来录音门事件爆发后，监管部门便开始采取强有力的清理措施。

 

一，屏蔽各类虚拟货币交易平台。二，禁止国内支付结算端为虚拟货币交易服务。三，禁止媒体宣传与虚拟货币发行和炒作有关的行为。四，打击各类发行虚拟货币行为。

 

在政府的干预下国内的虚拟货币项目几乎瞬间被冷却，各路前期发行代币的项目方一夜间都开始抛售从投资者手中融到的ETH。区块链原本是极客的一场革命，最后却成了骗子割韭菜的工具。

 

谈到这里我们是不是应该去思考为什么会如此，总结出两点，一，艾希欧不规范多数项目方都是隐形的，在艾希欧阶段连基本的责任人和项目所在地信息都无法核实，他们玩的是从一开始就注定是一个没有结果的游戏。二，上币规则，上币规则并不遵循产品落地原则而是交上币费玩人头游戏。可以说目前为止90%的代币上交易所时都是未落地产品。

 

所以说币圈真的是一个人傻钱多的地方，没几个人思考过币价的真正支撑是什么。因为整个币圈氛围从艾希欧到交易所上币都是拿空气在玩，就是因为这样一个不规范的市场把原有应该交易所负责的核实项目工作抛给投资者，交易所成为食物链顶端稳赚不陪的抽水赌场，就算有人抽老千还不需要负责任的地方。

 

——————————————————

 

关于币圈媒体人的黑与白

 

媒体人本身职责是说事实或谈数据，但是在币圈多数媒体人带着目的报道。怎么说呢？比如原本就是垃圾项目经过一些人包装后在一些平台上宣传骗取缺心眼的人入场。不过一个人如果缺心眼不论在什么地方都得交学费。



其实辨别报道真假也没有那么难，只要学会去思考文章是否存在明确受益者就很容易识别其报道的目的性，通常主动带你赚钱的都需要三思，正常逻辑没人愿意干吃力不讨好的事情，就算要谈也是把一些数据指明告诉你自己的观点，真正有好项目自己投资就好了非亲非故的何必去趟浑水。投资人要有自己的思维辨别能力，只要有针对性的宣传就一定要去思考为什么那么好心教你赚钱告诉你好项目。还如此卖力的把它吹的上天入地无所不能的，让你入场等等给你荐币对他有何好处。



包括各类K线大师，就好比最近两个月压根就没有行情，很难理解它分析这两个月都分析出些什么东西。我就不明白有什么操作的必要吗？如果每天都操作手续费能不能赚回来。包括他们对各种支撑的判断，现阶段挖矿成本支撑比任何K线指标都可靠，现在谈支撑问矿工最准确。



那些分析师给你说的60000美元下去就50000美元，跌破50000美元变40000美元什么的都是扯淡。比特币价格除了受买卖均价和集中价影响，还有一个更重要因素挖矿价格由于现阶段价格距离挖矿成本很接近所以就不用去看那些分析师说的什么支撑位了意义不大。假设现在挖一枚比特币需要的成本50000美元，那比特币最强支撑就是50000美元，虽然存在短期击穿的可能性，但击穿后由于挖矿成本高于购买自然矿工就会停止挖矿选择直接购买。这就是算力挖矿类加密货币的支撑（杠杆不在讨论范围）。

 

谈到了比特币支撑那下面顺便说一下应用类加密货币的支撑，应用类加密货币的支撑主要受应用使用需求影响。所以总结应用类项目是最容易出现技术更新换代。并没有好坏之分只存在符不符合市场需求。它的精彩过了就过了，等待它的是更先进的技术来取代它。由于现在交易所还是使用币币捆绑模式交易，当稳定币取代现有的币币交易，那时候应用币的价格会更真实。 


真正在币圈赚到钱的除了专门割韭菜的以外，还有这些：

1.下手早的人

这类人很早就接触了比特币，从起点上就超出了普通人一大截。我知道比特币的时候，已经是1万多美元一枚，他们知道的时候，还是几块人民币一枚。比如早期的游戏代练，玩游戏的时候顺带着挖矿，一天能挖十几枚，成本差距之大可想而知。

2.开矿场的人

这类人就更厉害了，一台电脑24小时不停才挖十几个币，他们直接包地盖厂房，用成百上千台专业矿机挖矿，即使成本比最早的一批人高点，但数量优势不可比拟。

3.开交易所的人。

挖出的币你们怎么变现，自然需要全球范围内有实力的交易所，当然也不是让你们白交易，交点手续费吧。单笔看着手续费不高，但架不住全球范围内交易人次多啊。

4.挖矿的人

最开始买比特币的人，需要等多久这枚比特币才可以涨到二十万？这个问题值得我们每一个投资者思量的一个问题。.但如果用比特币矿机挖矿，每天都有挖矿收益，虽然不多，但是风险小，很稳定，也能规避风险。如果币价涨起来，这个回本周期会更快，几个月就可以回本了，回本以后你挖到的收益都是你自己纯赚的。这个是可以用实时数据算出来的，可能有的人会说，万一币价跌了呢？是不是回本周期变长，这个是的，但是你要知道，短期内的涨跌对矿工来讲没多大影响，大不了把挖到的币屯着，币价涨再出。


大部分人会觉得，当时比特币价格很低的时候，还不知道比特币，所以错过了购买的机会，如果再来一次，我一定会买。这是第一种声音，还有一种声音是：如果再给我一次机会，我一定能拿住比特币，不会那么快就抛了。如果时间可以倒流，以上两种人的愿望真能都实现吗？

说个大家不愿相信的事实，如果你是以上的两种情况中的，不要说给你一次机会，就算给你十次机会，你依然不会是那个0.01%里面的一个。事实总是这么残酷，为什么？为什么不是我？

远的咱不说就说近期涨了不少的ACH！十几天的时间翻了一百多倍！屯币炒币的人很多都买了这个币，但是能吃下这一百多倍的人寥寥无几！

所以在这个市场上想要真正意义上的挣到钱，用你的闲置资金去参与挖矿，绝对是你最挣钱的选择！

每天都有人找我咨询FIL挖矿！每天也都有人打款购买矿机参与挖矿！但是也有很多的人咨询了之后就没了音讯，这都很正常，我们挣的每一分钱，都是自己认知水平的变现！

         我们都知道没有免费的午餐，但放到投资上，一些人又会忍不住犯傻，想着靠他人的投资建议就能够一夜暴富。

请相信一点，靠运气发财的不配拥有巨量财富，如果不提高认知水平，凭运气赚的钱，最终一定也会凭借实力亏回去。币圈的钱不是说挣就能挣的，我们还是要有准确的判断与选择。

这样的局面让我这样一个总是想在各个市场上发现赚钱机会的人，就来说说我看到的币圈生财之道。

做为币圈的参与者，看到各种各样的赚钱套路。

小散，屯币定投的方式，几种主流币按比例配置。如BTC40%、ETH25%、EOS15%、ZEC15%、其他5%。这次大涨，让之前持续定投的参与者看到了这样的投资方式的收获。

小散，搬砖。国人开的交易所主要服务中国人，而且国人的交易所和国外的交易所，同一个币同一时刻存在着价差。只要两个交易所之间有2%以上的价差就可以搬。关键是发现各个所之间的币差，这个信息的获得尤为重要，目前主要是通过“非小号”公众号来获取各个所时时数据来做出判断。具体对比数据还需要自己多比较，才能找到有机会可搬的币。搬砖是比较稳妥的币圈赚钱方式，不过需要前期准备的时间较多，要注册好多交易所，了解各个所的交易流程，提币认证都要做全才能操作。而且有些所提币时间较长，不亲自参与是无法知道这里的坑的，所以开始的时候必须用少量币，在各个所尝试一下搬砖过程，对每个所的坑和效率有所了解，才好大规模搬砖。


搬砖赚的是利差，所以对于资金大，每一次搬来搬去，还是有很高的收益的。搬砖的一般看手里的币是不增加了，搬砖为了攒币，币多了再用币搬来更多的 币。需要变现在拿到场外交易变现。

刚才说的都是“淘金者”的赚钱之道，而除了直接参与"淘金"，还可以为淘金者服务。

最常见的，在知识星球拉个收费圈子，分享币圈赚钱门道和知识。这里最重要的一点就是要抓住当下需求者的需求时机。如果错过了这个时机，你提供的服务就没有了价值，对一个刚入门的币圈参与者，给他们提供基础币圈知识，最有价值，而把这些知识提供给币圈的老人，他已经了解这些了，就不会入你的圈，买你的账。

每个时期对于币圈的参与者都有新需求，只有及时抓住这个时机需求，才能赚到这个时机需求的钱。

国内关停了各个交易所，法币对加密币的兑换成了币圈刚需。有些人靠着信誉搞起了微信圈担保场外交易，有技术开发实力的，所幸办起了场外交易所。为淘金者提供铲子和牛仔裤，一样赚的盆满钵满。




# 币圈的中国区10位人物

* 李笑来

李笑来，自称中国比特币首富。与老猫组成的硬币资本，在监管到来之时可谓是在币圈颇有影响力。首先有云币网交易平台，虽然被币友们吐槽网站经常没有规律的“拔网线”，但是当时的“云币效应”可谓是叱咤币圈，上了云币的币总能有一波大涨，大家都期盼着自己手里的币能上云币这个平台。

李笑来笑称自己比特币的持有量为6位数，首位数是1。也就是说持有的比特币价值已经超越1亿美元，当然是真是假也是未知数？可能利用这么一个噱头来给自己做营销也不乏为一种手段。

除了投资数字货币，笑来老师也是《把时间当朋友》、《财富自由之路》的作者，把自己的投资理念通过书籍分享给大家。偶尔也会出现在网上，给大家说说币圈趣事，微博上与传统天使投资人薛蛮子一次饭局合影，在币圈造成了不小的轰动。


* 吴忌寒

吴忌寒，86年生，北大研究生毕业，拥有心理学和经济学双学位，现为比特大陆CEO。比特大陆目前生产的矿机贡献了全球超过70%的算力。如果比特大陆能维持其市场占有率，在接下来的时间里，剩余约500万枚比特币中将有300万会产自比特大陆生产的矿机。

这个带有大侠气质的名字，曝光率远不如其他几位。然而论在圈内的影响力，却有过之而无不及。一个低调的实力派大佬，算力皇帝，一代矿霸，“唯一可能的51%攻击发起者”，如果说世界上一个人能以一己之力左右比特币的发展，除了中本聪本人，吴忌寒是最有可能的那一位。他就是吴忌寒。

2011年底，吴忌寒干了一件惊天动地的大事，他把中本聪的比特币创世论文《比特币：一种点对点的电子现金系统》翻译成了中文，因此被称为是“比特币的布道者。



* 沈波

沈波作为大名鼎鼎的分布式资本创始人，原先是Invictus Innovations Incorporated的创始人(比特股的创始团队)，同时在对冲基金，投行和证券领域有丰富的知识和经验。
2015年7月，沈波、Vitalik与肖风打算从投资的角度与区块链社区建立良好的关系，推动行业发展，之后便成立了万向区块链实验室、分布式资本。如今，分布式资本是中国最大的专业投资区块链领域的基金。
和李笑来、宝二爷相比，沈波显得很低调，话题性一般。当然，沈波不需要高调。卖家才需要吆喝。他背靠着万象集团的雄厚财力，实力毋容置疑。从某些程度上说，沈波和我们是比较接近的，都属于区块链圈的投资者。作为区块链投资圈的顶尖人物，沈波的看法意见对我们而言相当有参考价值。对于想深入学习区块链投资的币友们，推荐一篇文章《分布式资本沈波：未来区块链杀手级应用将出现在“+区块链”》，看完之后会对投资有一个比较整体的认识。

* 达鸿飞

达鸿飞，昵称达叔，小蚁（NEO）创始人，毕业于浙江大学，中国区块链行业的代表人物，中国比特币社区的早期参与者，上海浦东国际金融学会金融科技组委员。连续创业者，会用汇编语言编写病毒的文科生。

对区块链的底层技术、应用场景、行业格局有极深刻的见解，是多家银行、券商、登记机构的区块链技术顾问。人们普遍将达叔视为区块链领域的主要人物之一，尤其是在涉及到中国的区块链普及这一话题时，他的言论尤有分量。

* 郭鸣
郭鸣，“暴走恭亲王”，行内元老级人物，区块链铅笔、ICOAGE创始人。他是中国最早一批数字货币和区块链技术的研究者和实践者之一，曾经沧海的奥派爱好者，致力于传播比特币资讯，传播自由货币理念，推动自由货币的革命。

中国区块链技术和数字货币行业的领军人物，致力于推广区块链技术的发展，翻译和撰写过大量相关资料，著有《数字货币》《区块链-新经济蓝图》等作品，在国内区块链和数字货币行业内具有较大的影响力。其胆识可佩，勇气可嘉！

* 帅初

帅初，量子链创始人及CEO，如今身名在外，是币圈屈指可数的大佬；“从穷博士到争议缠身的60亿身家CEO”,也折射出他复杂的人生历程，量子链项目的推出，成为帅初人生命运的一大转折点，“黑马”量子链令帅初声名鹊起，他也借此站到了币圈生物链的最顶端，自此便开启了飞欧美、奔日韩，演讲、布道、站台的生活，充实忙碌、荣光尽显。

薛蛮子发微博盛赞量子链和帅初，“我见了几十个国内外区块链的公司，量子链是其中最出色的创新公司之一；而帅初这个不到三十岁的年轻小伙，不仅智商高、情商也不含糊，对干成大事业有巨大的情怀。”


* 何一

何一，人称“币圈一姐”，盘点这么多汉子，榜单终于迎来第一个妹子；曾是旅游卫视主持人，后加入国内三大交易所之一的OKCoin，任职期间多次带领团队在okcoin出现公关危机的时候帮助公司完成逆转。2017年8月加盟比特币企业Binance币安，担任联合创始人。

赶在30岁重新出发！其强势、努力有远见，币圈一姐”或“币圈女神”；这是大众给她的江湖称谓；“币安首席客服”，这是她给自己的微信签名；“币圈最会做市场的人”，这是行业从业者贴给她的标签；而之所以有了这些称谓，当然是因为她对待事业的热枕和不知疲倦的奔波。而背后，则是她的付出。

作为币圈一姐，何一出现在任何地方都是焦点。何一所在的社群是币读菌见过最和谐的。引用币读CEO寒江雪的话，“很多大佬的群里本来没有人说话，一拉何一进去，马上就热闹起来了”
。

* 郭宏才


郭宏才，人称宝二爷，在行业内，郭宏才被尊称为“比特币的先驱者和领路人！”曾拥有全世界最大的比特币矿场；比特币天使投资人，投资涉及：毅航云计算、富国基金、洋洋访谈、比特基金、Btc123.com、Bw.com、Jua.com、比太钱包、bitbank.com。作为币圈在公众场合曝光率最高的币圈大咖，宝二爷“口出狂言”的小视频总是在传遍币友的微信朋友圈，也成为了币友们津津乐道的话题，二爷在币圈一直是个心直口快的人，有啥说啥，毫不保留自己的任何想法。是币圈里最接地气的大咖，经常在各地进行演讲和路演，分享自己的数字货币经验。在监管到来之前，成立了币圈“黄埔军校”，孵化了当时一批很热门的爱西欧项目。“黄埔军校”举办几期以后，由于监管的问题，就此暂停了。

* 老猫

老猫，币圈老炮之一，2013年开始参加比特币投资，2014年入行，先后担任YUNBI COO,ICOINFO CEO,INM Partner,BIG CEO.老猫个人公众号里面发表行业相关文章近200多篇，是币圈关注量和阅读打开率最高的自媒体之一，他的区块链投资理念和知识对行业产生了重大影响。

老猫曾是ETH 早期价值发现者和布道者;独立打造行业第一自媒体《猫说》;建立行业最大的社群『猫友圈』;发布『一块听听』区块链入门系列讲座;EOS 早期价值发现者和布道者;全球区块链行业独立研究人。

* 赵长鹏


赵长鹏，英文名CZ，币安CEO和比捷科技CEO；币圈一日，人间十年。说的是这个行业的时间密度，说的是区块链积攒财富的速度。CZ更是深谙此理，并且是其中的佼佼者，他从一名“码农”变成亿万富翁，只用了180天时间，通过提供虚拟货币资产交易平台服务，积攒了20亿美元（约合人民币125亿元）的财富，创造了币圈最快的赚钱神话。

他曾担任过彭博社技术总监；后创立富讯信息技术有限公司，他不仅创始人，也是中国区总裁。赵长鹏还曾以联合创始人的身份加入OKCoin，出任CEO，管理过OKCoin的技术团队，并负责OKCoin的国际市场团队，迅速建立了OKCoin的国际影响力。


 郭二宝人物个性非常鲜明，说话只说大白话，没有任何专业术语。他从不讲情怀不论道德，对赚钱毫不掩饰。给自己取了英文名是chandler Guo，笑称是得了钱就乐了的意思。郭二宝坦言自己就是做流量生意的，直说自己收每个项目1%的站台费。去百度一下，可以发现郭做过很多现在仍被币圈津津乐道的事，比如：去内蒙古开矿场挖到第一桶金；在爱惜欧最狂热的时候开办币圈黄埔军校，第一批就有500人报名；参与比特币中国行活动，为比特币布道。

宝二爷最出名的语录有：“我也没什么信仰，今天赚到钱了，是由于各种原因舍不得卖，我也没想到能涨到今天这个价。”“现在我觉得我该犒劳一下自己，豪宅该我住，劳斯莱斯该我开，这是我自己扛过来的。”“我自己不做VC，我一般是负责站台，我现在也不投钱了，我站个台收1%。”
“业内都知道我一直涨的手势，其实是一个点的意思，后来变成了一直涨。”
我英文名叫chandler钱德勒，得了钱就乐了，老友记的钱德勒，那个爱笑的哥们。
“使劲造势，使劲地讲我是多么没文化，我赚钱就是这个逻辑。”

“我真是高中毕业的，我没考上大学，大学只考了300分，哪个大学都没要我。但我第一志愿填的清华，第一志愿没考上，我就直接住在清华里头，在清华里混了三年半。”

“我觉得读万卷书不如行万里路，行万里路不如阅人无数，阅人无数不如‘睡’人无数。币圈友谊都是睡出来的，不过我都和男的睡。”
“其实在一级市场投资和去二级市场抄底便宜的币是一样的。EOS我没参加任何私募和公募，但我在EOS破发到3块时，在二级市场抄底买了EOS。”

“我作为一个投资人，其实我最不用担心，想回国随时可以回，我不回来其实就是为了让子弹飞一会儿，打广告嘛，大家讨论我就是打广告，免费广告挺好的。”

“得屌丝者得天下。我的微信谁都可以加，所以我的朋友特别多，到处都有朋友。笑来把时间管理得很好，我随时都很闲。所以我说，笑来是苦行僧，我是弥勒佛，俩人干的事不同。”

 2018年3月，他在硅谷购置了一套百亩大的豪宅。4月23日这一天，他将印有“韭菜庄园”的牌子正式挂在了大门口。据说庄园的一隅的确种了一些韭菜。昔日龌龊不足夸，今朝放荡思无涯。春风得意马蹄疾，一日看尽长安花。以上诗句来自孟郊《登科后》，形容咸鱼翻身，赠宝二爷是也。

【小道消息】如他自己所言，郭宏才讲话没什么技术含量，就是大白话。他就是凭着这种吊丝气质吸粉无数，特别吸小白用户。

大空翼

【官方消息】大空翼，真名叫杜翼添，名副其实的90后，最早以“大空翼”的身份混迹社区，大空翼是日本漫画《足球小将》里的主人公，自小酷爱足球，而现实生活中，杜也是足球的爱好者，名字的来由或就根源于此。

大家都说，大空翼10万All in IOTA，结果一战成名，最终3年收益超万倍。IOTA是建立在一种新型分布式账本——缠结（Tangle）基础上的非区块链加密数字货币，被认为可以应用在物联网的小额支付场景里。15年下半年，IOTA开放众筹，发行的IOTA代币每个约0.001人民币，大空翼拿着玩币赚到的10万块，一把梭哈了进去，当时中国参与的人不多，大概也只有7、8个，但最后拿住的只有两个人：他和Jimmy，IOTA中国社区负责人。然后故事就从这里开始了。从15年底到17年6月，IOTA一直很便宜，但自6月ICO热潮开始后，IOTA暴涨，到17年12月初一度涨到约36人民币，相比发行价已经翻了3.6万倍，大空翼手中的10万人民币，也变成了几十个亿。
在朋友的眼中，他只是一个再普通不过的男孩，爱听周杰伦，喜欢旅游，没事就泡泡茶。大空翼在接受哈希财经采访的时候透露，自己上小学就做过一些小本生意，向同学借钱将班里同学们看过的老夫子回收过来出租，并雇佣了同学管理。初中的时候由于寝室离街道近，开了个外卖代接业务，甚至垄断了承接走道另一头班级的外卖业务。大学期间，大一暑假去广州学了甜品，准备在老家空白的市场开干，可是亲爹就是不同意。
其实早在2010年还在上高中的大空翼就听说过BTC，但是是到了2013年才开始真正投资比特币。当时他还在读大二，学习土木工程。暑假他自己动手组装他的第一台矿机，当时GPU的算力已经挖不动比特币，他就挖一些没人挖的山寨币，如世界币和羽毛币，到暑期结束时换了约80个比特币。当时，一个比特币是4000元人民币，大空翼由此赚到了自己在币圈的第一桶金。

 

【小道消息】据杜翼添自己说，真实的情况是，他当初拿了6万赚了6个亿。杜本身是个富二代，所以他的视野、抱负和胸襟以及拿住IOTA三年的定力，本身就是有经济基础支撑的。



【官方消息】原名Daniel Larimer，江湖传闻的BM（Bytemaster），他是目前世界上唯一一个连续成功开发了三个基于区块链技术的去中心化系统的人，Bitshares，Steem和EOS的联合创始人。



BM最被粉丝们津津乐道的，就是在bitcointalk上与中本聪大神的针锋相对。早在2010年7月，BM就指出，跟银行相比，比特币10分钟一次的交易确认时间显得太长了，需要做到像刷信用卡那么快，而改变共识机制可以实现这一点。中本聪则霸气十足的祭出了那句名言：看不懂就算了，我没时间搭理你，不好意思。If you don't believe me or don't get it, I don't have time to try to convince you, sorry.BM没有继续争论，而是着手开发去中心化交易所比特股（BitShares），同时创造出DPOS共识机制，把自己的想法一一实现——媲美传统银行的交易速度和体验。
2014年，比特股带着“Beyond Bitcoin”的口号横空出世。比特股1.0版本虽然创造性地发明了锚定货币BitUSD、BitCNY以解决比特币价格波动的问题，并实现了秒级转账速度，但严格来讲，它并不是一个合格的产品。

离开BTS后不久，BM就投入了他的下一个项目：steemit，继BTS之后，他又带来了更天马行空的创想，一个基于区块链技术的社交和内容平台。
Steemit挑战Twitter/Facebook等媒体行业巨舰，用内容激励鼓励内容生产，用户可以根据评价情况赚取收益。Steemit沿用了比特股的底层技术：石墨烯区块链底层，在交易性能和用户体验方面都达到了相当高的水准。
能赚钱的内容平台，这一点很轻易地吸引了各类创作者蜂拥而入。最著名的例子，是TheAnarchast在steemit上发布的一篇文章，轻松赚到15000美金。

 离开steemit，BM毫不犹豫地奔赴自己的下一站：EOS。EOS是要做区块链行业的操作系统，为开发者提供底层功能，包括并行运算、数据库、账户系统等等。EOS可谓BM在技术和思想上的集大成者，它使用了DPOS机制，同时引入了宪法的概念，用于治理社区，还引入了仲裁的概念。看起来有点像三权分立的感觉。
EOS项目一开始就受到了区块链全行业的关注，它的代币销售则是目前为止最大规模的代币销售，五天内便筹集到了数亿美金。目前ＥＯＳ正式上线时间还未最终确定。有ＥOS操作系统将预示区块链３.０时代的到来。

【小道消息】这位被币圈奉为技术天才的小哥哥是个８０后哦。

  寒江雪

【官方消息】寒江雪是公众号“每日币读”的创始人。他以“每日币读”为媒介，配合自己的精准投资，赚的盆满钵满，并带动身边的一大帮子朋友走上了致富的道路。他的名言是：希望身边的朋友都能跟我一起快速暴富，大家能在同一个阶级上继续做朋友。

寒江雪，人称“老寒”，西安电子科技大学密码学专业研究生毕业，曾任职深圳市中兴通讯股份有限公司，深圳市超级约会学文化传播有限公司董事长，区块链媒体“每日币读”创始人，有着“币圈高晓松”的美誉，具有丰富的区块链项目评级经验，币圈扑克牌创始人。

 009年—2015年，寒江雪一直在从事培训相关工作，开办特训营、开办爱约会网络课程、开办寒门贵子弟子班及搭讪培训班等一些以约会为主题的相关培训，锻炼了他非常风趣幽默的台风。

2016年5月，寒江雪重新做了一个区块链的专业公众号“每日币读”，张屁桃做编辑，寒江雪正式all in区块链。由最开始和张屁桃两人运营，到现在领导着二十几个数字资产爱好者且非常靠谱的年轻人，建立了一个专注区块链资讯的订阅平台。“每日币读”每天准时为读者提供最新最全面的区块链资讯，致力于打造世界级的区块链资讯平台。

 寒江雪说的最多的一句话是熊市多投资，看起来仅仅五个字，但要彻底理解，并且真正去做，确实不容易做到。熊市投资这种行为，恰恰跟人性相反，短视就是人性，人们只关注眼前的利益，只相信眼前看得见的变化。

【小道消息】韩江雪被誉为“币圈高晓松”，泡妞很有一套。他用自己的经历讲述了一个以泡妞起家，以炒币走上人生巅峰的励志故事。

【官方消息】“币圈一日，人间一年”，这一刻，是巅峰，下一刻，可能就是深渊。这句话真实反映了币圈跌宕起伏的行情，短短5年时间，在赵东的身上发生了太多传奇的故事。

2009年恰逢移动互联网的风口，赵东和朋友开发了一款爆火天气预报软件“墨迹天气”。他短短三年套现出局，积累了原始资金。
之后，赵东误打误撞加入“车库咖啡”担任CTO。他在车库，认识了最早一批接触比特币的玩家，如吴刚、李林、李笑来、宝二爷、赵国峰、杜均等现在的币圈大佬，并开启了从身价过亿到负债6000万的“币圈”传奇人生！
2013年，在吴刚的引导下，赵东抱着投机的心态，拿了1万人民币入场买了10个比特币，两周翻倍赚了1w，买了人生中第一部iPhone。尝到甜头后的赵东，在经过深刻研究之后，于2013年3月，拿出100万元人民币买入了大约2000枚比特币。正如赵东所料，比特币在2013年整年都呈迅猛上涨的态势，持有的2000个比特币也暴涨了10多倍，从100万摇身变成了1000万。此时的赵东开始用杠杆炒币。

然而盛极转衰，2014年日本Mt.Gox 门头沟比特币交易网站（当时全球 76%比特币在上面完成）挤兑、要倒闭的消息不断传来，币价开始猛跌。赵东2014年炒币三次爆仓，挖矿入不敷出，总额巨亏1.5亿，负债6000万，连儿子上小学的学费都捉襟见肘，他的人生跌到谷底。
但是，赵东并没有一蹶不振，也没有离开币圈，他开始转行做比特币场外交易。赵东靠着“诚信”迅速在圈子里面积累了大量的客户和名气，并一步步还清外债，成为中国最早做场外交易的人，也是欧洲场外比特币交易数一数二的大佬。

2017年赵东成立区块链投资基金DFund，一期项目比特币净收益为620%(美元净收益为2543%)。，用他自己的话说就是：“在比特币的世界里，最重要的不是什么时候上车，而是永不下车。“



【小道消息】赵东目前人在日本。当年他手下的很多小弟，靠着在比特币行业做量化、套利和搬砖都积累了巨额财富。



 # 孙宇晨擅长炒作和造势。
   
   * 人生有三大不幸：出身豪门、少年得志、飞来横财。. 出身豪门，意味着贴上了二代的标签，在家活在阴影下。
   
   












# 币圈美国区人物

Crypto Briefing 年度英雄榜单上的前十名。

Sandeep Nailwal
Sandeep Nailwal是Polygon的联合创始人，它是以太坊迄今为止最成功的扩展解决方案。Polygon 在这一年收获颇丰：它吸引了如Aave和Curve等几家 DeF i 蓝筹股，生态系统现在包括一个ZK-Rollups的库，MATIC是市场上表现最好的公司之一。

今年，Nailwal在加密货币之外颇有一番作为。随着Delta变异新冠病毒在 4 月开始蔓延，他成立了COVid - Crypto救援基金，筹集资金帮助印度受疫情影响的人。

Nailwal的义努力没有被忽视，该基金吸引了许多大人物的捐款，包括前Coinbase首席技术官和天使投资者Balaji Srinivasan和前澳大利亚板球运动员Bret Lee。最大的捐款来自以太坊联合创始人Vitalik Buterin，他向该基金捐赠了500个ETH和50万亿SHIB，当时的市值超过11.4亿美元。

COVID-Crypto Relief Fund一直在将它所筹集的资金用于良好的用途，并且仍然在一个以太坊钱包中持有超过4亿美元。在过去的几个月里，它与联合国儿童基金会印度办事处签署了一项协议，为该国的疫苗接种活动提供1.6亿支注射器，并与印度的几个慈善机构合作，为有需要的人提供ICU床、心肺复苏培训和补给包。

Polygon是2021年加密货币的先驱者之一，Nailwal百忙中抽出时间在成立了大获成功的COVID-Crypto救助基金，这一点非常了不起。

Cobie & Ledger
Cobie和Ledger从未见过面，因为他们生活在大西洋的两岸，但这并没有阻止他们成为加密货币最喜欢的二人组之一。他们一起担任UpOnly主持人而闻名，UpOnly是该领域最翔实有趣播客之一。自今年年初以来，他们一直在邀请领域内最好的交易员作嘉宾，进行深入讨论，每一集都有着丰富的信息，以帮助听众吸取成功经验。

他们的组合之所以备受喜爱，部分原因在于两人之间的鲜明对比：Ledger是个温柔少年，而Cobie则更像是个典型的理工直男(他喜欢LSD，比我们大多数人更早看到比特币的潜力)。

Cobie经常嘲笑Ledger的交易失误，但其实他们俩更像是郭德纲和于谦这样相爱相杀的组合。除了UpOnly给我们带来的笑声和资讯外，Cobie和Ledger今年因其传奇的Twitch突袭会议而进入我们的英雄榜。活动前提是Cobie加入一个业余音乐家的直播，并要求接管房间的主持权，然后邀请他的Twitter粉丝占领直播间。这时，他鼓励主播下载MetaMask，然后任何观看的加密货币本地人都会扎堆捐款。与此同时，Ledger总是在技术上和音乐家可能遇到的任何问题上提供帮助。

在今年最令人难忘的一次会议中，24岁的Mela Bee在玩了一晚Radiohead和Blink-182的翻唱后，收到了相当于约25万美元的ETH、REN和其他数字资产。科比还利用他的平台帮助那些与疾病作斗争的人，让他们出现在在视线中。在这一年里，世界各地的乐迷和其他怀疑论者对NFT和更广泛的加密货币空间发起了错误的攻击，Cobie和Ledger利用他们的在线活动帮助了一些少数群体，证明了虚拟货币和其背后社区的正力量。

pplpleasr
哪怕你从来没有听说过plpleasr(真名Emily Yang)，你也很可能接触过她的艺术作品。2021年，她创造出了一个历史，让几位加密货币最杰出的人物登上了《财富》杂志的封面，但她在这个领域的起点是为DeFi的一些顶级项目创作作品。今年早些时候，当她将Uniswap V3创作的宣传片铸成NFT时，她将其筹集的310个ETH捐赠给支持少数民族群体的慈善机构。当时价值超过52.5万美元。

不过，她真正大放异彩是在《财富》杂志上露面后。"就在一年前，我还没有工作，为收入发愁，"她在8月份的推特上写道，"我希望我的故事能够激励其他人，我对加密货币社区的感谢是不言而喻的。" Yang用亲身事迹证明了，NFT有能力改变世界各地数百万创作者和收藏家的生活。

Bored Ape Yacht Club/Yuga Labs
今年的NFT领域中有很多赢家，但有一个项目独占鳌头——Bored Ape Yacht Club。作为一个生活在以太坊上的10,000只可追溯的猿猴合集，Bored Ape Yacht Club已经成为一个具有代表性的生活方式品牌，拥有自己的商品系列、活动系列，并与环球和阿迪达斯等公司合作。Yuga Labs是Bored Ape Yacht Club的创建者，通过为NFT持有者安排有利可图的空投来加强该品牌，据说2022年将推出代币和游戏。诚然，Yuga Labs的成功在很大程度上归功于Bored Ape持有人的社区，其中包括Stephen Curry和Jimmy Fallon等名人。不过，这主要是因为它采取了首先奖励其社区的策略。

另一个最受欢迎的NFT头像系列，是Larva Labs的CryptoPunks，也在今年成为主流，但它的路线图却不那么引人注目。5月，Larva Labs从一个名为Meebits的基本没有新意的合集中获得了8000万美元，其中一部分分配给Punk持有人。该项目背后的两人还签署了一份好莱坞协议，将允许其NFT在电影、电视和其他媒体中出现，但仅限于此。此后，Larva实验室一直忙于发布版权摘录通知，以保护其主推项目，而Yuga实验室则明确表示，社区是其最大的优先事项。结果Bored Ape Yacht Club在推出不到一年的时间里已经是最时尚的NFT系列。如果Yuga Labs继续它在2021年开始的好成绩，很快就可以成为最有价值的Punks。

Sam Bankman-Fried
自2017年进入加密货币领域以来，Sam Bankman-Fried监管了这一领域的顶级交易公司之一Alameda Research，将FTX打造为Coinbase和Binance的强劲对手，并成为全球30岁以下最富有的人。他之所以能够实现这一切，部分原因是他像机器一样灵活，使他能够在眨眼间从交易到播客再到玩英雄联盟。但同样重要的是，Sam Bankman-Fried可能是这个行业中最勤奋的人之一。他喜欢直接睡在办公室里，这样他就从休息中无缝衔接工作模式，而且FTX总是第一个为奇异衍生品创造市场的交易所，以收归加密货币领域中更冒险的交易者。

作为Solana的忠实拥护者，班克曼-弗里德早在1月份就发布了一条令人难忘的推文，在Solana以3美元的价格转手时，他提出购买另一位交易员的全部Solana持有量，这一举动无意中暗示了Solana会上涨。从那时起，Solana已经上涨了6500%。除了提前为Solana背书，今年Bankman-Fried还试图通过在体育行业大力营销交易所来发展FTX品牌。但是，比起让自己更出名和更富有，他似乎对将加密货币带给10亿用户更感兴趣(值得注意的是，他计划通过有效的利他主义将其220亿美元的大部分捐出)。如果FTX和Solana继续沿着2021年的轨迹发展，Bankman-Fried很可能会在他的事业中使用大规模的加密货币采用。

参议员Ron Wyden、Pat Toomey和Cynthia Lummis
“监管”是今年加密货币的一大主题，尤其是在美国。可以说，这一年最大进展是集中在1.2万亿美元的基础设施法案上，该法案的起草包括关于加密货币税收政策和加密货币“经纪人”定义的模糊措辞。这个不明确的定义意味着，工作证明的矿工、利害关系验证者和DeFi 协议开发者可能会受到过于严苛的税收规则的约束。

虽然拜登政府支持最初的草案，但参议员Ron Wyden、Pat Toomey和Cynthia Lummis坚持要求对加密货币 "经纪人 "进行更明确的定义，赢得了Coinbase首席执行官Brian Armstrong、Coin Center和其他关键加密货币社区成员的支持。

众议院最终通过了对加密货币不太友好的草案，拜登将其签署宣布成为法律，但Wyden、Toomey和Lummis并没有停止争取有利于加密货币创新的修正案。"数字资产在我们的金融系统中会一直存在，我们现在做出的决定将对未来产生深远的影响。我们需要促进创新，而不是扼杀创新，"Lummis和Wyden提交了一份新法案，其中包括关于加密货币税收报告要求的修正案。

Vincent Van Dough
像许多其他以太坊鲸鱼变成JPEG爱好者一样，Vincent Van Dough为促进NFT发展做了很多工作。他们已经建立了该领域最好和最有价值的JPEG收藏，他们的任何新的购买行为都被认为是值得关注的。在NFT的高峰期，他们甚至与三箭资本合作，推出了一个名为Starry Night Capital的NFT基金。

不过，真正引起我们注意的是他们在关于NFT的激烈辩论，与一群社区艺术家的赌博。今年，许多社区的成员都站出来反对NFT，他们以模糊的边界问题为由，断言NFTs没有价值，并认为个人在用自己的作品来换取ETH时，是在从艺术家那里偷东西。

为了挑战和对峙这一观点，Vincent Van Dough通过铸造一个NFT蒙太奇来回应，个自命不凡的佩佩青蛙使用多个“被盗”社区艺术品，标题是 《法律诉讼材料》和 《呼叫：1800-SUE-ME》。

这一NFT引起了社区成员的愤怒，这正合Vincent的意图。他们提出向作品被用于NFT的艺术家支付5000美元。Vincent所要做的就是在以太坊上铸造他们的作品并将其收入进钱包。

Vincent迫使批评家们出手。如果他们接受他的提议，他们就会承认他们认为NFT是一个骗局这个观点是错误的。如果他们拒绝，他们就错过了5000美元，他们关于NFT没有价值的论点也就失去了意义。目前他们中没有人接受这部分收入，同时Vincent今天仍然主导着NFT领域。

samczsun
真名Sam Sun，如果你曾经在以太坊上使用过DeFi，samczsun可能在过去把你从一个重大的漏洞中拯救出来。Sun是DeFi中最多产的白帽黑客，以至于来自他的深夜 "你起来了吗?"的信息已经成为每个Solidity开发者最担心的事情。

Sun曾在Stripe、Wish和Trail of Bits任职，目前他在该领域的顶级风险投资公司之一Paradigm担任研究合伙人。在他作为独立安全研究人员的多年活动中，Sun已经为DeFi社区挽救了数亿美元因智能合约漏洞和安全缺陷而造成的潜在损失。

仅在2020年，他就发现并私下披露了Curve、Synthetix、Kyber Network、Nexus Mutual、Ethereum Name Service、Yearn.Finance等的关键漏洞。今年，他在Sushi的Miso代币发射板上发现了一个关键漏洞，在Etherscan上发现了一个零日漏洞，在Ethereum的独立CLI客户端Geth上发现了一个关键漏洞。以太坊算是走运的，因为samczsun正义将他的才能用于公益。至少在以太坊的黑暗森林中，很少有人比samczsun更配得上 "英雄 "这个称号。

Caitlin Long
Caitlin Long被广泛认为是区块链领域最有影响力的女性之一，因在起草和构思怀俄明州开拓性的区块链立法方面发挥的领导作用而广为人知。她是一位在华尔街工作了22年的资深人士，自2012年以来一直活跃在加密货币行业。虽然目前美国关于加密货币的监管情况远非完美，但Long是该行业的女发言人之一，推动整个行业向正确的方向发展。

她帮助怀俄明州通过了24项有利于加密货币的法律，使其成为美国对加密货币企业最友好的地方之一。怀俄明州也是美国第一个授权新型州政府特许存款机构的州政府，可以保管加密货币资产并为区块链企业提供银行服务。

7月，怀俄明州成为美国第一个在法律上承认DAO的州，并在Long的指导下给予DAO与有限责任公司相同的权利。在她孜孜不倦的立法工作之外，Long经常在播客中露面，在推特上精心策划栏目，帮助业内外人士了解整个行业的现状。

Daniele Sestagalli
Daniele Sestagalli是传说中的 "青蛙国度“” (frog nation)的深受爱戴的领导人——这是一个隐秘的本土社会运动，谴责任何它认为是 DeFi 中心化的东西。这可以包括从风险资本家和机构到集中的稳定货币和依赖于它们的所谓的分散协议。那么，为什么Sestagalli能进入我们的十大英雄榜，因为他广受欢迎和喜爱。这主要是因为他建立了Abracadabra.Money、Popsicle Finance和Wonderland.Money，这三个创新项目都属于 "DeFi 2.0 "的范畴。Sestagalli还因其在Twitter上的言论而出名，这些言论最近让不知情的旁观者变成了青蛙，并帮助他的听众队伍像滚雪球一样越滚越大(在记者采访时，他有超过221000名粉丝，远远超过了六个月前的数量)。最近，在该项目面临数月的内部问题后， Sestagalli挺身而出，他是否能从 "腐败的集权力量 "中拯救DeFi还有待观察。无论如何，我们认为他可以称之为英雄。

新晉加密富豪名單（按資產多寡排名）：

1. Sam Bankman-Fried
淨資產：225 億美元

Sam Bankman-Fried 於 2019 創立 FTX 交易所，而他的多數資產都是 FTX 交易所的代幣 FTT。FTX 最近完成 B 輪融資共 9 億美元，交易所估值 180 億，SBF 的 FTT 資產也翻了一倍。

此外，SBF 還創立了 Alameda Research 量化基金，約管理 25 億美元的資產。SBF 是利他主義者，其目標是盡可能的賺錢，而後回饋社會

2. Brian Armstrong 
淨資產：115 億美元

Brian Armstrong 是 Coinbase 交易所的共同創辦人，而 Coinbase 也於今年四月公開上市，成為「首家公開上市」的加密交易所，公司估值為 860 億美元。

Brian Armstrong 約有 Coinbase 的 19% 股份，淨資產約為 115 億美元


3. Chris Larsen
淨資產：60 億美元

Chris Larsen 是瑞波（Ripple）的共同創辦人暨董事長，也是去年富比士富豪榜上唯一的加密億萬富翁。此外，Chris Larsen 也是創業家和天使投資人，過去曾在矽谷共同創立數間公司，包括 P2P 借貸公司和線上抵押貸款放貸機構 E-Loan。

4&5. Cameron and Tyler Winklevoss
淨資產：45 億美元

Winklevoss 雙胞胎兄弟曾參與臉書創立，在 2015 年創立了 Gemini 交易所（雙子星）。據 CMC 數據，雙子星交易所 24 小時交易量為 2.1 億美元。

和其他加密富豪不同，Winklevoss 雙胞胎兄弟的資產不全然來自於自己的新創事業，兩人在 2013 年控告臉書創辦人 Mark Zuckerberg 瓢竊創意後，購買了 1,100 萬美元的比特幣，當時價格約為 120 美元/1 BTC，讓其成為加密巨鯨，不過兩人不願對持有資產多做評論。


6. Fred Ehrsam
淨資產：35 億美元

Fred Ehrsam 同樣是 Coinbase 的共同創辦人，但於 2017 年離開 Coinbase，隨後創立加密投資公司 Paradigm，並投資了眾多知名加密新創。

投資新創包括去中心化央行 MakerDAO，借貸協議 Compound、去中心化交易所 Uniswap、競爭公鏈 Cosmos 等。其淨資產估值約為 35 億美元。



7. Jed McCaleb
淨資產：30 億美元

Jed McCaleb 為瑞波公司的共同創辦人暨前技術長，在 2013 年離開瑞波，並創立競爭公鏈 Stellar。他離開瑞波時，還持有 90 億枚瑞波幣（XRP）。

雙方在 2016 年 2 月談成和解，允許麥卡列布在四年後（2020 年 2 月）可以在一週內每天出售 XRP 平均日交易量的 1.5%，這也成為麥卡列布現在不斷大量賣出 XRP 的依據。

不過整個九月份，Jed McCaleb 都沒有出售任何一枚 XRP。


* ![图片](https://user-images.githubusercontent.com/79394963/197441012-f185ab0e-a6b5-48e5-be6e-7dd2d309cecd.png)

* ![图片](https://user-images.githubusercontent.com/79394963/197441062-09bb09eb-d74d-436f-a9c3-c3b5b100c774.png)

* ![图片](https://user-images.githubusercontent.com/79394963/197441098-77a660e5-78c9-4149-baea-1a28d8aeec32.png)














* 区块链（比特币）创始人：中本聪


“如果你没有理解我的意思，我没时间说服你。”很经典的一句话。中本聪吗，没人能知道他长什么样，很神秘，每隔一段时间，都有人宣称发现了中本聪本尊。但每次求证的结果，都让中本聪显得更加神秘。

他留下的信息很少。我们只知道他曾是密码朋克的成员之一，他拥有惊人的密码学、计算机、数学与经济学知识。比特币中许多曾经被认为是冗余设计的错误，后来被证明都是正确的，比如精心挑选的Koblitz曲线，避开了美国国安局在加密标准中暗藏的后门。比如在椭圆曲线数字签名算法加密的基础上，再哈希两次，足以应付量子计算机的威胁。
中本聪与任何人交流都使用PGP加密和Tor网络。他甚至在白皮书和社区发言中，有意的伪造一些身份信息与个性化特征，误导一些错误的猜测。比如伪装英式拼读，格林威治时间的作息规律。其心思缜密程度令人惊叹。
中本聪的特别不仅仅在于他是个天才。他的比特币钱包有一百万个比特币，以今天的价格算价值上千亿。但是这惊人的财富，就跟一块寒冰一样纹丝不动。很显然，名望和财富，对中本聪毫无吸引力。他像一个超级英雄一样，悄然出现，留下了惊世的杰作，然后消失。
简单的用淡泊名利来解释他的消失，似乎还不够。中本聪的最后一次公开露面，是2011年在论坛劝说阿桑奇别用比特币来维持维基解密运转。从中可以看出，中本聪希望比特币能茁壮成长。但是，在比特币被无休止的扩容争论和分叉所困扰的2017年，中本聪为何没有站出来指点迷津?很多人持有悲观的看法，他们认为中本聪在争论中看到了人性的自私，已经彻底失望。
引用长铗的一句话作为结尾。
”
中本聪是一群人，他们是和平主义的泄密者，他们希望挑战旧秩序，并建立更公平、平等的社会。在那里教育可以公平地自由的分配给所有人，在那儿隐私是一种权利而不是一种特权。总而言之，对那些追求一个更公平的世界的人来说：我们都是中本聪。”

* 昨日 过往

* 埋葬 执念 荒唐

* 只看着前方

* 是活着的模样

* 爱意 淡漠 疯狂

* 信仰 肮脏 苍白的真相

* 无关 多少凭空妄想

* 梦想 阳光

* 是这条路上多余的念想

* 人情 道义 沧桑

* 世间 信仰 苍白的真相

* 焚毁 绚烂假想
















# 币圈教程

* ![图片](https://user-images.githubusercontent.com/79394963/197385090-7621b119-2c55-410e-a1fd-f1ed6a01ea7f.png)

* ![图片](https://user-images.githubusercontent.com/79394963/197385104-74526ba8-7188-47b3-bc50-a4e46287d3a6.png)

* ![图片](https://user-images.githubusercontent.com/79394963/197385152-6e04c594-c776-427d-bcd7-cf3681f22fe7.png)

* ![图片](https://user-images.githubusercontent.com/79394963/197385200-837425b4-8c94-4a7f-901c-524d6b118b74.png)


# 撸币之前，需要先了解几个工具和知识点：

科学上网：使用电报、推特或者少部分空投网页时需自备梯子，网上有很多免费的，可以自行搜索。

imToken 钱包：该钱包支持以太坊及以太坊 ERC20 标准的代币，撸空投必备，详细使用教程我放在了另外一篇文章：

撸币必备！如何利用 imToken 创建你的 ETH 钱包地址

电报（Telegram）：一款国外的即时聊天软件，类似于 QQ 或微信，需科学上网才能使用，现在基本已经成为区块链及虚拟货币交流、各个团队空投代币的主战场。推荐使用手机客户端或电脑网页版。

官网：https://telegram.org

币用：可以理解为是一个加了壳的本地化的电报。与原版电报帐号互通（电报里的群组在币用也可以找到），并在原版基础上增加了一些功能（比如虚拟币钱包功能）。

币用对比电报的优点是无需自备科学上网工具，缺点是目前不太稳定，有时会出现无法登录等状况，毕竟是和墙外网络互通，出现此类问题也算比较正常，遇到状况稍后再试即可。当然，如果有条件，还是建议科学上网后使用原版电报。

官网：https://biyong.io

谷歌浏览器（Google Chrome）：考虑到有很多人英文不太好，所以推荐使用谷歌浏览器可以一键翻译一些英文页面，当然，其他拥有相似功能的浏览器也可以。

推特（Twitter）：这个应该大部分人比较熟悉，如第一次听说，那么可以将其理解为类似于微博一样的产品。少部分代币空投需要关注其推特账号或转发其推特推文。需要科学上网后登录。

官网：https://twitter.com

脸书（Facebook）：与推特一样是墙外的社交产品，少部分时候需要关注项目官方脸书主页，可以注册一下。需要科学上网后登录。

官网：https://facebook.com

谷歌人机验证：一般会出现在一些国外的网站上，空投、交易平台等处都有小概率出现下方这货，用途与验证码一样，为了对付注册机批量注册。一般点击方框自动打勾后就验证完成了，如果一段时间内频繁使用可能还需其他验证操作，按要求做就行了。

另外，撸空投注意以下几点常见的问题：

1. 不要在任何电报群发广告或发表不当言论；
2. 热门空投一般很快结束，所以在看到空投情报时要尽快撸完；
4. 空投流程大都大同小异，在币萌推出空投情报时要仔细看流程介绍，按流程来不会出错；
5. 加电报群类的空投，在加群或邀请好友后，项目奖励可能会延迟显示，不用担心；
6. 涉及到发币到钱包的，一般不会即使到账，而是在空投结束后一段时间内发出，长则一个月短则一个工作日，等着就行，币萌社群也会及时告知空投币到账情况，长期未到账可联络电报群管理员；
7. 等待空投时不需要在钱包里添加空投币种，到账了就直接显示了；

8. 加入空投情报 QQ 群和电报空投频道，收取情报更及时.



由于非小号上部分平台价格显示与平台本身人民币估价有所不同，所以以下价格数据来源于  各个平台官网。

币安：BTC/USDT $12,186.35 | ￥77,884.18

Gate：BTC/USDT $12,159.45 | ￥86,332.10

ZB 中币：BTC/USDT $12,730.01 | ￥85,291.06

Bithumb：BTC/KRW ₩14,820,475.8 | ¥88,940

一、币安 & Gate

首先，上文数据中币安、Gate、ZB 都是以 USDT 作为交易货币，其中币安和 Gate 购买 BTC 所需的 USDT 数量差别很小，但在人民币估值上却差别很大。

之前的教程里曾经讲到过泰达币 (USDT)是一个号称与美元汇率一致的虚拟币，但在你购买 USDT 时有溢价，一般要超过美元对人民币 6.x 元的汇率，而是要 7 元人民币以上才能买到一个。

不了解的朋友的可以到下方链接中的交易入门知识部分温习一下：

Gate.io、币安交易平台充值 交易 提现完全教程

币安和 Gate 的 BTC 之所以 USDT 价格类似、人民币价格差异大，问题就出在 USDT 的价值上，币安没有自家的场外交易平台，所以一切人民币估价均按照 USDT=美元的价值来估算，而 Gate 是按照自家场外交易平台当前 USDT 的价格来估算的，如下面数据所示：

币安：77,884.18/12,186.35≈6.39

Gate：86,332.10/12,159.45≈7.10

由此可以看出，虽然币安看似人民币估价便宜，但两者使用 USDT 购买 BTC 的价格都仅差不到 30 个 USDT，差价仅在 2‰，想着搬砖赚钱是不可能的了，毕竟你在国内买不到与美元汇率一致的 USDT。

另外，币安的帐户总资产估值也是根据 USDT=美元的价值来估算的，所以你买了 1000 元人民币任意虚拟币转入到币安之后，除去手续费不计，其估值就会小于 1000 元人民币。如果你想要了解你在币安里的所有资产真正的人民币估值的话，可以套用下方这个公式：

币安总估值人民币*（Gate 中 USDT 价格/美元当前汇率）≈币安总资产折合人民币价值

这个公式也可以套用在计算币安上某个币种的当前人民币价值上：

币安上该币种人民币估价*（Gate 中 USDT 价格/美元当前汇率）≈该币种在币安真正的人民币估价

二、Gate & ZB

从上文的数据中可以看出，ZB 中币和 Gate 的 BTC 虽然在人民币估值上差价不足 1%，但在 USDT 差价上却差了近 600 个。问题同样出在 USDT 上。

这两家平台都拥有自家的场外交易平台，但 ZB 这个平台奇葩的地方在于，它家的 USDT 很便宜，计算结果如下：

ZB 中币：85,291.06/12,730.01≈6.7

很多人看到这里的想法是，遇到这么便宜的 USDT 还不买买买？其实便宜归便宜，ZB 的 USDT 其实没啥卵用，因为买了之后只能在 ZB 使用，不可以转出，完全可以认为这是 ZB 自家的平台币，不要把这货当成真正的 USDT。所以算下来两个平台买 BTC 所需人民币都差不多。（2018 年 3 月更新：目前 ZB 的 USDT 支持转出了）

三、Bithumb

Bithumb是一个韩国的大型交易所，使用韩元 (KRW) 交易 BTC 的确存在较高的溢价，但由于目前韩国的政策原因，所以非韩国居民是不可以在 Bithumb 上交易的，所以在韩国本土没有亲戚朋友的话，就不用想着搬砖到 Bithumb 赚钱了。

综上所述，一般情况下，各平台同一币种的人民币购买成本差别还是比较小的，大家在日常购买主流虚拟币的时候，无需费时费力综合对比各个平台间的差价，直接在大平台购买，一般不会出错。


一、CeFi 与 DeFi
谈 DeFi 之前先说一下它的对立面 CeFi。

CeFi 是指现行的 「中心化金融」，即存在 「中间机构」的金融体系。例如转账需要通过银行，贷款需要通过借贷机构，炒币需要通过币安、火币等 CEX（中心化交易所）等，这些金融活动都要依靠中间机构来维护安全。

CeFi 的缺点是，一旦中间机构出现问题，用户的利益就很有可能受损，比如服务器宕机、银行倒闭、交易所跑路等。

[币萌] 一文读懂DeFi及七大热门项目 DAI/COMP/LEND/Uniswap/SUSHI/CRV/YFI
DeFi 与之相反，是指以区块链为核心的 「去中心化金融」，即不存在 「中间机构」的金融体系，由协议和智能合约来代替中间机构的职能。例如只需要通过钱包就能实现点对点数字货币转账，抵押数字货币就能自动进行贷款和还款，在 DEX（去中心化交易所）可以不受交易所管控、完全掌握自己的数字资产等。

DeFi 的优点是，杜绝了中间机构作恶的可能，理论上更加安全。

DeFi 的概念由 Brendan Forster 在 2018 年提出，当时还抛出了 DeFi 应用的三大属性：运行在公链上、代码开源、金融类应用。其实这个概念是非常宽泛的，BTC 的发行可以算作是 DeFi 的第一次应用，除了数字货币发行外，基于区块链和智能合约的资产交易、借贷、投融资等都可以视作 DeFi 产业，以后还有可能引入现实世界中的资产，比如将不动产上链等。

上述仅对 DeFi 做一个简单的介绍，后续有机会币萌君可能会为大家解读更多关于 DeFi 的知识点。大家在此能有一个基础的认知就好，毕竟 DeFi 的概念还是很简单的，复杂的是这些 DeFi 项目的玩法。

下面开始讲项目。

二、去中心化借贷
① MakerDAO

代币：DAI/MKR

亮点：去中心化稳定币+借贷

官网：makerdao.com/

DeFi 市场中第一个现象级的应用是 MakerDAO，长期霸占 DeFi 锁仓市值榜前三甲。

MakerDAO 是一个借贷类的产品，采取超额抵押生成稳定币的方式运行。具体原理为：用户抵押 ETH（或 USDC、BAT、KNC 等其他代币）以生成稳定币 DAI（1DAI=$1），相当于使用数字货币贷款，还款的时候还入 DAI 和利息。假如你持有大量 ETH，长期看涨却又急需用钱，那么可以使用 MakerDAO，在不出售 ETH 的同时获得稳定币贷款。

[币萌] 一文读懂DeFi及七大热门项目 DAI/COMP/LEND/Uniswap/SUSHI/CRV/YFI
现实世界中的抵押贷款往往是抵押的不动产，本身价值比较稳定，但数字货币市场大涨大跌，万一 ETH 等抵押品下跌导致资不抵债怎么办？

这里就体现出了 DAI 超额抵押的好处，在生成 DAI 是需要抵押高于其价值的抵押品，例如抵押价值 $200 的 ETH 生成价值 $100 的 DAI，理论上只要 ETH 价格不腰斩，就不会出现坏账。另外，DAI 中还有一个 「清算线」的概念，当抵押品价值下跌导致「抵押品价值/借出 DAI 价值」低于清算线时，将触发强制清算，对用户的抵押品进行拍卖，以偿还之前借出的 DAI。每种抵押品的清算线不同，例如 ETH 为 150%，即抵押的 ETH 价值低于所借 DAI 价值的 1.5 倍时就会触发清算。

其实总体来说，DAI 和 USDT 稳定币的生成方式是类似的，都是抵押资产生成稳定币，区别在于 USDT 由中心化的 Tether 公司管理，公司是否真的抵押了足额的抵押品大家无法得知，如果只抵押了 10 亿美元的抵押品，却发行了 100 亿美元的 USDT，那么万一遇到挤兑，Tether 公司是不能做到 1:1 赔付的。而 DAI 的抵押、生成、清算等一切操作则是通过智能合约执行，所有人都能在链上查看抵押情况，完全审计透明，这就是 DeFi 的优势。

MakerDAO 以及其他 DeFi 项目的另一大特色就是去中心化治理，其可以理解为「民主」，持有「治理代币」相当于持有项目的股权或者选票，来参与项目的重要决策。MakerDAO 采用双币制，DAI 为稳定币，MKR 为治理代币，持有 MKR 可以参与 MakerDAO 的去中心化治理，治理内容包含增加抵押品种类、修改已有抵押债仓种类、修改债务上限和清算比例等关键参数。

② Compound

代币：COMP

亮点：流动性挖矿+借贷

官网：compound.finance/

Compound 同属借贷平台，与 MakerDAO 不同的是，其不需要发行稳定币，而是通过借贷共享代币池的模式来维持市场的运转。平台内支持 BAT、DAI、ETH、USDC 等多种数字资产的借贷，每种资产对应一个代币池。

[币萌] 一文读懂DeFi及七大热门项目 DAI/COMP/LEND/Uniswap/SUSHI/CRV/YFI
如上图所示，用户首先需要在「供应市场」抵押数字资产到对应的代币池，得到抵押凭证 cToken，例如抵押 DAI 就获得 cDAI。抵押之后用户才能获得贷款资格，可以进入「借贷市场」的代币池中借入其他资产。就像银行一样，抵押（存款）可获得利息，贷款需支付利息，平台的收益来源于借贷产生的利差。

在借贷操作中，用户的贷款额度将小于抵押价值，这点与 MakerDAO 如出一辙，本质上都是超额抵押。在触及清算线时，同样会清算抵押资产来避免坏账风险。

这里就要讲到一个 「流动性」的概念。代币池里币的流动就代表了流动性，而抵押和贷款的行为都可以视为提供流动性，在这个过程中，会根据你提供的流动性份额来获得平台币 COMP 的奖励，这就是 「流动性挖矿」。

COMP 是 Compound 的治理代币，就像 MKR 之于 MakerDAO，持币可以参与平台的决策（注：下文中含有代币激励的 DeFi 项目基本上都有类似的去中心化治理方案，就不一一说明了）。

COMP 挖矿周期为四年，以太坊每产出一个区块，COMP 发行 0.5 个，每天发行 2880 COMP，其中抵押方和贷款方各获得 50%，依照其所能提供的流动性（抵押和贷款的数额）按市场占比分配。

Compound 的代币池模式相比 MakerDAO 有几点优势：

1. 流动性优势。COMP 的流动性挖矿奖励，本质上是对借贷双方的额外补贴，能让抵押方获得更多收益，贷款方支付更少利息，这不仅对有真实理财、借贷需求的人更友好，也会吸引大量投机者频繁参与挖矿，为代币池注入流动性。

2. 借贷分离。在 MakerDAO 中借贷是捆绑的，抵押和贷款同步产生，而在 Compound，可以只抵押不贷款，抵押本身可以创造收益，实现理财。

3. 借贷方向自由。不同币种的代币池相互分立，用户可以抵押或贷款平台支持的任何资产，更能满足市场多样化的需求。

③ Aave

代币：LEND

亮点：浮动利率借贷+闪电贷

官网：aave.com/

Aave 前身为 P2P 借贷平台 ETHLend，曾于 2017 年通过 ICO 筹集了近 1800 万美元，后续转型为基于代币池的非托管货币市场协议 Aave，今年年初正式上线。其运行模式与 Compound 的代币池类似，但支持的数字资产种类更多元，截至目前，Aave 已支持包含 DAI、TUSD、BUSD、YFI、SNX 在内的 20 种数字资产的借贷。其代币名称为 LEND。

[币萌] 一文读懂DeFi及七大热门项目 DAI/COMP/LEND/Uniswap/SUSHI/CRV/YFI
在 Aave 的借贷操作中有两个明显的创新点。首先是计息代币 aToken，当用户抵押资产进入代币池时，将生成对应数量的 aToken，并在钱包中实时产生利息，可以随时查看余额的增长。另外是利率转换功能，在 Aave 中贷款时，可以选择使用稳定利率或者浮动利率，让用户可以根据市场情况随时调整，以保持最佳利率。比如在利率上行的时候，选择浮动利率，在利率下行的时候，切换为稳定利率。

除此之外，Aave 的大杀器在于 「闪电贷」。

闪电贷原理是在一个区块内（一笔交易内）实现多个智能合约的操作，例如一键完成资金贷款、在 DEX 交易套利、归还资金这一系列操作，从而实现套利，如果没有达到预期的效果，则可以撤回操作。闪电贷不需要抵押，只需要即使还上资金即可，如果没有归还，则交易也会被自动撤回，用户和代币池都没有损失。

闪电贷的思路给交易员们带来了一些操作的空间，即使身为分文，也可以安全的挪用大额资金，在微小的价格差异中进行交易套利。

[币萌] 一文读懂DeFi及七大热门项目 DAI/COMP/LEND/Uniswap/SUSHI/CRV/YFI
三、DEX 和聚合器
在进入正题前，我们先来理解 DEX 的原理，并回溯一下比较早期的 DEX 产品。

DEX（去中心化交易所）是相对于 CEX（中心化交易所）的概念而衍生的，我们平时炒币的场所——例如币安、火币等都属于 CEX，需要创建帐户、进行 KYC，然后把资金存在 CEX 中进行交易，提出资金时需要向 CEX 申请。在这个过程中，我们买入或卖出数字资产只相当于帐户中数字的变动，比如你用 400 USDT 买了 1 ETH，那 CEX 就会在你的帐户中减去 400 USDT，加上 1 ETH。这些资金是在 CEX 内部流转的，只有在你把资产提出到自己的钱包时才会上链，才算是真正的属于你。

CEX 的问题在于，其本质上是一个中心化的公司，我们存在里面的资金都由这家公司托管，如果其出现侵吞用户资金甚至跑路的作恶行为，我们将蒙受损失。除此之外，CEX 被盗、插针、数据砸盘等行为也层出不穷。

[币萌] 一文读懂DeFi及七大热门项目 DAI/COMP/LEND/Uniswap/SUSHI/CRV/YFI
既然区块链的核心在于去中心化，那么作为区块链基础设施的交易所也理应走向去中心化。

早期 DEX 的思路比较简单，相当于是对 CEX 的去中心化复刻。首先，不需要创建帐户和 KYC，而是使用私钥将自己的钱包授权给交易所，直接使用钱包内的资产进行交易。套用上面的例子，你用 400 USDT 买了 1 ETH，那么就会在你的钱包里扣除 400 USDT 转给你的交易对手，并在交易对手的钱包扣除 1 ETH 转给你。整个过程没有中间商干涉，交易等同于钱包之间的转账，这就避免了交易所作恶的可能。

这种解决方案在交易体验上还是存在很大问题的。

1. 使用门槛。大家已经习惯了 CEX 的操作逻辑，接触 DEX 还是有一定门槛的，CEX 中有客服可以随时答疑解惑，DEX 基本靠自己摸索，而且一不小心操作失误就有可能导致资产的永久丢失，对于新手来说较难适应。

2. 币种局限。DEX 相当于钱包之间的交易，也就意味着其需要搭建在某一条公链上，支持的币种也就局限于这条公链中的资产，虽然可以依靠跨链铸币解决一些问题（相关知识可以参考之前推送的跨链文章），但币种的丰富度还是远远低于 CEX。

3. 高费低效。CEX 由于依靠中心化的服务器运行，交易不用上链，所以交易效率高，而且手续费低，一般能做到 0.1% 甚至更低。而 DEX 的交易都在链上运行，所以不可避免的要承受很慢的交易速度（区块确认速度），以及交易手续费之外的 gas（矿工费），尤其是最热门的以太坊公链，一笔交易经常十几分钟才能完成，gas 费高的时候能达到一笔上百元人民币，挂单、撤单、交易这些操作都各自算作一次交易，这对于普通炒币者来说完全顶不住。由于这种技术限制，CEX 上能够完美支持的合约、期权等衍生品，在 DEX 上也很难实现。

针对高费低效的问题，早期 DEX 的解决方案主要为两种：链下撮合+链上清算的半中心化模式，以及采用 EOS、Stellar 等相对高效低费的公链搭建 DEX。前者只是过渡产品，看似能平衡交易体验和效率问题，但其实两个问题都没解决；后者虽然体验更好，但奈何其他公链上的优质资产实在太少，完全比不过老大哥以太坊。

由于上面的几个问题，DEX 在与 CEX 的比拼中一直落于下风，毕竟体验差劲的 DEX 没有选择的必要性。

今年的 DEX，虽然有了一些创新点，但对于上述问题还是没有合适的解决方案，其爆火的原因并不是 DEX 的实用性增加，而是由于套上了 「流动性挖矿」这层「模式」。下文一一阐述。

④ Uniswap

代币：暂无（更新：目前已发行治理代币 UNI）

亮点：DEX+流动性挖矿

官网：uniswap.org/

Uniswap 是一个基于代币池和流动性挖矿的 DEX，代币池和前文所述的 Compound 差不多，不过 Uniswap 作为一个交易所，支持币种和代币池的数量理论上是无限多的。所谓流动性挖矿就是往这些代币池里注入资金，以获得平台交易手续费的分配。

[币萌] 一文读懂DeFi及七大热门项目 DAI/COMP/LEND/Uniswap/SUSHI/CRV/YFI
具体原理为，参加 Uniswap 流动性挖矿的矿工（流动性提供者 LP），要按照 1:1 的价值比例往对应代币池中存入两种代币（注入流动性），例如要参与 USDT/DAI 交易对的挖矿，当前 1 ETH = 400 DAI，则要分别往两个代币池中注入 ETH 和 400 倍数量的 DAI。后续这个交易对产生的手续费，会按照矿工注入流动性的份额进行分配，另外，注入流动性时会发放一个 LP Token，可以理解为凭证，不同交易对的 LP Token 也不同，当提出资金（提出流动性）时，本金和收益会发放到钱包，LP Token 也随之销毁。

[币萌] 一文读懂DeFi及七大热门项目 DAI/COMP/LEND/Uniswap/SUSHI/CRV/YFI
Uniswap 与传统 DEX 的不同之处在于，不是为用户提供一对一的撮合交易，而是根据代币池内的资产数额以及一个简单的公式 「X*Y=K」来自动计算价格。下面举例说明。

公式中 X、Y 是指两个代币池里各自的代币数量，K 是乘积，在每笔交易中相对恒定。

以 USDT/DAI 交易对为例，假如现在两个代币池有 2 ETH 和 800 DAI，则 K=2*800=1600；

如果你要使用 100 DAI 购买 ETH，发送 100 DAI 到代币池中，其中 0.3% 会扣除作为手续费，所以实际到代币池中的数量为 100*(100%-0.3%)=99.7 DAI；

此时 DAI 代币池总量为 800+99.7=899.7 DAI；

依照公式可以反推出 ETH 代币池的数量应该为 1600/899.7≈1.78 ETH；

则你可以获得的 ETH 为 2-1.78=0.22 ETH。

当这笔交易完成后，交易中扣除的 0.3 DAI 的手续费会返回到 DAI 代币池中，并形成新的 K 值以应对下一次交易，K 值会随着交易笔数的增加而慢慢提高。

此时 DAI 代币池总量为 899.7+0.3=900 DAI；

ETH 代币池总量为 1.78 ETH；

则新的 K 值为 900*1.78=1602。

以上就是最简单的应用。还有一种情况，假如你想要进行交易的币种之间没有相互对应的代币池，例如想要用 DAI 买一个 XXX 币，这时系统将自动用 DAI 兑换 ETH，再用 ETH 兑换 XXX 交付给你。但是如果 XXX 在 Uniswap 上连代币池都没有，也就是没有流动性，这样则是无法交易的。

从上面的例子可以看出，Uniswap 是根据代币池的供需关系来自动定价的，这就带来了两个问题：

1. 缺少价格发现功能：当 CEX 中某个币种的币价剧烈波动时，Uniswap 的反应会有延迟，此时要依靠套利者来扳平与 CEX 之间的差价。比如 ETH 价格瞬间腰斩，从 400 DAI 跌到 200 DAI，Uniswap 中不能指定价格挂单买卖，只能靠套利者不断卖出 ETH 才能把价格砸下来。

2. 对大资金不友好：按照上面例子中的数据，假如代币池中只有 2 ETH，你想要买走一半，那根据公式就会把成交均价拉得比市场价高，反之，如果你卖出大量 ETH，也会把均价拉低，这部分损失的费用在 Uniswap 等 DEX 中被称为「滑点」，滑点越高，差价越大。解决这个问题的方法也很简单，只要有足够多的矿工为代币池注入足够多的流动性即可，就和 CEX 中常说的增加「交易深度」类似，目前 Uniswap 的滑点已经非常低了，一些热门交易对的滑点已经降到了 0.01%。

[币萌] 一文读懂DeFi及七大热门项目 DAI/COMP/LEND/Uniswap/SUSHI/CRV/YFI
Uniswap 的这套模式被称作 AMM（自动做市商），也就是通过智能合约的管理，所有矿工一起参与做市，维护流动性和交易深度，目前几个热门 DEX 都是采用的 AMM 模式。

⑤ Sushiswap

代币：SUSHI

亮点：DEX+流动性挖矿+代币激励

官网：sushiswap.org/

Uniswap 目前已是 DEX 中的王者，但还是给市场留下了一个空白——代币激励模型。

Uniswap 的流动性挖矿收益完全来自于 0.3% 的手续费，与平台交易额和代币池总量相关。对于付出了更多努力、承担了更多风险的早期矿工来说，在 Uniswap 是没办法获得成长性的收益的。另外，随着 Uniswap 的发展，早期矿工的份额还会被后入场的用户、机构所稀释。当 Uniswap 交易额的增速抵不过代币池增速时，矿工的收入必然衰减。

这对于其他的 DEX 竞品来说，引入代币激励模型就是对 Uniswap 弯道超车最好的机会，其中最成功的就是 Sushiswap（寿司）。

[币萌] 一文读懂DeFi及七大热门项目 DAI/COMP/LEND/Uniswap/SUSHI/CRV/YFI
Sushiswap 的核心交易机制和 Uniswap 类似，区别在于引入了 SUSHI 代币，其跟随以太坊区块产出，总量无上限，前 10 万个区块中每个区块释放 1000 SUSHI，后续每个区块释放 100 SUSHI，以流动性挖矿的方式分发。矿工为代币池注入流动性后，不仅可以根据份额占比获得手续费收益，还能获得 SUSHI 代币奖励。

Sushiswap 的交易手续费同样为 0.3%，但分成了两部分，0.25% 分配给矿工，0.05% 用于回购 SUSHI，并给所有 SUSHI 的持币者分红，听起来玩法是不是有点像 2018 年的 「交易即挖矿」？

Sushiswap 为了在 Uniswap 这个顶级流量中拉拢用户，还采取了一个很骚的操作——先上线 SUSHI 挖矿，后上线 DEX 功能。SUSHI 前 10 万个区块的挖矿仅为 Uniswap 中的矿工提供机会。

前文提到，在 Uniswap 中注入流动性会获得对应交易对的 LP Token 作为凭证，Sushiswap 就是在 LP Token 上做了文章。矿工将 Uniswap 的 LP Token 质押到 Sushiswap 就可以获得 SUSHI 的挖矿奖励，支持 USDC/ETH、DAI/ETH、SUSHI/ETH 等 13 个指定代币池的 LP Token。

这对于参与 Uniswap 流动性挖矿的矿工来说，相当于在 Uniswap 的收益之外，凭空多出了一份 SUSHI 的空投，而且还是产量放大 10 倍的头矿，矿工们当然愿意把自己的 LP Token 都往 Sushiswap 中质押。

在 10 万个区块（约两周）后，Sushiswap 会把这 13 个代币池往自家迁移，届时 Sushiswap 的 DEX 本体才算正式上线，才能真正的在 Sushiswap 中进行挖矿和交易。

Sushiswap 的行为完全是在别人的地盘上给自己拉用户，用额外的奖励吸引矿工的目光。在未来迁移之后，Uniswap 的矿工多半也会转移阵线到 Sushiswap，直接把 Uniswap 的流动性掏空。

这种套路被疯狂模仿，KIMCHI（泡菜）、NOODLE（面条）等一大批「美食」仿盘快速出现，然后快速崩盘，长则一天，短则几小时。

Sushiswap 最大的不稳定因素在于 SUSHI 代币的线性无限增发，如果 Sushiswap 在迁移之后交易额不能持续上涨，分红不能持续增加，那么随着时间推移，无限增发的 SUSHI 代币的价值必然下跌。

⑥ Curve

代币：CRV

亮点：稳定币 DEX+流动性挖矿+聚合收益

官网：curve.fi/

Curve 也是一个基于 AMM 的 DEX，不过主要面向的是稳定资产交易，支持多种主流稳定币及 renBTC、wBTC 等 BTC 锚定币，低滑点、低手续费。最大的优势在于聚合收益。

矿工在 Curve 的收益比较多元，包括交易手续费抽成、额外的利息、代币奖励（平台治理代币 CRV 或其他代币）等，每个代币池的收益不同，如下图所示。

[币萌] 一文读懂DeFi及七大热门项目 DAI/COMP/LEND/Uniswap/SUSHI/CRV/YFI
Curve 的交易手续费很低，仅为 0.04%，手续费和 CRV 奖励和前面的 DEX 一样，都是分给提供流动性的矿工。额外的利息来自于借贷协议或借贷聚合商，例如上文所提到的 Compound，用户存入 DAI 或 USDC 到 Curve 的 Compound 池，系统将自动把资金放入 Compound 生息，转化为抵押凭证 cDAI 或 cUSDC，用户相当于可以同时获得 Curve 和 Compound 的收益。上图中 Y 池是指存入 Yearn 生息，原理与 Compound 池类似，下文将会提及。

⑦ Yearn

代币：YFI

亮点：理财聚合器

官网：yearn.finance/

Yearn.finance 前身为 iearn.finance，是一个支持多种 DeFi 协议的稳定资产聚合理财平台，会在协议间自动移仓以帮助储户获取最高的理财收益。平台聚合了 Compound、dYdX、Aave、DDEX 协议，用户抵押到 Yearn 时，平台会将资金自动分配至目前收益最高的协议下，并生成抵押凭证 yToken（如 yDAI、yUSDC 等），用户可以通过 yToken 取出本金及收益。相当于一个全自动的理财经理。

除此之外，Yearn 还有一个产品是 Vaults（机枪池），用户存入资金后，系统会自动使用相关策略来为用户博得理财收益。比如 Yearn 与 Curve 合作推出的 Y 池（参照上节），持有 yToken 的用户可以在 Yearn 获得理财收益的同时，放入 Curve 的 Y 池获得流动性奖励，并挖到的 CRV 再次放入 Yearn 进行理财。





